/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.values(envPathObject).map((paths) => paths.path);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const chunkArray = (array, chunkSize) => {        const chunks = [];        for (let i = 0; i < array.length; i += chunkSize) {            chunks.push(array.slice(i, i + chunkSize));        }        return chunks;    };    const resolveSecrets = async (paths) => {        const response = (await Promise.all(chunkArray(paths, 10).map(async (chunkedPaths) => await actualSsmClient.getParameters({            Names: chunkedPaths,            WithDecryption: true,        })))).reduce((accumulator, res) => {            accumulator.Parameters?.push(...(res.Parameters ?? []));            accumulator.InvalidParameters?.push(...(res.InvalidParameters ?? []));            return accumulator;        }, {            Parameters: [],            InvalidParameters: [],        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name ||                        envPathObject[key].path === parameter.Name);                    if (envKey) {                        process.env[envKey] = parameter.Value;                    }                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => Object.values(envPathObject).find((paths) => paths.path === invalidParam)?.sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(async () => {    try {        await internalAmplifyFunctionResolveSsmParams();    }    catch (error) {        try {                        console.debug(error);                    }        catch {                    }    }}, SSM_PARAMETER_REFRESH_MS);export {};
var RM=Object.create;var qo=Object.defineProperty;var _M=Object.getOwnPropertyDescriptor;var CM=Object.getOwnPropertyNames;var wM=Object.getPrototypeOf,bM=Object.prototype.hasOwnProperty;var ee=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var C=(e,t)=>()=>(e&&(t=e(e=0)),t);var N=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ut=(e,t)=>{for(var r in t)qo(e,r,{get:t[r],enumerable:!0})},LS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of CM(t))!bM.call(e,s)&&s!==r&&qo(e,s,{get:()=>t[s],enumerable:!(n=_M(t,s))||n.enumerable});return e};var b=(e,t,r)=>(r=e!=null?RM(wM(e)):{},LS(t||!e||!e.__esModule?qo(r,"default",{value:e,enumerable:!0}):r,e)),ie=e=>LS(qo({},"__esModule",{value:!0}),e);import{createRequire as TM}from"node:module";import vM from"node:path";import xM from"node:url";var c=C(()=>{global.require=TM(import.meta.url);global.__filename=xM.fileURLToPath(import.meta.url);global.__dirname=vM.dirname(__filename)});var Dr=N(Ce=>{"use strict";c();Ce.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Ce.HttpAuthLocation||(Ce.HttpAuthLocation={}));Ce.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Ce.HttpApiKeyAuthLocation||(Ce.HttpApiKeyAuthLocation={}));Ce.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(Ce.EndpointURLScheme||(Ce.EndpointURLScheme={}));Ce.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Ce.AlgorithmId||(Ce.AlgorithmId={}));var AM=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>Ce.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>Ce.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},IM=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},PM=e=>AM(e),DM=e=>IM(e);Ce.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Ce.FieldPosition||(Ce.FieldPosition={}));var NM="__smithy_context";Ce.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Ce.IniSectionType||(Ce.IniSectionType={}));Ce.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Ce.RequestHandlerProtocol||(Ce.RequestHandlerProtocol={}));Ce.SMITHY_CONTEXT_KEY=NM;Ce.getDefaultClientConfiguration=PM;Ce.resolveDefaultRuntimeConfig=DM});var Re=N(Nr=>{"use strict";c();var OM=Dr(),$M=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),kM=e=>({httpHandler:e.httpHandler()}),xp=class{name;kind;values;constructor({name:t,kind:r=OM.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},Ap=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},Ip=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=MM(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function MM(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var Pp=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function FM(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Nr.Field=xp;Nr.Fields=Ap;Nr.HttpRequest=Ip;Nr.HttpResponse=Pp;Nr.getHttpHandlerExtensionConfiguration=$M;Nr.isValidHostname=FM;Nr.resolveHttpHandlerRuntimeConfig=kM});var es=N(ii=>{"use strict";c();var LM=Re();function UM(e){return e}var US=e=>t=>async r=>{if(!LM.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},qS={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},qM=e=>({applyToStack:t=>{t.add(US(e),qS)}});ii.getHostHeaderPlugin=qM;ii.hostHeaderMiddleware=US;ii.hostHeaderMiddlewareOptions=qS;ii.resolveHostHeaderConfig=UM});var ts=N(Ho=>{"use strict";c();var HS=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:u}=a,g=l??t.inputFilterSensitiveLog,m=u??t.outputFilterSensitiveLog,{$metadata:y,...E}=n.output;return o?.info?.({clientName:s,commandName:i,input:g(r.input),output:m(E),metadata:y}),n}catch(n){let{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:l}=a,u=l??t.inputFilterSensitiveLog;throw o?.error?.({clientName:s,commandName:i,input:u(r.input),error:n,metadata:n.$metadata}),n}},BS={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},HM=e=>({applyToStack:t=>{t.add(HS(),BS)}});Ho.getLoggerPlugin=HM;Ho.loggerMiddleware=HS;Ho.loggerMiddlewareOptions=BS});var jS={};ut(jS,{InvokeStore:()=>$p,InvokeStoreBase:()=>ai});var oi,Dp,ai,Np,Op,$p,VS=C(()=>{c();oi={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},Dp=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");Dp||(globalThis.awslambda=globalThis.awslambda||{});ai=class{static PROTECTED_KEYS=oi;isProtectedKey(t){return Object.values(oi).includes(t)}getRequestId(){return this.get(oi.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(oi.X_RAY_TRACE_ID)}getTenantId(){return this.get(oi.TENANT_ID)}},Np=class extends ai{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(t){return this.currentContext?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);this.currentContext=this.currentContext||{},this.currentContext[t]=r}run(t,r){return this.currentContext=t,r()}},Op=class e extends ai{als;static async create(){let t=new e,r=await import("node:async_hooks");return t.als=new r.AsyncLocalStorage,t}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(t){return this.als.getStore()?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);let n=this.als.getStore();if(!n)throw new Error("No context available");n[t]=r}run(t,r){return this.als.run(t,r)}};(function(e){let t=null;async function r(){return t||(t=(async()=>{let s="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await Op.create():new Np;return!Dp&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!Dp&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=s),s)})()),t}e.getInstanceAsync=r,e._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{t=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={InvokeStore:void 0}}}:void 0})($p||($p={}))});var zS=N(Bo=>{"use strict";c();Object.defineProperty(Bo,"__esModule",{value:!0});Bo.recursionDetectionMiddleware=void 0;var BM=(VS(),ie(jS)),jM=Re(),kp="X-Amzn-Trace-Id",VM="AWS_LAMBDA_FUNCTION_NAME",zM="_X_AMZN_TRACE_ID",GM=()=>e=>async t=>{let{request:r}=t;if(!jM.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(g=>g.toLowerCase()===kp.toLowerCase())??kp;if(r.headers.hasOwnProperty(n))return e(t);let s=process.env[VM],i=process.env[zM],l=(await BM.InvokeStore.getInstanceAsync())?.getXRayTraceId()??i,u=g=>typeof g=="string"&&g.length>0;return u(s)&&u(l)&&(r.headers[kp]=l),e({...t,request:r})};Bo.recursionDetectionMiddleware=GM});var rs=N(jo=>{"use strict";c();var Mp=zS(),WM={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},KM=e=>({applyToStack:t=>{t.add(Mp.recursionDetectionMiddleware(),WM)}});jo.getRecursionDetectionPlugin=KM;Object.keys(Mp).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(jo,e)&&Object.defineProperty(jo,e,{enumerable:!0,get:function(){return Mp[e]}})})});var Fp,YM,GS=C(()=>{c();Fp=b(Dr()),YM=e=>e[Fp.SMITHY_CONTEXT_KEY]||(e[Fp.SMITHY_CONTEXT_KEY]={})});var Ze=N(Lp=>{"use strict";c();var WS=Dr(),XM=e=>e[WS.SMITHY_CONTEXT_KEY]||(e[WS.SMITHY_CONTEXT_KEY]={}),QM=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};Lp.getSmithyContext=XM;Lp.normalizeProvider=QM});var KS,YS=C(()=>{c();KS=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function JM(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var XS,ci,Vo=C(()=>{c();XS=b(Ze());YS();ci=(e,t)=>(r,n)=>async s=>{let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),o=e.authSchemePreference?await e.authSchemePreference():[],a=KS(i,o),l=JM(e.httpAuthSchemes),u=(0,XS.getSmithyContext)(n),g=[];for(let m of a){let y=l.get(m.schemeId);if(!y){g.push(`HttpAuthScheme \`${m.schemeId}\` was not enabled for this service.`);continue}let E=y.identityProvider(await t.identityProviderConfigProvider(e));if(!E){g.push(`HttpAuthScheme \`${m.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:R={},signingProperties:v={}}=m.propertiesExtractor?.(e,n)||{};m.identityProperties=Object.assign(m.identityProperties||{},R),m.signingProperties=Object.assign(m.signingProperties||{},v),u.selectedHttpAuthScheme={httpAuthOption:m,identity:await E(m.identityProperties),signer:y.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(g.join(`
`));return r(s)}});var QS,_n,JS=C(()=>{c();Vo();QS={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},_n=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ci(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),QS)}})});var qp=N(ns=>{"use strict";c();var ZM=Re(),ZS=(e,t)=>(r,n)=>async s=>{let{response:i}=await r(s);try{let o=await t(i,e);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(ZM.HttpResponse.isInstance(i)){let{headers:l={}}=i,u=Object.entries(l);o.$metadata={httpStatusCode:i.statusCode,requestId:Up(/^x-[\w-]+-request-?id$/,u),extendedRequestId:Up(/^x-[\w-]+-id-2$/,u),cfId:Up(/^x-[\w-]+-cf-id$/,u)}}}catch{}}throw o}},Up=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],eE=(e,t)=>(r,n)=>async s=>{let i=e,o=n.endpointV2?.url&&i.urlParser?async()=>i.urlParser(n.endpointV2.url):i.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:o});return r({...s,request:a})},tE={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},rE={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function eF(e,t,r){return{applyToStack:n=>{n.add(ZS(e,r),tE),n.add(eE(e,t),rE)}}}ns.deserializerMiddleware=ZS;ns.deserializerMiddlewareOption=tE;ns.getSerdePlugin=eF;ns.serializerMiddleware=eE;ns.serializerMiddlewareOption=rE});var nE,sE,tF,iE=C(()=>{c();nE=b(qp());Vo();sE={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:nE.serializerMiddlewareOption.name},tF=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ci(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),sE)}})});var oE=C(()=>{c();Vo();JS();iE()});var aE,cE,rF,nF,Hp,Bp=C(()=>{c();aE=b(Re()),cE=b(Ze()),rF=e=>t=>{throw t},nF=(e,t)=>{},Hp=e=>(t,r)=>async n=>{if(!aE.HttpRequest.isInstance(n.request))return t(n);let i=(0,cE.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:l}=i,u=await t({...n,request:await l.sign(n.request,a,o)}).catch((l.errorHandler||rF)(o));return(l.successHandler||nF)(u.response,o),u}});var lE,Cn,uE=C(()=>{c();Bp();lE={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Cn=e=>({applyToStack:t=>{t.addRelativeTo(Hp(e),lE)}})});var dE=C(()=>{c();Bp();uE()});var Or,pE=C(()=>{c();Or=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function fE(e,t,r,n,s){return async function*(o,a,...l){let u=a,g=o.startingToken??u[r],m=!0,y;for(;m;){if(u[r]=g,s&&(u[s]=u[s]??o.pageSize),o.client instanceof e)y=await sF(t,o.client,a,o.withCommand,...l);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield y;let E=g;g=iF(y,n),m=!!(g&&(!o.stopOnSameToken||g!==E))}return void 0}}var sF,iF,mE=C(()=>{c();sF=async(e,t,r,n=i=>i,...s)=>{let i=new e(r);return i=n(i)??i,await t.send(i,...s)};iF=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var jp=N(hE=>{"use strict";c();var oF=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";hE.isArrayBuffer=oF});var ss=N(zp=>{"use strict";c();var aF=jp(),Vp=ee("buffer"),cF=(e,t=0,r=e.byteLength-t)=>{if(!aF.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Vp.Buffer.from(e,t,r)},lF=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Vp.Buffer.from(e,t):Vp.Buffer.from(e)};zp.fromArrayBuffer=cF;zp.fromString=lF});var gE=N(zo=>{"use strict";c();Object.defineProperty(zo,"__esModule",{value:!0});zo.fromBase64=void 0;var uF=ss(),dF=/^[A-Za-z0-9+/]*={0,2}$/,pF=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!dF.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,uF.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};zo.fromBase64=pF});var ke=N(Go=>{"use strict";c();var SE=ss(),EE=e=>{let t=SE.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},fF=e=>typeof e=="string"?EE(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),mF=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return SE.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};Go.fromUtf8=EE;Go.toUint8Array=fF;Go.toUtf8=mF});var yE=N(Wo=>{"use strict";c();Object.defineProperty(Wo,"__esModule",{value:!0});Wo.toBase64=void 0;var hF=ss(),gF=ke(),SF=e=>{let t;if(typeof e=="string"?t=(0,gF.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,hF.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Wo.toBase64=SF});var Me=N(li=>{"use strict";c();var RE=gE(),_E=yE();Object.keys(RE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(li,e)&&Object.defineProperty(li,e,{enumerable:!0,get:function(){return RE[e]}})});Object.keys(_E).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(li,e)&&Object.defineProperty(li,e,{enumerable:!0,get:function(){return _E[e]}})})});var Wp=N(Ko=>{"use strict";c();Object.defineProperty(Ko,"__esModule",{value:!0});Ko.ChecksumStream=void 0;var EF=Me(),yF=ee("stream"),Gp=class extends yF.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:i}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=i??EF.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Ko.ChecksumStream=Gp});var ur=N(is=>{"use strict";c();Object.defineProperty(is,"__esModule",{value:!0});is.isBlob=is.isReadableStream=void 0;var RF=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);is.isReadableStream=RF;var _F=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);is.isBlob=_F});var CE=N(Yo=>{"use strict";c();Object.defineProperty(Yo,"__esModule",{value:!0});Yo.ChecksumStream=void 0;var CF=typeof ReadableStream=="function"?ReadableStream:function(){},Kp=class extends CF{};Yo.ChecksumStream=Kp});var wE=N(Xo=>{"use strict";c();Object.defineProperty(Xo,"__esModule",{value:!0});Xo.createChecksumStream=void 0;var wF=Me(),bF=ur(),TF=CE(),vF=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{if(!(0,bF.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let i=s??wF.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let o=new TransformStream({start(){},async transform(l,u){t.update(l),u.enqueue(l)},async flush(l){let u=await t.digest(),g=i(u);if(e!==g){let m=new Error(`Checksum mismatch: expected "${e}" but received "${g}" in response header "${n}".`);l.error(m)}else l.terminate()}});r.pipeThrough(o);let a=o.readable;return Object.setPrototypeOf(a,TF.ChecksumStream.prototype),a};Xo.createChecksumStream=vF});var bE=N(Yp=>{"use strict";c();Object.defineProperty(Yp,"__esModule",{value:!0});Yp.createChecksumStream=PF;var xF=ur(),AF=Wp(),IF=wE();function PF(e){return typeof ReadableStream=="function"&&(0,xF.isReadableStream)(e.source)?(0,IF.createChecksumStream)(e):new AF.ChecksumStream(e)}});var Qp=N(Qo=>{"use strict";c();Object.defineProperty(Qo,"__esModule",{value:!0});Qo.ByteArrayCollector=void 0;var Xp=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};Qo.ByteArrayCollector=Xp});var AE=N(dr=>{"use strict";c();Object.defineProperty(dr,"__esModule",{value:!0});dr.createBufferedReadable=void 0;dr.createBufferedReadableStream=TE;dr.merge=vE;dr.flush=Jo;dr.sizeOf=os;dr.modeOf=xE;var DF=Qp();function TE(e,t,r){let n=e.getReader(),s=!1,i=0,o=["",new DF.ByteArrayCollector(u=>new Uint8Array(u))],a=-1,l=async u=>{let{value:g,done:m}=await n.read(),y=g;if(m){if(a!==-1){let E=Jo(o,a);os(E)>0&&u.enqueue(E)}u.close()}else{let E=xE(y,!1);if(a!==E&&(a>=0&&u.enqueue(Jo(o,a)),a=E),a===-1){u.enqueue(y);return}let R=os(y);i+=R;let v=os(o[a]);if(R>=t&&v===0)u.enqueue(y);else{let A=vE(o,a,y);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${R} is below threshold of ${t}, automatically buffering.`)),A>=t?u.enqueue(Jo(o,a)):await l(u)}}};return new ReadableStream({pull:l})}dr.createBufferedReadable=TE;function vE(e,t,r){switch(t){case 0:return e[0]+=r,os(e[0]);case 1:case 2:return e[t].push(r),os(e[t])}}function Jo(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function os(e){return e?.byteLength??e?.length??0}function xE(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var PE=N(Jp=>{"use strict";c();Object.defineProperty(Jp,"__esModule",{value:!0});Jp.createBufferedReadable=$F;var NF=ee("node:stream"),IE=Qp(),pr=AE(),OF=ur();function $F(e,t,r){if((0,OF.isReadableStream)(e))return(0,pr.createBufferedReadableStream)(e,t,r);let n=new NF.Readable({read(){}}),s=!1,i=0,o=["",new IE.ByteArrayCollector(l=>new Uint8Array(l)),new IE.ByteArrayCollector(l=>Buffer.from(new Uint8Array(l)))],a=-1;return e.on("data",l=>{let u=(0,pr.modeOf)(l,!0);if(a!==u&&(a>=0&&n.push((0,pr.flush)(o,a)),a=u),a===-1){n.push(l);return}let g=(0,pr.sizeOf)(l);i+=g;let m=(0,pr.sizeOf)(o[a]);if(g>=t&&m===0)n.push(l);else{let y=(0,pr.merge)(o,a,l);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${t}, automatically buffering.`)),y>=t&&n.push((0,pr.flush)(o,a))}}),e.on("end",()=>{if(a!==-1){let l=(0,pr.flush)(o,a);(0,pr.sizeOf)(l)>0&&n.push(l)}n.push(null)}),n}});var DE=N(Zo=>{"use strict";c();Object.defineProperty(Zo,"__esModule",{value:!0});Zo.getAwsChunkedEncodingStream=void 0;var kF=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=t,a=r!==void 0&&n!==void 0&&s!==void 0&&i!==void 0&&o!==void 0,l=a?o(s,e):void 0,u=e.getReader();return new ReadableStream({async pull(g){let{value:m,done:y}=await u.read();if(y){if(g.enqueue(`0\r
`),a){let E=r(await l);g.enqueue(`${i}:${E}\r
`),g.enqueue(`\r
`)}g.close()}else g.enqueue(`${(n(m)||0).toString(16)}\r
${m}\r
`)}})};Zo.getAwsChunkedEncodingStream=kF});var NE=N(Zp=>{"use strict";c();Object.defineProperty(Zp,"__esModule",{value:!0});Zp.getAwsChunkedEncodingStream=UF;var MF=ee("node:stream"),FF=DE(),LF=ur();function UF(e,t){let r=e,n=e;if((0,LF.isReadableStream)(n))return(0,FF.getAwsChunkedEncodingStream)(n,t);let{base64Encoder:s,bodyLengthChecker:i,checksumAlgorithmFn:o,checksumLocationName:a,streamHasher:l}=t,u=s!==void 0&&o!==void 0&&a!==void 0&&l!==void 0,g=u?l(o,r):void 0,m=new MF.Readable({read:()=>{}});return r.on("data",y=>{let E=i(y)||0;E!==0&&(m.push(`${E.toString(16)}\r
`),m.push(y),m.push(`\r
`))}),r.on("end",async()=>{if(m.push(`0\r
`),u){let y=s(await g);m.push(`${a}:${y}\r
`),m.push(`\r
`)}m.push(null)}),m}});var OE=N(ef=>{"use strict";c();Object.defineProperty(ef,"__esModule",{value:!0});ef.headStream=qF;async function qF(e,t){let r=0,n=[],s=e.getReader(),i=!1;for(;!i;){let{done:l,value:u}=await s.read();if(u&&(n.push(u),r+=u?.byteLength??0),r>=t)break;i=l}s.releaseLock();let o=new Uint8Array(Math.min(t,r)),a=0;for(let l of n){if(l.byteLength>o.byteLength-a){o.set(l.subarray(0,o.byteLength-a),a);break}else o.set(l,a);a+=l.length}return o}});var $E=N(ea=>{"use strict";c();Object.defineProperty(ea,"__esModule",{value:!0});ea.headStream=void 0;var HF=ee("stream"),BF=OE(),jF=ur(),VF=(e,t)=>(0,jF.isReadableStream)(e)?(0,BF.headStream)(e,t):new Promise((r,n)=>{let s=new tf;s.limit=t,e.pipe(s),e.on("error",i=>{s.end(),n(i)}),s.on("error",n),s.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.buffers));r(i)})});ea.headStream=VF;var tf=class extends HF.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var nf=N(rf=>{"use strict";c();var kE=e=>encodeURIComponent(e).replace(/[!'()*]/g,zF),zF=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,GF=e=>e.split("/").map(kE).join("/");rf.escapeUri=kE;rf.escapeUriPath=GF});var of=N(ME=>{"use strict";c();var sf=nf();function WF(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=sf.escapeUri(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)t.push(`${r}=${sf.escapeUri(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${sf.escapeUri(n)}`),t.push(s)}}return t.join("&")}ME.buildQueryString=WF});var $r=N(ui=>{"use strict";c();var qE=Re(),HE=of(),ta=ee("http"),ra=ee("https"),BE=ee("stream"),af=ee("http2"),KF=["ECONNRESET","EPIPE","ETIMEDOUT"],jE=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},et={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},FE=1e3,YF=(e,t,r=0)=>{if(!r)return-1;let n=s=>{let i=et.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-s),o=a=>{a?.connecting?a.on("connect",()=>{et.clearTimeout(i)}):et.clearTimeout(i)};e.socket?o(e.socket):e.on("socket",o)};return r<2e3?(n(0),0):et.setTimeout(n.bind(null,FE),FE)},XF=(e,t,r=0,n,s)=>r?et.setTimeout(()=>{let i=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let o=Object.assign(new Error(i),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(o),t(o)}else i+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",s?.warn?.(i)},r):-1,QF=3e3,JF=(e,{keepAlive:t,keepAliveMsecs:r},n=QF)=>{if(t!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",i=>{i.setKeepAlive(t,r||0)})};return n===0?(s(),0):et.setTimeout(s,n)},LE=3e3,ZF=(e,t,r=0)=>{let n=s=>{let i=r-s,o=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(i,o),e.on("close",()=>e.socket?.removeListener("timeout",o))):e.setTimeout(i,o)};return 0<r&&r<6e3?(n(0),0):et.setTimeout(n.bind(null,r===0?0:LE),LE)},UE=6e3;async function VE(e,t,r=UE,n=!1){let s=t.headers??{},i=s.Expect||s.expect,o=-1,a=!0;!n&&i==="100-continue"&&(a=await Promise.race([new Promise(l=>{o=Number(et.setTimeout(()=>l(!0),Math.max(UE,r)))}),new Promise(l=>{e.on("continue",()=>{et.clearTimeout(o),l(!0)}),e.on("response",()=>{et.clearTimeout(o),l(!1)}),e.on("error",()=>{et.clearTimeout(o),l(!1)})})])),a&&eL(e,t.body)}function eL(e,t){if(t instanceof BE.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var tL=0,cf=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:s,requests:i,maxSockets:o}=t;if(typeof o!="number"||o===1/0||Date.now()-15e3<r)return r;if(s&&i)for(let l in s){let u=s[l]?.length??0,g=i[l]?.length??0;if(u>=o&&g>=2*o)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${g} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:i,httpAgent:o,httpsAgent:a,throwOnRequestTimeout:l,logger:u}=t||{},g=!0,m=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:s,socketAcquisitionWarningTimeout:i,throwOnRequestTimeout:l,httpAgent:o instanceof ta.Agent||typeof o?.destroy=="function"?(this.externalAgent=!0,o):new ta.Agent({keepAlive:g,maxSockets:m,...o}),httpsAgent:a instanceof ra.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new ra.Agent({keepAlive:g,maxSockets:m,...a}),logger:u}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,i)=>{let o=this.config,a,l=[],u=async X=>{await a,l.forEach(et.clearTimeout),s(X)},g=async X=>{await a,l.forEach(et.clearTimeout),i(X)};if(r?.aborted){let X=new Error("Request aborted");X.name="AbortError",g(X);return}let m=t.protocol==="https:",y=t.headers??{},E=(y.Expect??y.expect)==="100-continue",R=m?o.httpsAgent:o.httpAgent;E&&!this.externalAgent&&(R=new(m?ra.Agent:ta.Agent)({keepAlive:!1,maxSockets:1/0})),l.push(et.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(R,this.socketWarningTimestamp,o.logger)},o.socketAcquisitionWarningTimeout??(o.requestTimeout??2e3)+(o.connectionTimeout??1e3)));let v=HE.buildQueryString(t.query||{}),A;if(t.username!=null||t.password!=null){let X=t.username??"",K=t.password??"";A=`${X}:${K}`}let I=t.path;v&&(I+=`?${v}`),t.fragment&&(I+=`#${t.fragment}`);let O=t.hostname??"";O[0]==="["&&O.endsWith("]")?O=t.hostname.slice(1,-1):O=t.hostname;let F={headers:t.headers,host:O,method:t.method,path:I,port:t.port,agent:R,auth:A},G=(m?ra.request:ta.request)(F,X=>{let K=new qE.HttpResponse({statusCode:X.statusCode||-1,reason:X.statusMessage,headers:jE(X.headers),body:X});u({response:K})});if(G.on("error",X=>{KF.includes(X.code)?g(Object.assign(X,{name:"TimeoutError"})):g(X)}),r){let X=()=>{G.destroy();let K=new Error("Request aborted");K.name="AbortError",g(K)};if(typeof r.addEventListener=="function"){let K=r;K.addEventListener("abort",X,{once:!0}),G.once("close",()=>K.removeEventListener("abort",X))}else r.onabort=X}let re=n??o.requestTimeout;l.push(YF(G,g,o.connectionTimeout)),l.push(XF(G,g,re,o.throwOnRequestTimeout,o.logger??console)),l.push(ZF(G,g,o.socketTimeout));let De=F.agent;typeof De=="object"&&"keepAlive"in De&&l.push(JF(G,{keepAlive:De.keepAlive,keepAliveMsecs:De.keepAliveMsecs})),a=VE(G,t,re,this.externalAgent).catch(X=>(l.forEach(et.clearTimeout),i(X)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},lf=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},uf=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),s=this.sessionCache.get(n);if(s){let l=s.poll();if(l&&!this.config.disableConcurrency)return l}let i=af.connect(n);this.config.maxConcurrency&&i.settings({maxConcurrentStreams:this.config.maxConcurrency},l=>{if(l)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),i.unref();let o=()=>{i.destroy(),this.deleteSession(n,i)};i.on("goaway",o),i.on("error",o),i.on("frameError",o),i.on("close",()=>this.deleteSession(n,i)),r.requestTimeout&&i.setTimeout(r.requestTimeout,o);let a=this.sessionCache.get(n)||new lf;return a.offerLast(i),this.sessionCache.set(n,a),i}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},df=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new uf({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:i}=this.config,o=n??s;return new Promise((a,l)=>{let u=!1,g,m=async de=>{await g,a(de)},y=async de=>{await g,l(de)};if(r?.aborted){u=!0;let de=new Error("Request aborted");de.name="AbortError",y(de);return}let{hostname:E,method:R,port:v,protocol:A,query:I}=t,O="";if(t.username!=null||t.password!=null){let de=t.username??"",Ne=t.password??"";O=`${de}:${Ne}@`}let F=`${A}//${O}${E}${v?`:${v}`:""}`,j={destination:new URL(F)},G=this.connectionManager.lease(j,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:i||!1}),re=de=>{i&&this.destroySession(G),u=!0,y(de)},De=HE.buildQueryString(I||{}),X=t.path;De&&(X+=`?${De}`),t.fragment&&(X+=`#${t.fragment}`);let K=G.request({...t.headers,[af.constants.HTTP2_HEADER_PATH]:X,[af.constants.HTTP2_HEADER_METHOD]:R});if(G.ref(),K.on("response",de=>{let Ne=new qE.HttpResponse({statusCode:de[":status"]||-1,headers:jE(de),body:K});u=!0,m({response:Ne}),i&&(G.close(),this.connectionManager.deleteSession(F,G))}),o&&K.setTimeout(o,()=>{K.close();let de=new Error(`Stream timed out because of no activity for ${o} ms`);de.name="TimeoutError",re(de)}),r){let de=()=>{K.close();let Ne=new Error("Request aborted");Ne.name="AbortError",re(Ne)};if(typeof r.addEventListener=="function"){let Ne=r;Ne.addEventListener("abort",de,{once:!0}),K.once("close",()=>Ne.removeEventListener("abort",de))}else r.onabort=de}K.on("frameError",(de,Ne,Ot)=>{re(new Error(`Frame type id ${de} in stream id ${Ot} has failed with code ${Ne}.`))}),K.on("error",re),K.on("aborted",()=>{re(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${K.rstCode}.`))}),K.on("close",()=>{G.unref(),i&&G.destroy(),u||re(new Error("Unexpected error: http2 request did not get a response"))}),g=VE(K,t,o)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},pf=class extends BE.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},rL=e=>nL(e)?sL(e):new Promise((t,r)=>{let n=new pf;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),nL=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function sL(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:l}=await r.read();l&&(t.push(l),s+=l.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}ui.DEFAULT_REQUEST_TIMEOUT=tL;ui.NodeHttp2Handler=df;ui.NodeHttpHandler=cf;ui.streamCollector=rL});var WE=N(sa=>{"use strict";c();var zE=Re(),iL=of(),oL=Me();function GE(e,t){return new Request(e,t)}function aL(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var na={supported:void 0},ff=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),na.supported===void 0&&(na.supported=typeof Request<"u"&&"keepalive"in GE("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,i=this.config.keepAlive===!0,o=this.config.credentials;if(r?.aborted){let O=new Error("Request aborted");return O.name="AbortError",Promise.reject(O)}let a=t.path,l=iL.buildQueryString(t.query||{});l&&(a+=`?${l}`),t.fragment&&(a+=`#${t.fragment}`);let u="";if(t.username!=null||t.password!=null){let O=t.username??"",F=t.password??"";u=`${O}:${F}@`}let{port:g,method:m}=t,y=`${t.protocol}//${u}${t.hostname}${g?`:${g}`:""}${a}`,E=m==="GET"||m==="HEAD"?void 0:t.body,R={body:E,headers:new Headers(t.headers),method:m,credentials:o};this.config?.cache&&(R.cache=this.config.cache),E&&(R.duplex="half"),typeof AbortController<"u"&&(R.signal=r),na.supported&&(R.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(R,this.config.requestInit(t));let v=()=>{},A=GE(y,R),I=[fetch(A).then(O=>{let F=O.headers,j={};for(let re of F.entries())j[re[0]]=re[1];return O.body!=null?{response:new zE.HttpResponse({headers:j,reason:O.statusText,statusCode:O.status,body:O.body})}:O.blob().then(re=>({response:new zE.HttpResponse({headers:j,reason:O.statusText,statusCode:O.status,body:re})}))}),aL(s)];return r&&I.push(new Promise((O,F)=>{let j=()=>{let G=new Error("Request aborted");G.name="AbortError",F(G)};if(typeof r.addEventListener=="function"){let G=r;G.addEventListener("abort",j,{once:!0}),v=()=>G.removeEventListener("abort",j)}else r.onabort=j})),Promise.race(I).finally(v)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},cL=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):lL(e):uL(e);async function lL(e){let t=await dL(e),r=oL.fromBase64(t);return new Uint8Array(r)}async function uL(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:l}=await r.read();l&&(t.push(l),s+=l.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}function dL(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;t(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}sa.FetchHttpHandler=ff;sa.keepAliveSupport=na;sa.streamCollector=cL});var gf=N(hf=>{"use strict";c();var KE={},mf={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),KE[e]=t,mf[t]=e}function pL(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in mf)t[r/2]=mf[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function fL(e){let t="";for(let r=0;r<e.byteLength;r++)t+=KE[e[r]];return t}hf.fromHex=pL;hf.toHex=fL});var JE=N(ia=>{"use strict";c();Object.defineProperty(ia,"__esModule",{value:!0});ia.sdkStreamMixin=void 0;var mL=WE(),hL=Me(),gL=gf(),SL=ke(),YE=ur(),XE="The stream has already been transformed.",EL=e=>{if(!QE(e)&&!(0,YE.isReadableStream)(e)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(XE);return t=!0,await(0,mL.streamCollector)(e)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{let i=await r();if(s==="base64")return(0,hL.toBase64)(i);if(s==="hex")return(0,gL.toHex)(i);if(s===void 0||s==="utf8"||s==="utf-8")return(0,SL.toUtf8)(i);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(i);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(XE);if(t=!0,QE(e))return n(e);if((0,YE.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};ia.sdkStreamMixin=EL;var QE=e=>typeof Blob=="function"&&e instanceof Blob});var ey=N(oa=>{"use strict";c();Object.defineProperty(oa,"__esModule",{value:!0});oa.sdkStreamMixin=void 0;var yL=$r(),RL=ss(),Sf=ee("stream"),_L=JE(),ZE="The stream has already been transformed.",CL=e=>{if(!(e instanceof Sf.Readable))try{return(0,_L.sdkStreamMixin)(e)}catch{let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(ZE);return t=!0,await(0,yL.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let s=await r();return n===void 0||Buffer.isEncoding(n)?(0,RL.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(n):new TextDecoder(n).decode(s)},transformToWebStream:()=>{if(t)throw new Error(ZE);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Sf.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,Sf.Readable.toWeb(e)}})};oa.sdkStreamMixin=CL});var ty=N(Ef=>{"use strict";c();Object.defineProperty(Ef,"__esModule",{value:!0});Ef.splitStream=wL;async function wL(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var sy=N(yf=>{"use strict";c();Object.defineProperty(yf,"__esModule",{value:!0});yf.splitStream=TL;var ry=ee("stream"),bL=ty(),ny=ur();async function TL(e){if((0,ny.isReadableStream)(e)||(0,ny.isBlob)(e))return(0,bL.splitStream)(e);let t=new ry.PassThrough,r=new ry.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var aa=N(Fe=>{"use strict";c();var iy=Me(),oy=ke(),ay=Wp(),cy=bE(),ly=PE(),uy=NE(),dy=$E(),py=ey(),fy=sy(),my=ur(),Rf=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(iy.fromBase64(t)):e.mutate(oy.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?iy.toBase64(this):oy.toUtf8(this)}};Object.defineProperty(Fe,"isBlob",{enumerable:!0,get:function(){return my.isBlob}});Object.defineProperty(Fe,"isReadableStream",{enumerable:!0,get:function(){return my.isReadableStream}});Fe.Uint8ArrayBlobAdapter=Rf;Object.keys(ay).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fe,e)&&Object.defineProperty(Fe,e,{enumerable:!0,get:function(){return ay[e]}})});Object.keys(cy).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fe,e)&&Object.defineProperty(Fe,e,{enumerable:!0,get:function(){return cy[e]}})});Object.keys(ly).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fe,e)&&Object.defineProperty(Fe,e,{enumerable:!0,get:function(){return ly[e]}})});Object.keys(uy).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fe,e)&&Object.defineProperty(Fe,e,{enumerable:!0,get:function(){return uy[e]}})});Object.keys(dy).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fe,e)&&Object.defineProperty(Fe,e,{enumerable:!0,get:function(){return dy[e]}})});Object.keys(py).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fe,e)&&Object.defineProperty(Fe,e,{enumerable:!0,get:function(){return py[e]}})});Object.keys(fy).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fe,e)&&Object.defineProperty(Fe,e,{enumerable:!0,get:function(){return fy[e]}})})});var ca,_t,la=C(()=>{c();ca=b(aa()),_t=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return ca.Uint8ArrayBlobAdapter.mutate(e);if(!e)return ca.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return ca.Uint8ArrayBlobAdapter.mutate(await r)}});function zt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var ua=C(()=>{c()});var $t,_f=C(()=>{c();$t=e=>typeof e=="function"?e():e});var di,da=C(()=>{c();di=(e,t,r,n,s)=>({name:t,namespace:e,traits:r,input:n,output:s})});var hy,gy,Sy,Cf,Ey=C(()=>{c();hy=b(Re()),gy=b(Ze());da();Sy=e=>(t,r)=>async n=>{let{response:s}=await t(n),{operationSchema:i}=(0,gy.getSmithyContext)(r),[,o,a,l,u,g]=i??[];try{let m=await e.protocol.deserializeResponse(di(o,a,l,u,g),{...e,...r},s);return{response:s,output:m}}catch(m){if(Object.defineProperty(m,"$response",{value:s,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in m)){let y="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{m.message+=`
  `+y}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(y):r.logger?.warn?.(y)}typeof m.$responseBodyText<"u"&&m.$response&&(m.$response.body=m.$responseBodyText);try{if(hy.HttpResponse.isInstance(s)){let{headers:E={}}=s,R=Object.entries(E);m.$metadata={httpStatusCode:s.statusCode,requestId:Cf(/^x-[\w-]+-request-?id$/,R),extendedRequestId:Cf(/^x-[\w-]+-id-2$/,R),cfId:Cf(/^x-[\w-]+-cf-id$/,R)}}}catch{}}throw m}},Cf=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var yy,Ry,_y=C(()=>{c();yy=b(Ze());da();Ry=e=>(t,r)=>async n=>{let{operationSchema:s}=(0,yy.getSmithyContext)(r),[,i,o,a,l,u]=s??[],g=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,m=await e.protocol.serializeRequest(di(i,o,a,l,u),n.input,{...e,...r,endpoint:g});return t({...n,request:m})}});function wn(e){return{applyToStack:t=>{t.add(Ry(e),wy),t.add(Sy(e),Cy),e.protocol.setSerdeContext(e)}}}var Cy,wy,by=C(()=>{c();Ey();_y();Cy={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},wy={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Oe,kr=C(()=>{c();Oe=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var pa,vL,Ty=C(()=>{c();kr();pa=class e extends Oe{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},vL=(e,t,r,n)=>Oe.assign(new pa,{name:t,namespace:e,traits:r,valueSchema:n})});var fa,xL,vy=C(()=>{c();kr();fa=class e extends Oe{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},xL=(e,t,r,n,s)=>Oe.assign(new fa,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:s})});var ma,AL,xy=C(()=>{c();kr();ma=class e extends Oe{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},AL=(e,t,r,n,s)=>Oe.assign(new ma,{name:t,namespace:e,traits:r,input:n,output:s})});var as,IL,wf=C(()=>{c();kr();as=class e extends Oe{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},IL=(e,t,r,n,s)=>Oe.assign(new as,{name:t,namespace:e,traits:r,memberNames:n,memberList:s})});var ha,PL,Ay=C(()=>{c();kr();wf();ha=class e extends as{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},PL=(e,t,r,n,s,i)=>Oe.assign(new ha,{name:t,namespace:e,traits:r,memberNames:n,memberList:s,ctor:null})});function Gt(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var bf=C(()=>{c()});function pi(e,t){if(e instanceof H)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=H;return new r(e,t)}var Iy,H,Tf,Py,Dy=C(()=>{c();_f();bf();Iy={it:Symbol.for("@smithy/nor-struct-it")},H=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],s=t,i=t;for(this._isMemberSchema=!1;Tf(s);)n.push(s[1]),s=s[0],i=$t(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let o=n.length-1;o>=0;--o){let a=n[o];Object.assign(this.memberTraits,Gt(a))}}else this.memberTraits=0;if(i instanceof e){let o=this.memberTraits;Object.assign(this,i),this.memberTraits=Object.assign({},o,i.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??i.memberName;return}if(this.schema=$t(i),Py(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(i),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=$t(t);if(r instanceof e)return r;if(Tf(r)){let[n,s]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),Gt(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return Array.isArray(t)&&t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let t=this.getSchema();if(typeof t!="object")return!1;let r=t[0];return r===3||r===-3||r===4}isUnionSchema(){let t=this.getSchema();return typeof t!="object"?!1:t[0]===4}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){return!!this.getMergedTraits().idempotencyToken}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Gt(this.memberTraits)}getOwnTraits(){return Gt(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=t?15:n[4]??0;return pi([s,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],i=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||s)?t[3+t[0]]:r?15:void 0;if(i!=null)return pi([i,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),s=r[5][n];return pi(Tf(s)?s:[s,0],t)}if(this.isDocumentSchema())return pi([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema(),r=t[4].length,n=t[Iy.it];if(n&&r===n.length){yield*n;return}n=Array(r);for(let s=0;s<r;++s){let i=t[4][s],o=pi([t[5][s],0],i);yield n[s]=[i,o]}t[Iy.it]=n}};Tf=e=>Array.isArray(e)&&e.length===2,Py=e=>Array.isArray(e)&&e.length>=5});var fi,DL,NL,Ny=C(()=>{c();kr();fi=class e extends Oe{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},DL=(e,t,r,n)=>Oe.assign(new fi,{name:t,namespace:e,traits:n,schemaRef:r}),NL=(e,t,r,n)=>Oe.assign(new fi,{name:t,namespace:e,traits:r,schemaRef:n})});var OL,Oy=C(()=>{c();OL={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var V,$y=C(()=>{c();V=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,s=e.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,s=r+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var ga={};ut(ga,{ErrorSchema:()=>ha,ListSchema:()=>pa,MapSchema:()=>fa,NormalizedSchema:()=>H,OperationSchema:()=>ma,SCHEMA:()=>OL,Schema:()=>Oe,SimpleSchema:()=>fi,StructureSchema:()=>as,TypeRegistry:()=>V,deref:()=>$t,deserializerMiddlewareOption:()=>Cy,error:()=>PL,getSchemaSerdePlugin:()=>wn,isStaticSchema:()=>Py,list:()=>vL,map:()=>xL,op:()=>AL,operation:()=>di,serializerMiddlewareOption:()=>wy,sim:()=>DL,simAdapter:()=>NL,struct:()=>IL,translateTraits:()=>Gt});var he=C(()=>{c();_f();by();Ty();vy();xy();da();Ay();Dy();kr();Ny();wf();Oy();bf();$y()});var $L,ky=C(()=>{c();$L=(e,t,r=n=>n)=>e});var kL,ML,mi,FL,Sa,hi,LL,vf,xf,Af,If,UL,qL,My,HL,BL,ya,jL,Pf,VL,cs,Df,zL,GL,WL,Fy,Ly,KL,YL,bn,Nf,Ea,gi,Of=C(()=>{c();kL=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},ML=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&gi.warn(Ea(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&gi.warn(Ea(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},mi=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&gi.warn(Ea(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},FL=Math.ceil(34028234663852886e22),Sa=e=>{let t=mi(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>FL)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},hi=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},LL=hi,vf=e=>If(e,32),xf=e=>If(e,16),Af=e=>If(e,8),If=(e,t)=>{let r=hi(e);if(r!==void 0&&UL(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},UL=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},qL=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},My=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},HL=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return gi.warn(Ea(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},BL=e=>{if(e==null)return;let t=My(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},ya=e=>mi(typeof e=="string"?cs(e):e),jL=ya,Pf=e=>Sa(typeof e=="string"?cs(e):e),VL=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,cs=e=>{let t=e.match(VL);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Df=e=>typeof e=="string"?Fy(e):mi(e),zL=Df,GL=Df,WL=e=>typeof e=="string"?Fy(e):Sa(e),Fy=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},Ly=e=>hi(typeof e=="string"?cs(e):e),KL=Ly,YL=e=>vf(typeof e=="string"?cs(e):e),bn=e=>xf(typeof e=="string"?cs(e):e),Nf=e=>Af(typeof e=="string"?cs(e):e),Ea=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),gi={warn:console.warn}});function Ei(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),l=s<10?`0${s}`:`${s}`,u=i<10?`0${i}`:`${i}`,g=o<10?`0${o}`:`${o}`,m=a<10?`0${a}`:`${a}`;return`${XL[n]}, ${l} ${kf[r]} ${t} ${u}:${g}:${m} GMT`}var XL,kf,QL,JL,ZL,Mf,eU,tU,rU,Ff,Lf,Si,nU,sU,iU,$f,oU,aU,cU,Wt,lU,uU,ls,Uy=C(()=>{c();Of();XL=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],kf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];QL=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),JL=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=QL.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,l,u]=t,g=bn(ls(n)),m=Wt(s,"month",1,12),y=Wt(i,"day",1,31);return Si(g,m,y,{hours:o,minutes:a,seconds:l,fractionalMilliseconds:u})},ZL=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Mf=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=ZL.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,l,u,g]=t,m=bn(ls(n)),y=Wt(s,"month",1,12),E=Wt(i,"day",1,31),R=Si(m,y,E,{hours:o,minutes:a,seconds:l,fractionalMilliseconds:u});return g.toUpperCase()!="Z"&&R.setTime(R.getTime()-uU(g)),R},eU=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),tU=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),rU=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Ff=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=eU.exec(e);if(t){let[r,n,s,i,o,a,l,u]=t;return Si(bn(ls(i)),$f(s),Wt(n,"day",1,31),{hours:o,minutes:a,seconds:l,fractionalMilliseconds:u})}if(t=tU.exec(e),t){let[r,n,s,i,o,a,l,u]=t;return iU(Si(nU(i),$f(s),Wt(n,"day",1,31),{hours:o,minutes:a,seconds:l,fractionalMilliseconds:u}))}if(t=rU.exec(e),t){let[r,n,s,i,o,a,l,u]=t;return Si(bn(ls(u)),$f(n),Wt(s.trimLeft(),"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},Lf=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=ya(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Si=(e,t,r,n)=>{let s=t-1;return aU(e,s,r),new Date(Date.UTC(e,s,r,Wt(n.hours,"hour",0,23),Wt(n.minutes,"minute",0,59),Wt(n.seconds,"seconds",0,60),lU(n.fractionalMilliseconds)))},nU=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+bn(ls(e));return r<t?r+100:r},sU=50*365*24*60*60*1e3,iU=e=>e.getTime()-new Date().getTime()>sU?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,$f=e=>{let t=kf.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},oU=[31,28,31,30,31,30,31,31,30,31,30,31],aU=(e,t,r)=>{let n=oU[t];if(t===1&&cU(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${kf[t]} in ${e}: ${r}`)},cU=e=>e%4===0&&(e%100!==0||e%400===0),Wt=(e,t,r,n)=>{let s=Nf(ls(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},lU=e=>e==null?0:Pf("0."+e)*1e3,uU=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},ls=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var yi={};ut(yi,{__addDisposableResource:()=>uR,__assign:()=>Ra,__asyncDelegator:()=>rR,__asyncGenerator:()=>tR,__asyncValues:()=>nR,__await:()=>us,__awaiter:()=>Yy,__classPrivateFieldGet:()=>aR,__classPrivateFieldIn:()=>lR,__classPrivateFieldSet:()=>cR,__createBinding:()=>Ca,__decorate:()=>By,__disposeResources:()=>dR,__esDecorate:()=>Vy,__exportStar:()=>Qy,__extends:()=>qy,__generator:()=>Xy,__importDefault:()=>oR,__importStar:()=>iR,__makeTemplateObject:()=>sR,__metadata:()=>Ky,__param:()=>jy,__propKey:()=>Gy,__read:()=>Hf,__rest:()=>Hy,__rewriteRelativeImportExtension:()=>pR,__runInitializers:()=>zy,__setFunctionName:()=>Wy,__spread:()=>Jy,__spreadArray:()=>eR,__spreadArrays:()=>Zy,__values:()=>_a,default:()=>fU});function qy(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Uf(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Hy(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function By(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function jy(e,t){return function(r,n){t(r,n,e)}}function Vy(e,t,r,n,s,i){function o(I){if(I!==void 0&&typeof I!="function")throw new TypeError("Function expected");return I}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,g=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),m,y=!1,E=r.length-1;E>=0;E--){var R={};for(var v in n)R[v]=v==="access"?{}:n[v];for(var v in n.access)R.access[v]=n.access[v];R.addInitializer=function(I){if(y)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(I||null))};var A=(0,r[E])(a==="accessor"?{get:g.get,set:g.set}:g[l],R);if(a==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(m=o(A.get))&&(g.get=m),(m=o(A.set))&&(g.set=m),(m=o(A.init))&&s.unshift(m)}else(m=o(A))&&(a==="field"?s.unshift(m):g[l]=m)}u&&Object.defineProperty(u,n.name,g),y=!0}function zy(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Gy(e){return typeof e=="symbol"?e:"".concat(e)}function Wy(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Ky(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Yy(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(g){try{u(n.next(g))}catch(m){o(m)}}function l(g){try{u(n.throw(g))}catch(m){o(m)}}function u(g){g.done?i(g.value):s(g.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function Xy(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(g){return l([u,g])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(g){u=[6,g],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Qy(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ca(t,e,r)}function _a(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hf(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Jy(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Hf(arguments[t]));return e}function Zy(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function eR(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function us(e){return this instanceof us?(this.v=e,this):new us(e)}function tR(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(E){return function(R){return Promise.resolve(R).then(E,m)}}function a(E,R){n[E]&&(s[E]=function(v){return new Promise(function(A,I){i.push([E,v,A,I])>1||l(E,v)})},R&&(s[E]=R(s[E])))}function l(E,R){try{u(n[E](R))}catch(v){y(i[0][3],v)}}function u(E){E.value instanceof us?Promise.resolve(E.value.v).then(g,m):y(i[0][2],E)}function g(E){l("next",E)}function m(E){l("throw",E)}function y(E,R){E(R),i.shift(),i.length&&l(i[0][0],i[0][1])}}function rR(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:us(e[s](o)),done:!1}:i?i(o):o}:i}}function nR(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof _a=="function"?_a(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,l){o=e[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function sR(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function iR(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=qf(e),n=0;n<r.length;n++)r[n]!=="default"&&Ca(t,e,r[n]);return dU(t,e),t}function oR(e){return e&&e.__esModule?e:{default:e}}function aR(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function cR(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function lR(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function uR(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function dR(e){function t(i){e.error=e.hasError?new pU(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function pR(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}var Uf,Ra,Ca,dU,qf,pU,fU,Ri=C(()=>{c();Uf=function(e,t){return Uf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Uf(e,t)};Ra=function(){return Ra=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ra.apply(this,arguments)};Ca=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};dU=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},qf=function(e){return qf=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},qf(e)};pU=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};fU={__extends:qy,__assign:Ra,__rest:Hy,__decorate:By,__param:jy,__esDecorate:Vy,__runInitializers:zy,__propKey:Gy,__setFunctionName:Wy,__metadata:Ky,__awaiter:Yy,__generator:Xy,__createBinding:Ca,__exportStar:Qy,__values:_a,__read:Hf,__spread:Jy,__spreadArrays:Zy,__spreadArray:eR,__await:us,__asyncGenerator:tR,__asyncDelegator:rR,__asyncValues:nR,__makeTemplateObject:sR,__importStar:iR,__importDefault:oR,__classPrivateFieldGet:aR,__classPrivateFieldSet:cR,__classPrivateFieldIn:lR,__addDisposableResource:uR,__disposeResources:dR,__rewriteRelativeImportExtension:pR}});var mR=N(wa=>{"use strict";c();Object.defineProperty(wa,"__esModule",{value:!0});wa.randomUUID=void 0;var mU=(Ri(),ie(yi)),fR=mU.__importDefault(ee("crypto"));wa.randomUUID=fR.default.randomUUID.bind(fR.default)});var Bf=N(gR=>{"use strict";c();var hR=mR(),je=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),hU=()=>{if(hR.randomUUID)return hR.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,je[e[0]]+je[e[1]]+je[e[2]]+je[e[3]]+"-"+je[e[4]]+je[e[5]]+"-"+je[e[6]]+je[e[7]]+"-"+je[e[8]]+je[e[9]]+"-"+je[e[10]]+je[e[11]]+je[e[12]]+je[e[13]]+je[e[14]]+je[e[15]]};gR.v4=hU});var Ct,SR=C(()=>{c();Ct=b(Bf())});var tt,ER=C(()=>{c();tt=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};tt.from=e=>e&&typeof e=="object"&&(e instanceof tt||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?tt(String(e)):tt(JSON.stringify(e));tt.fromObject=tt.from});function jf(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var yR=C(()=>{c()});function fr(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var Vf,zf,Gf,RR,_R,gU,SU,EU,yU,RU,ds,Wf,Kf,CR=C(()=>{c();Vf="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",zf="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",Gf="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",RR="(\\d?\\d)",_R="(\\d{4})",gU=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),SU=new RegExp(`^${Vf}, ${RR} ${zf} ${_R} ${Gf} GMT$`),EU=new RegExp(`^${Vf}, ${RR}-${zf}-(\\d\\d) ${Gf} GMT$`),yU=new RegExp(`^${Vf} ${zf} ( [1-9]|\\d\\d) ${Gf} ${_R}$`),RU=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ds=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},Wf=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=gU.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,s,i,o,a,,l,u]=t;fr(n,1,12),fr(s,1,31),fr(i,0,23),fr(o,0,59),fr(a,0,60);let g=new Date(Date.UTC(Number(r),Number(n)-1,Number(s),Number(i),Number(o),Number(a),Number(l)?Math.round(parseFloat(`0.${l}`)*1e3):0));if(g.setUTCFullYear(Number(r)),u.toUpperCase()!="Z"){let[,m,y,E]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],R=m==="-"?1:-1;g.setTime(g.getTime()+R*(Number(y)*60*60*1e3+Number(E)*60*1e3))}return g},Kf=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,s,i,o,a,l;if((l=SU.exec(e))?[,t,r,n,s,i,o,a]=l:(l=EU.exec(e))?([,t,r,n,s,i,o,a]=l,n=(Number(n)+1900).toString()):(l=yU.exec(e))&&([,r,t,s,i,o,a,n]=l),n&&o){let u=Date.UTC(Number(n),RU.indexOf(r),Number(t),Number(s),Number(i),Number(o),a?Math.round(parseFloat(`0.${a}`)*1e3):0);fr(t,1,31),fr(s,0,23),fr(i,0,59),fr(o,0,60);let g=new Date(u);return g.setUTCFullYear(Number(n)),g}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function Yf(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],i="";for(let o=0;o<n.length;o++)i===""?i=n[o]:i+=t+n[o],(o+1)%r===0&&(s.push(i),i="");return i!==""&&s.push(i),s}var wR=C(()=>{c()});var _i,bR=C(()=>{c();_i=e=>{let t=e.length,r=[],n=!1,s,i=0;for(let o=0;o<t;++o){let a=e[o];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(i,o)),i=o+1);break;default:}s=a}return r.push(e.slice(i)),r.map(o=>{o=o.trim();let a=o.length;return a<2?o:(o[0]==='"'&&o[a-1]==='"'&&(o=o.slice(1,a-1)),o.replace(/\\"/g,'"'))})}});function Xf(e){return new be(String(e),"bigDecimal")}var TR,be,vR=C(()=>{c();TR=/^-?\d*(\.\d+)?$/,be=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!TR.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&TR.test(r.string)}}});var xR={};ut(xR,{LazyJsonString:()=>tt,NumericValue:()=>be,_parseEpochTimestamp:()=>ds,_parseRfc3339DateTimeWithOffset:()=>Wf,_parseRfc7231DateTime:()=>Kf,copyDocumentWithTransform:()=>$L,dateToUtcString:()=>Ei,expectBoolean:()=>ML,expectByte:()=>Af,expectFloat32:()=>Sa,expectInt:()=>LL,expectInt32:()=>vf,expectLong:()=>hi,expectNonNull:()=>qL,expectNumber:()=>mi,expectObject:()=>My,expectShort:()=>xf,expectString:()=>HL,expectUnion:()=>BL,generateIdempotencyToken:()=>Ct.v4,handleFloat:()=>zL,limitedParseDouble:()=>Df,limitedParseFloat:()=>GL,limitedParseFloat32:()=>WL,logger:()=>gi,nv:()=>Xf,parseBoolean:()=>kL,parseEpochTimestamp:()=>Lf,parseRfc3339DateTime:()=>JL,parseRfc3339DateTimeWithOffset:()=>Mf,parseRfc7231DateTime:()=>Ff,quoteHeader:()=>jf,splitEvery:()=>Yf,splitHeader:()=>_i,strictParseByte:()=>Nf,strictParseDouble:()=>ya,strictParseFloat:()=>jL,strictParseFloat32:()=>Pf,strictParseInt:()=>KL,strictParseInt32:()=>YL,strictParseLong:()=>Ly,strictParseShort:()=>bn});var rt=C(()=>{c();ky();Uy();SR();ER();Of();yR();CR();wR();bR();vR()});var nt,ps=C(()=>{c();nt=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var ba,Qf,AR=C(()=>{c();ba=b(ke()),Qf=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:s,defaultContentType:i}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=i}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let s=this.marshaller,i=r.getEventStreamMember(),o=r.getMemberSchema(i),a=this.serializer,l=this.defaultContentType,u=Symbol("initialRequestMarker"),g={async*[Symbol.asyncIterator](){if(n){let m={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:l}};a.write(r,n);let y=a.flush();yield{[u]:!0,headers:m,body:y}}for await(let m of t)yield m}};return s.serialize(g,m=>{if(m[u])return{headers:m.headers,body:m.body};let y=Object.keys(m).find(O=>O!=="__type")??"",{additionalHeaders:E,body:R,eventType:v,explicitPayloadContentType:A}=this.writeEventBody(y,o,m);return{headers:{":event-type":{type:"string",value:v},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:A??l},...E},body:R}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let s=this.marshaller,i=r.getEventStreamMember(),a=r.getMemberSchema(i).getMemberSchemas(),l=Symbol("initialResponseMarker"),u=s.deserialize(t.body,async y=>{let E=Object.keys(y).find(v=>v!=="__type")??"",R=y[E].body;if(E==="initial-response"){let v=await this.deserializer.read(r,R);return delete v[i],{[l]:!0,...v}}else if(E in a){let v=a[E];if(v.isStructSchema()){let A={},I=!1;for(let[O,F]of v.structIterator()){let{eventHeader:j,eventPayload:G}=F.getMergedTraits();if(I=I||!!(j||G),G)F.isBlobSchema()?A[O]=R:F.isStringSchema()?A[O]=(this.serdeContext?.utf8Encoder??ba.toUtf8)(R):F.isStructSchema()&&(A[O]=await this.deserializer.read(F,R));else if(j){let re=y[E].headers[O]?.value;re!=null&&(F.isNumericSchema()?re&&typeof re=="object"&&"bytes"in re?A[O]=BigInt(re.toString()):A[O]=Number(re):A[O]=re)}}if(I)return{[E]:A};if(R.byteLength===0)return{[E]:{}}}return{[E]:await this.deserializer.read(v,R)}}else return{$unknown:y}}),g=u[Symbol.asyncIterator](),m=await g.next();if(m.done)return u;if(m.value?.[l]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[y,E]of Object.entries(m.value))n[y]=E}return{async*[Symbol.asyncIterator](){for(m?.value?.[l]||(yield m.value);;){let{done:y,value:E}=await g.next();if(y)break;yield E}}}}writeEventBody(t,r,n){let s=this.serializer,i=t,o=null,a,l=r.getSchema()[4].includes(t),u={};if(l){let y=r.getMemberSchema(t);if(y.isStructSchema()){for(let[E,R]of y.structIterator()){let{eventHeader:v,eventPayload:A}=R.getMergedTraits();if(A)o=E;else if(v){let I=n[t][E],O="binary";R.isNumericSchema()?(-2)**31<=I&&I<=2**31-1?O="integer":O="long":R.isTimestampSchema()?O="timestamp":R.isStringSchema()?O="string":R.isBooleanSchema()&&(O="boolean"),I!=null&&(u[E]={type:O,value:I},delete n[t][E])}}if(o!==null){let E=y.getMemberSchema(o);E.isBlobSchema()?a="application/octet-stream":E.isStringSchema()&&(a="text/plain"),s.write(E,n[t][o])}else s.write(y,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[y,E]=n[t];i=y,s.write(15,E)}let g=s.flush();return{body:typeof g=="string"?(this.serdeContext?.utf8Decoder??ba.fromUtf8)(g):g,eventType:i,explicitPayloadContentType:a,additionalHeaders:u}}}});var IR={};ut(IR,{EventStreamSerde:()=>Qf});var PR=C(()=>{c();AR()});var Ta,Tn,va=C(()=>{c();he();Ta=b(Re());ps();Tn=class extends nt{options;constructor(t){super(),this.options=t}getRequestType(){return Ta.HttpRequest}getResponseType(){return Ta.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,s]of r.url.searchParams.entries())t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){if(this.serdeContext?.disableHostPrefix)return;let s=H.of(r.input),i=Gt(r.traits??{});if(i.endpoint){let o=i.endpoint?.[0];if(typeof o=="string"){let a=[...s.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of a){let u=n[l];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);o=o.replace(`{${l}}`,u)}t.hostname=o+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(PR(),IR));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,s,i){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var DR,NR,vn,OR=C(()=>{c();he();rt();DR=b(Re()),NR=b(aa());la();ua();va();vn=class extends Tn{async serializeRequest(t,r,n){let s={...r??{}},i=this.serializer,o={},a={},l=await n.endpoint(),u=H.of(t?.input),g=u.getSchema(),m=!1,y,E=new DR.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:o,headers:a,body:void 0});if(l){this.updateServiceEndpoint(E,l),this.setHostPrefix(E,t,s);let R=Gt(t.traits);if(R.http){E.method=R.http[0];let[v,A]=R.http[1].split("?");E.path=="/"?E.path=v:E.path+=v;let I=new URLSearchParams(A??"");Object.assign(o,Object.fromEntries(I))}}for(let[R,v]of u.structIterator()){let A=v.getMergedTraits()??{},I=s[R];if(I==null&&!v.isIdempotencyToken()){if(A.httpLabel&&(E.path.includes(`{${R}+}`)||E.path.includes(`{${R}}`)))throw new Error(`No value provided for input HTTP label: ${R}.`);continue}if(A.httpPayload)v.isStreaming()?v.isStructSchema()?s[R]&&(y=await this.serializeEventStream({eventStream:s[R],requestSchema:u})):y=I:(i.write(v,I),y=i.flush()),delete s[R];else if(A.httpLabel){i.write(v,I);let O=i.flush();E.path.includes(`{${R}+}`)?E.path=E.path.replace(`{${R}+}`,O.split("/").map(zt).join("/")):E.path.includes(`{${R}}`)&&(E.path=E.path.replace(`{${R}}`,zt(O))),delete s[R]}else if(A.httpHeader)i.write(v,I),a[A.httpHeader.toLowerCase()]=String(i.flush()),delete s[R];else if(typeof A.httpPrefixHeaders=="string"){for(let[O,F]of Object.entries(I)){let j=A.httpPrefixHeaders+O;i.write([v.getValueSchema(),{httpHeader:j}],F),a[j.toLowerCase()]=i.flush()}delete s[R]}else A.httpQuery||A.httpQueryParams?(this.serializeQuery(v,I,o),delete s[R]):m=!0}return m&&s&&(i.write(g,s),y=i.flush()),E.headers=a,E.query=o,E.body=y,E}serializeQuery(t,r,n){let s=this.serializer,i=t.getMergedTraits();if(i.httpQueryParams){for(let[o,a]of Object.entries(r))if(!(o in n)){let l=t.getValueSchema();Object.assign(l.getMergedTraits(),{...i,httpQuery:o,httpQueryParams:void 0}),this.serializeQuery(l,a,n)}return}if(t.isListSchema()){let o=!!t.getMergedTraits().sparse,a=[];for(let l of r){s.write([t.getValueSchema(),i],l);let u=s.flush();(o||u!==void 0)&&a.push(u)}n[i.httpQuery]=a}else s.write([t,i],r),n[i.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,i=H.of(t.output),o={};if(n.statusCode>=300){let l=await _t(n.body,r);throw l.byteLength>0&&Object.assign(o,await s.read(15,l)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let u=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=u}let a=await this.deserializeHttpMessage(i,r,n,o);if(a.length){let l=await _t(n.body,r);if(l.byteLength>0){let u=await s.read(i,l);for(let g of a)o[g]=u[g]}}else a.discardResponseBody&&await _t(n.body,r);return o.$metadata=this.deserializeMetadata(n),o}async deserializeHttpMessage(t,r,n,s,i){let o;s instanceof Set?o=i:o=s;let a=!0,l=this.deserializer,u=H.of(t),g=[];for(let[m,y]of u.structIterator()){let E=y.getMemberTraits();if(E.httpPayload){if(a=!1,y.isStreaming())y.isStructSchema()?o[m]=await this.deserializeEventStream({response:n,responseSchema:u}):o[m]=(0,NR.sdkStreamMixin)(n.body);else if(n.body){let v=await _t(n.body,r);v.byteLength>0&&(o[m]=await l.read(y,v))}}else if(E.httpHeader){let R=String(E.httpHeader).toLowerCase(),v=n.headers[R];if(v!=null)if(y.isListSchema()){let A=y.getValueSchema();A.getMergedTraits().httpHeader=R;let I;A.isTimestampSchema()&&A.getSchema()===4?I=Yf(v,",",2):I=_i(v);let O=[];for(let F of I)O.push(await l.read(A,F.trim()));o[m]=O}else o[m]=await l.read(y,v)}else if(E.httpPrefixHeaders!==void 0){o[m]={};for(let[R,v]of Object.entries(n.headers))if(R.startsWith(E.httpPrefixHeaders)){let A=y.getValueSchema();A.getMergedTraits().httpHeader=R,o[m][R.slice(E.httpPrefixHeaders.length)]=await l.read(A,v)}}else E.httpResponseCode?o[m]=n.statusCode:g.push(m)}return g.discardResponseBody=a,g}}});var $R,mr,kR=C(()=>{c();he();$R=b(Re());la();va();mr=class extends Tn{async serializeRequest(t,r,n){let s=this.serializer,i={},o={},a=await n.endpoint(),l=H.of(t?.input),u=l.getSchema(),g,m=new $R.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:i,headers:o,body:void 0});a&&(this.updateServiceEndpoint(m,a),this.setHostPrefix(m,t,r));let y={...r};if(r){let E=l.getEventStreamMember();if(E){if(y[E]){let R={};for(let[v,A]of l.structIterator())v!==E&&y[v]&&(s.write(A,y[v]),R[v]=s.flush());g=await this.serializeEventStream({eventStream:y[E],requestSchema:l,initialRequest:R})}}else s.write(u,y),g=s.flush()}return m.headers=o,m.query=i,m.body=g,m.method="POST",m}async deserializeResponse(t,r,n){let s=this.deserializer,i=H.of(t.output),o={};if(n.statusCode>=300){let l=await _t(n.body,r);throw l.byteLength>0&&Object.assign(o,await s.read(15,l)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let u=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=u}let a=i.getEventStreamMember();if(a)o[a]=await this.deserializeEventStream({response:n,responseSchema:i,initialResponseContainer:o});else{let l=await _t(n.body,r);l.byteLength>0&&Object.assign(o,await s.read(i,l))}return o.$metadata=this.deserializeMetadata(n),o}}});var Jf,Zf=C(()=>{c();ua();Jf=(e,t,r,n,s,i)=>{if(t!=null&&t[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?o.split("/").map(a=>zt(a)).join("/"):zt(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function em(e,t){return new xa(e,t)}var MR,xa,FR=C(()=>{c();MR=b(Re());Zf();xa=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let i of this.resolvePathStack)i(this.path);return new MR.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(i=>{this.path=Jf(i,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function ht(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:i}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?6:i||r?5:void 0:void 0)??t.timestampFormat.default}var Aa=C(()=>{c()});var tm,LR,xn,rm=C(()=>{c();he();rt();tm=b(Me()),LR=b(ke());ps();Aa();xn=class extends nt{settings;constructor(t){super(),this.settings=t}read(t,r){let n=H.of(t);if(n.isListSchema())return _i(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??tm.fromBase64)(r);if(n.isTimestampSchema())switch(ht(n,this.settings)){case 5:return Wf(r);case 6:return Kf(r);case 7:return ds(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,i=r;if(s)return n.getMergedTraits().httpHeader&&(i=this.base64ToUtf8(i)),(s==="application/json"||s.endsWith("+json"))&&(i=tt.from(i)),i}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new be(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??LR.toUtf8)((this.serdeContext?.base64Decoder??tm.fromBase64)(t))}}});var Ia,An,UR=C(()=>{c();he();Ia=b(ke());ps();rm();An=class extends nt{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new xn(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=H.of(t),s=n.getMergedTraits(),i=this.serdeContext?.utf8Encoder??Ia.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,i(r));if(s.httpPayload){if(n.isBlobSchema()){let o=this.serdeContext?.utf8Decoder??Ia.fromUtf8;return typeof r=="string"?o(r):r}else if(n.isStringSchema())return"byteLength"in r?i(r):r}return this.codecDeserializer.read(n,r)}}});var nm,Ci,sm=C(()=>{c();he();rt();nm=b(Me());ps();Aa();Ci=class extends nt{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let n=H.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(ht(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Ei(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??nm.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let o="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let l=this.flush(),u=n.getValueSchema().isTimestampSchema()?l:jf(l);o!==""&&(o+=", "),o+=u}this.stringBuffer=o;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,i=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(i=tt.from(i)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??nm.toBase64)(i.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=(0,Ct.v4)():this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var In,qR=C(()=>{c();he();sm();In=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new Ci(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=H.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var HR={};ut(HR,{FromStringShapeDeserializer:()=>xn,HttpBindingProtocol:()=>vn,HttpInterceptingShapeDeserializer:()=>An,HttpInterceptingShapeSerializer:()=>In,HttpProtocol:()=>Tn,RequestBuilder:()=>xa,RpcProtocol:()=>mr,SerdeContext:()=>nt,ToStringShapeSerializer:()=>Ci,collectBody:()=>_t,determineTimestampFormat:()=>ht,extendedEncodeURIComponent:()=>zt,requestBuilder:()=>em,resolvedPath:()=>Jf});var dt=C(()=>{c();la();ua();OR();va();kR();FR();Zf();rm();UR();qR();sm();Aa();ps()});var BR=C(()=>{c();dt()});function _U(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var jR=C(()=>{c()});var hr,VR=C(()=>{c();hr=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var zR,im,om,GR=C(()=>{c();zR=b(Re()),im=b(Dr()),om=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=zR.HttpRequest.clone(t);if(n.in===im.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===im.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var WR,am,KR=C(()=>{c();WR=b(Re()),am=class{async sign(t,r,n){let s=WR.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var kt,YR=C(()=>{c();kt=class{async sign(t,r,n){return t}}});var XR=C(()=>{c();GR();KR();YR()});var QR,CU,cm,Pa,lm,JR=C(()=>{c();QR=e=>function(r){return Pa(r)&&r.expiration.getTime()-Date.now()<e},CU=3e5,cm=QR(3e5),Pa=e=>e.expiration!==void 0,lm=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,i,o,a=!1,l=async u=>{i||(i=n(u));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return t===void 0?async u=>((!o||u?.forceRefresh)&&(s=await l(u)),s):async u=>((!o||u?.forceRefresh)&&(s=await l(u)),a?s:r(s)?(t(s)&&await l(u),s):(a=!0,s))}});var ZR=C(()=>{c();VR();XR();JR()});var fs={};ut(fs,{DefaultIdentityProviderConfig:()=>hr,EXPIRATION_MS:()=>CU,HttpApiKeyAuthSigner:()=>om,HttpBearerAuthSigner:()=>am,NoAuthSigner:()=>kt,createIsIdentityExpiredFunction:()=>QR,createPaginator:()=>fE,doesIdentityRequireRefresh:()=>Pa,getHttpAuthSchemeEndpointRuleSetPlugin:()=>_n,getHttpAuthSchemePlugin:()=>tF,getHttpSigningPlugin:()=>Cn,getSmithyContext:()=>YM,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>QS,httpAuthSchemeMiddleware:()=>ci,httpAuthSchemeMiddlewareOptions:()=>sE,httpSigningMiddleware:()=>Hp,httpSigningMiddlewareOptions:()=>lE,isIdentityExpired:()=>cm,memoizeIdentityProvider:()=>lm,normalizeProvider:()=>Or,requestBuilder:()=>em,setFeature:()=>_U});var st=C(()=>{c();GS();oE();dE();pE();mE();BR();jR();ZR()});var Fr=N(Pn=>{"use strict";c();var dm=Dr(),pm=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),i=0;for(;;){let{value:o,done:a}=s.next();if(this.data.delete(o),a||++i>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let i=String(t[s]??"");if(i.includes("|;"))return!1;r+=i+"|;"}return r}},wU=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),e_=e=>wU.test(e)||e.startsWith("[")&&e.endsWith("]"),bU=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),mm=(e,t=!1)=>{if(!t)return bU.test(e);let r=e.split(".");for(let n of r)if(!mm(n))return!1;return!0},fm={},wi="endpoints";function Mr(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Mr(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Mr).join(", ")})`:JSON.stringify(e,null,2)}var Ve=class extends Error{constructor(t){super(t),this.name="EndpointError"}},TU=(e,t)=>e===t,vU=e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Ve(`Path: '${e}' does not end with ']'`);let i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new Ve(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},t_=(e,t)=>vU(t).reduce((r,n)=>{if(typeof r!="object")throw new Ve(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),xU=e=>e!=null,AU=e=>!e,um={[dm.EndpointURLScheme.HTTP]:80,[dm.EndpointURLScheme.HTTPS]:443},IU=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:y,port:E,protocol:R="",path:v="",query:A={}}=e,I=new URL(`${R}//${y}${E?`:${E}`:""}${v}`);return I.search=Object.entries(A).map(([O,F])=>`${O}=${F}`).join("&"),I}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=t;if(a)return null;let l=o.slice(0,-1);if(!Object.values(dm.EndpointURLScheme).includes(l))return null;let u=e_(s),g=r.includes(`${n}:${um[l]}`)||typeof e=="string"&&e.includes(`${n}:${um[l]}`),m=`${n}${g?`:${um[l]}`:""}`;return{scheme:l,authority:m,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:u}},PU=(e,t)=>e===t,DU=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),NU=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),OU={booleanEquals:TU,getAttr:t_,isSet:xU,isValidHostLabel:mm,not:AU,parseURL:IU,stringEquals:PU,substring:DU,uriEncode:NU},r_=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));let o=e.indexOf("}",i);if(o===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(i+1,o)),s=o+2);let a=e.substring(i+1,o);if(a.includes("#")){let[l,u]=a.split("#");r.push(t_(n[l],u))}else r.push(n[a]);s=o+1}return r.join("")},$U=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Da=(e,t,r)=>{if(typeof e=="string")return r_(e,r);if(e.fn)return s_.callFunction(e,r);if(e.ref)return $U(e,r);throw new Ve(`'${t}': ${String(e)} is not a string, function or reference.`)},n_=({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:s_.evaluateExpression(i,"arg",r)),s=e.split(".");return s[0]in fm&&s[1]!=null?fm[s[0]][s[1]](...n):OU[e](...n)},s_={evaluateExpression:Da,callFunction:n_},kU=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Ve(`'${e}' is already defined in Reference Record.`);let n=n_(t,r);return r.logger?.debug?.(`${wi} evaluateCondition: ${Mr(t)} = ${Mr(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},hm=(e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:i}=kU(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};i&&(r[i.name]=i.value,t.logger?.debug?.(`${wi} assign: ${i.name} := ${Mr(i.value)}`))}return{result:!0,referenceRecord:r}},MU=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{let o=Da(i,"Header value entry",t);if(typeof o!="string")throw new Ve(`Header '${n}' value '${o}' is not a string`);return o})}),{}),i_=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:a_.getEndpointProperty(s,t)}),{}),o_=(e,t)=>{if(Array.isArray(e))return e.map(r=>o_(r,t));switch(typeof e){case"string":return r_(e,t);case"object":if(e===null)throw new Ve(`Unexpected endpoint property: ${e}`);return a_.getEndpointProperties(e,t);case"boolean":return e;default:throw new Ve(`Unexpected endpoint property type: ${typeof e}`)}},a_={getEndpointProperty:o_,getEndpointProperties:i_},FU=(e,t)=>{let r=Da(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ve(`Endpoint URL must be a string, got ${typeof r}`)},LU=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:i}=hm(r,t);if(!s)return;let o={...t,referenceRecord:{...t.referenceRecord,...i}},{url:a,properties:l,headers:u}=n;return t.logger?.debug?.(`${wi} Resolving endpoint from template: ${Mr(n)}`),{...u!=null&&{headers:MU(u,o)},...l!=null&&{properties:i_(l,o)},url:FU(a,o)}},UU=(e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:i}=hm(r,t);if(s)throw new Ve(Da(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},c_=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=LU(r,t);if(n)return n}else if(r.type==="error")UU(r,t);else if(r.type==="tree"){let n=l_.evaluateTreeRule(r,t);if(n)return n}else throw new Ve(`Unknown endpoint rule: ${r}`);throw new Ve("Rules evaluation failed")},qU=(e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=hm(r,t);if(s)return l_.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},l_={evaluateRules:c_,evaluateTreeRule:qU},HU=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:i}=e;t.logger?.debug?.(`${wi} Initial EndpointParams: ${Mr(r)}`);let o=Object.entries(s).filter(([,u])=>u.default!=null).map(([u,g])=>[u,g.default]);if(o.length>0)for(let[u,g]of o)r[u]=r[u]??g;let a=Object.entries(s).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(r[u]==null)throw new Ve(`Missing required parameter: '${u}'`);let l=c_(i,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${wi} Resolved endpoint: ${Mr(l)}`),l};Pn.EndpointCache=pm;Pn.EndpointError=Ve;Pn.customEndpointFunctions=fm;Pn.isIpAddress=e_;Pn.isValidHostLabel=mm;Pn.resolveEndpoint=HU});var d_=N(u_=>{"use strict";c();function BU(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}u_.parseQueryString=BU});var gr=N(f_=>{"use strict";c();var jU=d_(),p_=e=>{if(typeof e=="string")return p_(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:i}=e,o;return i&&(o=jU.parseQueryString(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}};f_.parseUrl=p_});var Dn=N(Mt=>{"use strict";c();var ms=Fr(),VU=gr(),h_=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!h_(r))return!1;return!0}return!(!ms.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||ms.isIpAddress(e))},m_=":",zU="/",GU=e=>{let t=e.split(m_);if(t.length<6)return null;let[r,n,s,i,o,...a]=t;if(r!=="arn"||n===""||s===""||a.join(m_)==="")return null;let l=a.map(u=>u.split(zU)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:l}},WU=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"AWS European Sovereign Cloud (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],KU="1.1",g_={partitions:WU,version:KU},S_=g_,E_="",y_=e=>{let{partitions:t}=S_;for(let n of t){let{regions:s,outputs:i}=n;for(let[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},R_=(e,t="")=>{S_=e,E_=t},YU=()=>{R_(g_,"")},XU=()=>E_,__={isVirtualHostableS3Bucket:h_,parseArn:GU,partition:y_};ms.customEndpointFunctions.aws=__;var QU=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>C_(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},C_=e=>VU.parseUrl(e.url);Object.defineProperty(Mt,"EndpointError",{enumerable:!0,get:function(){return ms.EndpointError}});Object.defineProperty(Mt,"isIpAddress",{enumerable:!0,get:function(){return ms.isIpAddress}});Object.defineProperty(Mt,"resolveEndpoint",{enumerable:!0,get:function(){return ms.resolveEndpoint}});Mt.awsEndpointFunctions=__;Mt.getUserAgentPrefix=XU;Mt.partition=y_;Mt.resolveDefaultAwsRegionalEndpointsConfig=QU;Mt.setPartitionInfo=R_;Mt.toEndpointV1=C_;Mt.useDefaultPartitionInfo=YU});var Na,Lr,w_=C(()=>{c();Na={warningEmitted:!1},Lr=e=>{e&&!Na.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<20&&(Na.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${e} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function Ur(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var b_=C(()=>{c()});function T_(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var v_=C(()=>{c()});function x_(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var A_=C(()=>{c()});var Sr={};ut(Sr,{emitWarningIfUnsupportedVersion:()=>Lr,setCredentialFeature:()=>Ur,setFeature:()=>T_,setTokenFeature:()=>x_,state:()=>Na});var wt=C(()=>{c();w_();b_();v_();A_()});var I_,gm,P_=C(()=>{c();I_=b(Re()),gm=e=>I_.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var hs,Sm=C(()=>{c();hs=e=>new Date(Date.now()+e)});var D_,N_=C(()=>{c();Sm();D_=(e,t)=>Math.abs(hs(t).getTime()-e)>=3e5});var Em,O_=C(()=>{c();N_();Em=(e,t)=>{let r=Date.parse(e);return D_(r,t)?r-Date.now():t}});var ym=C(()=>{c();P_();Sm();O_()});var $_,bi,gs,ze,Rm,_m=C(()=>{c();$_=b(Re());ym();bi=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},gs=async e=>{let t=bi("context",e.context),r=bi("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await bi("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,l=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:l}},ze=class{async sign(t,r,n){if(!$_.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await gs(n),{config:i,signer:o}=s,{signingRegion:a,signingName:l}=s,u=n.context;if(u?.authSchemes?.length??!1){let[m,y]=u.authSchemes;m?.name==="sigv4a"&&y?.name==="sigv4"&&(a=y?.signingRegion??a,l=y?.signingName??l)}return await o.sign(t,{signingDate:hs(i.systemClockOffset),signingRegion:a,signingService:l})}errorHandler(t){return r=>{let n=r.ServerTime??gm(r.$response);if(n){let s=bi("config",t.config),i=s.systemClockOffset;s.systemClockOffset=Em(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=gm(t);if(n){let s=bi("config",r.config);s.systemClockOffset=Em(n,s.systemClockOffset)}}},Rm=ze});var k_,Ti,M_=C(()=>{c();k_=b(Re());ym();_m();Ti=class extends ze{async sign(t,r,n){if(!k_.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:l}=await gs(n),g=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:hs(s.systemClockOffset),signingRegion:g,signingService:l})}}});var Cm,F_=C(()=>{c();Cm=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Oa,wm=C(()=>{c();Oa=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var L_,U_,qr,q_=C(()=>{c();F_();wm();L_="AWS_AUTH_SCHEME_PREFERENCE",U_="auth_scheme_preference",qr={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Oa(t.signingName)in e)return["httpBearerAuth"];if(L_ in e)return Cm(e[L_])},configFileSelector:e=>{if(U_ in e)return Cm(e[U_])},default:[]}});var Ge=N(Nn=>{"use strict";c();var Ss=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},bm=class e extends Ss{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},Tm=class e extends Ss{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},JU=(...e)=>async()=>{if(e.length===0)throw new Ss("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},ZU=e=>()=>Promise.resolve(e),eq=(e,t,r)=>{let n,s,i,o=!1,a=async()=>{s||(s=e());try{n=await s,i=!0,o=!1}finally{s=void 0}return n};return t===void 0?async l=>((!i||l?.forceRefresh)&&(n=await a()),n):async l=>((!i||l?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))};Nn.CredentialsProviderError=bm;Nn.ProviderError=Ss;Nn.TokenProviderError=Tm;Nn.chain=JU;Nn.fromStatic=ZU;Nn.memoize=eq});var vm,H_,B_,j_=C(()=>{c();st();vm=b(Ge()),H_=e=>(e.sigv4aSigningRegionSet=Or(e.sigv4aSigningRegionSet),e),B_={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new vm.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new vm.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var fC=N(Y=>{"use strict";c();var Hr=gf(),On=ke(),tq=jp(),W_=Re(),V_=Ze(),$a=nf(),K_="X-Amz-Algorithm",Y_="X-Amz-Credential",Nm="X-Amz-Date",X_="X-Amz-SignedHeaders",Q_="X-Amz-Expires",Om="X-Amz-Signature",$m="X-Amz-Security-Token",rq="X-Amz-Region-Set",km="authorization",Mm=Nm.toLowerCase(),J_="date",Z_=[km,Mm,J_],eC=Om.toLowerCase(),Ua="x-amz-content-sha256",tC=$m.toLowerCase(),nq="host",rC={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},nC=/^proxy-/,sC=/^sec-/,sq=[/^proxy-/i,/^sec-/i],ka="AWS4-HMAC-SHA256",iq="AWS4-ECDSA-P256-SHA256",iC="AWS4-HMAC-SHA256-PAYLOAD",oC="UNSIGNED-PAYLOAD",aC=50,Fm="aws4_request",cC=60*60*24*7,Es={},Ma=[],Fa=(e,t,r)=>`${e}/${t}/${r}/${Fm}`,lC=async(e,t,r,n,s)=>{let i=await z_(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${s}:${Hr.toHex(i)}:${t.sessionToken}`;if(o in Es)return Es[o];for(Ma.push(o);Ma.length>aC;)delete Es[Ma.shift()];let a=`AWS4${t.secretAccessKey}`;for(let l of[r,n,s,Fm])a=await z_(e,a,l);return Es[o]=a},oq=()=>{Ma.length=0,Object.keys(Es).forEach(e=>{delete Es[e]})},z_=(e,t,r)=>{let n=new e(t);return n.update(On.toUint8Array(r)),n.digest()},xm=({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let i=s.toLowerCase();(i in rC||t?.has(i)||nC.test(i)||sC.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n},La=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Ua)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||tq.isArrayBuffer(t)){let n=new r;return n.update(On.toUint8Array(t)),Hr.toHex(await n.digest())}return oC},Am=class{format(t){let r=[];for(let i of Object.keys(t)){let o=On.fromUtf8(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0)),s=0;for(let i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let o=new Uint8Array(i.buffer);return o.set(t.value,3),o;case"string":let a=On.fromUtf8(t.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);let u=new Uint8Array(l.buffer);return u.set(a,3),u;case"timestamp":let g=new Uint8Array(9);return g[0]=8,g.set(Im.fromNumber(t.value.valueOf()).bytes,1),g;case"uuid":if(!aq.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let m=new Uint8Array(17);return m[0]=9,m.set(Hr.fromHex(t.value.replace(/\-/g,"")),1),m}}},aq=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Im=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&G_(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&G_(t),parseInt(Hr.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function G_(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var uC=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},dC=(e,t={})=>{let{headers:r,query:n={}}=W_.HttpRequest.clone(e);for(let s of Object.keys(r)){let i=s.toLowerCase();(i.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(i)||t.hoistableHeaders?.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},Pm=e=>{e=W_.HttpRequest.clone(e);for(let t of Object.keys(e.headers))Z_.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},pC=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===eC)continue;let s=$a.escapeUri(n);t.push(s);let i=e[n];typeof i=="string"?r[s]=`${s}=${$a.escapeUri(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((o,a)=>o.concat([`${s}=${$a.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},cq=e=>lq(e).toISOString().replace(/\.\d{3}Z$/,"Z"),lq=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,qa=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=V_.normalizeProvider(n),this.credentialProvider=V_.normalizeProvider(r)}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${pC(t)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n,s){let i=new this.sha256;i.update(On.toUint8Array(n));let o=await i.digest();return`${s}
${t}
${r}
${Hr.toHex(o)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return $a.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=cq(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},Dm=class extends qa{headerFormatter=new Am;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){super({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,hoistableHeaders:l,signingRegion:u,signingService:g}=r,m=await this.credentialProvider();this.validateResolvedCredentials(m);let y=u??await this.regionProvider(),{longDate:E,shortDate:R}=this.formatDate(n);if(s>cC)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let v=Fa(R,y,g??this.service),A=dC(Pm(t),{unhoistableHeaders:o,hoistableHeaders:l});m.sessionToken&&(A.query[$m]=m.sessionToken),A.query[K_]=ka,A.query[Y_]=`${m.accessKeyId}/${v}`,A.query[Nm]=E,A.query[Q_]=s.toString(10);let I=xm(A,i,a);return A.query[X_]=this.getCanonicalHeaderList(I),A.query[Om]=await this.getSignature(E,v,this.getSigningKey(m,y,R,g),this.createCanonicalRequest(A,I,await La(t,this.sha256))),A}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:o}){let a=i??await this.regionProvider(),{shortDate:l,longDate:u}=this.formatDate(n),g=Fa(l,a,o??this.service),m=await La({headers:{},body:r},this.sha256),y=new this.sha256;y.update(t);let E=Hr.toHex(await y.digest()),R=[iC,u,g,s,E,m].join(`
`);return this.signString(R,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:t.priorSignature}).then(o=>({message:t.message,signature:o}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let o=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),l=new this.sha256(await this.getSigningKey(i,o,a,s));return l.update(On.toUint8Array(t)),Hr.toHex(await l.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:o}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let l=i??await this.regionProvider(),u=Pm(t),{longDate:g,shortDate:m}=this.formatDate(r),y=Fa(m,l,o??this.service);u.headers[Mm]=g,a.sessionToken&&(u.headers[tC]=a.sessionToken);let E=await La(u,this.sha256);!uC(Ua,u.headers)&&this.applyChecksum&&(u.headers[Ua]=E);let R=xm(u,s,n),v=await this.getSignature(g,y,this.getSigningKey(a,l,m,o),this.createCanonicalRequest(u,R,E));return u.headers[km]=`${ka} Credential=${a.accessKeyId}/${y}, SignedHeaders=${this.getCanonicalHeaderList(R)}, Signature=${v}`,u}async getSignature(t,r,n,s){let i=await this.createStringToSign(t,r,s,ka),o=new this.sha256(await n);return o.update(On.toUint8Array(i)),Hr.toHex(await o.digest())}getSigningKey(t,r,n,s){return lC(this.sha256,t,n,r,s||this.service)}},uq={SignatureV4a:null};Y.ALGORITHM_IDENTIFIER=ka;Y.ALGORITHM_IDENTIFIER_V4A=iq;Y.ALGORITHM_QUERY_PARAM=K_;Y.ALWAYS_UNSIGNABLE_HEADERS=rC;Y.AMZ_DATE_HEADER=Mm;Y.AMZ_DATE_QUERY_PARAM=Nm;Y.AUTH_HEADER=km;Y.CREDENTIAL_QUERY_PARAM=Y_;Y.DATE_HEADER=J_;Y.EVENT_ALGORITHM_IDENTIFIER=iC;Y.EXPIRES_QUERY_PARAM=Q_;Y.GENERATED_HEADERS=Z_;Y.HOST_HEADER=nq;Y.KEY_TYPE_IDENTIFIER=Fm;Y.MAX_CACHE_SIZE=aC;Y.MAX_PRESIGNED_TTL=cC;Y.PROXY_HEADER_PATTERN=nC;Y.REGION_SET_PARAM=rq;Y.SEC_HEADER_PATTERN=sC;Y.SHA256_HEADER=Ua;Y.SIGNATURE_HEADER=eC;Y.SIGNATURE_QUERY_PARAM=Om;Y.SIGNED_HEADERS_QUERY_PARAM=X_;Y.SignatureV4=Dm;Y.SignatureV4Base=qa;Y.TOKEN_HEADER=tC;Y.TOKEN_QUERY_PARAM=$m;Y.UNSIGNABLE_PATTERNS=sq;Y.UNSIGNED_PAYLOAD=oC;Y.clearCredentialCache=oq;Y.createScope=Fa;Y.getCanonicalHeaders=xm;Y.getCanonicalQuery=pC;Y.getPayloadHash=La;Y.getSigningKey=lC;Y.hasHeader=uC;Y.moveHeadersToQuery=dC;Y.prepareRequest=Pm;Y.signatureV4aContainer=uq});function dq(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=lm(t,cm,Pa):r?n=Or(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function pq(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Lm,Er,mC,hC=C(()=>{c();wt();st();Lm=b(fC()),Er=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(u){u&&u!==t&&u!==n&&(r=!0),t=u;let g=dq(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),m=pq(e,g);if(r&&!m.attributed){let y=typeof t=="object"&&t!==null;n=async E=>{let v=await m(E);return y&&(!v.$source||Object.keys(v.$source).length===0)?Ur(v,"CREDENTIALS_CODE","e"):v},n.memoized=m.memoized,n.configBound=m.configBound,n.attributed=!0}else n=m},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=Or(e.signer):e.regionInfoProvider?a=()=>Or(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,g])=>{let{signingRegion:m,signingService:y}=u;e.signingRegion=e.signingRegion||m||g,e.signingName=e.signingName||y||e.serviceId;let E={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},R=e.signerConstructor||Lm.SignatureV4;return new R(E)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Or(e.region)(),properties:{}},u);let g=u.signingRegion,m=u.signingName;e.signingRegion=e.signingRegion||g,e.signingName=e.signingName||m||e.serviceId;let y={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},E=e.signerConstructor||Lm.SignatureV4;return new E(y)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},mC=Er});var gC=C(()=>{c();_m();M_();q_();j_();hC()});var SC={};ut(SC,{AWSSDKSigV4Signer:()=>Rm,AwsSdkSigV4ASigner:()=>Ti,AwsSdkSigV4Signer:()=>ze,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>qr,NODE_SIGV4A_CONFIG_OPTIONS:()=>B_,getBearerTokenEnvKey:()=>Oa,resolveAWSSDKSigV4Config:()=>mC,resolveAwsSdkSigV4AConfig:()=>H_,resolveAwsSdkSigV4Config:()=>Er,validateSigningProperties:()=>gs});var Um=C(()=>{c();gC();wm()});function Br(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function Ha(e){return e[qm]=!0,e}var qm,Ba=C(()=>{c();qm=Symbol("@smithy/core/cbor::tagSymbol")});function RC(e){_e=e,Rr=new DataView(_e.buffer,_e.byteOffset,_e.byteLength)}function Kt(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(_e[e]&224)>>5,n=_e[e]&31;switch(r){case 0:case 1:case 6:let s,i;if(n<24)s=n,i=1;else switch(n){case 24:case 25:case 26:case 27:let o=CC[n],a=o+1;if(i=a,t-e<a)throw new Error(`countLength ${o} greater than remaining buf len.`);let l=e+1;o===1?s=_e[l]:o===2?s=Rr.getUint16(l):o===4?s=Rr.getUint32(l):s=Rr.getBigUint64(l);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return Q=i,Hm(s);if(r===1){let o;return typeof s=="bigint"?o=BigInt(-1)-s:o=-1-s,Q=i,Hm(o)}else if(n===2||n===3){let o=Ii(e+i,t),a=BigInt(0),l=e+i+Q;for(let u=l;u<l+o;++u)a=a<<BigInt(8)|BigInt(_e[u]);return Q=i+Q+o,n===3?-a-BigInt(1):a}else if(n===4){let o=Kt(e+i,t),[a,l]=o,u=l<0?-1:1,g="0".repeat(Math.abs(a)+1)+String(BigInt(u)*BigInt(l)),m,y=l<0?"-":"";return m=a===0?g:g.slice(0,g.length+a)+"."+g.slice(a),m=m.replace(/^0+/g,""),m===""&&(m="0"),m[0]==="."&&(m="0"+m),m=y+m,Q=i+Q,Xf(m)}else{let o=Kt(e+i,t);return Q=i+Q,Ha({tag:Hm(s),value:o})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return yq(e,t);case 5:return bq(e,t);case 4:return Cq(e,t);case 2:return Rq(e,t)}else switch(r){case 3:return Eq(e,t);case 5:return wq(e,t);case 4:return _q(e,t);case 2:return Wm(e,t)}default:return Tq(e,t)}}function _C(e,t,r){return hq&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):EC?EC.decode(e.subarray(t,r)):(0,yC.toUtf8)(e.subarray(t,r))}function gq(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function Sq(e,t){let r=e>>7,n=(e&124)>>2,s=(e&3)<<8|t,i=r===0?1:-1,o,a;if(n===0){if(s===0)return 0;o=Math.pow(2,-14),a=0}else{if(n===31)return s===0?i*(1/0):NaN;o=Math.pow(2,n-15),a=1}return a+=s/1024,i*(o*a)}function Ii(e,t){let r=_e[e]&31;if(r<24)return Q=1,r;if(r===24||r===25||r===26||r===27){let n=CC[r];if(Q=n+1,t-e<Q)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?_e[s]:n===2?Rr.getUint16(s):n===4?Rr.getUint32(s):gq(Rr.getBigUint64(s))}throw new Error(`unexpected minor value ${r}.`)}function Eq(e,t){let r=Ii(e,t),n=Q;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let s=_C(_e,e,e+r);return Q=n+r,s}function yq(e,t){e+=1;let r=[];for(let n=e;e<t;){if(_e[e]===255){let l=Br(r.length);return l.set(r,0),Q=e-n+2,_C(l,0,l.length)}let s=(_e[e]&224)>>5,i=_e[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let o=Wm(e,t);e+=Q;for(let l=0;l<o.length;++l)r.push(o[l])}throw new Error("expected break marker.")}function Wm(e,t){let r=Ii(e,t),n=Q;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let s=_e.subarray(e,e+r);return Q=n+r,s}function Rq(e,t){e+=1;let r=[];for(let n=e;e<t;){if(_e[e]===255){let l=Br(r.length);return l.set(r,0),Q=e-n+2,l}let s=(_e[e]&224)>>5,i=_e[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let o=Wm(e,t);e+=Q;for(let l=0;l<o.length;++l)r.push(o[l])}throw new Error("expected break marker.")}function _q(e,t){let r=Ii(e,t),n=Q;e+=n;let s=e,i=Array(r);for(let o=0;o<r;++o){let a=Kt(e,t),l=Q;i[o]=a,e+=l}return Q=n+(e-s),i}function Cq(e,t){e+=1;let r=[];for(let n=e;e<t;){if(_e[e]===255)return Q=e-n+2,r;let s=Kt(e,t);e+=Q,r.push(s)}throw new Error("expected break marker.")}function wq(e,t){let r=Ii(e,t),n=Q;e+=n;let s=e,i={};for(let o=0;o<r;++o){if(e>=t)throw new Error("unexpected end of map payload.");let a=(_e[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let l=Kt(e,t);e+=Q;let u=Kt(e,t);e+=Q,i[l]=u}return Q=n+(e-s),i}function bq(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(_e[e]===255)return Q=e-r+2,n;let s=(_e[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let i=Kt(e,t);e+=Q;let o=Kt(e,t);e+=Q,n[i]=o}throw new Error("expected break marker.")}function Tq(e,t){let r=_e[e]&31;switch(r){case 21:case 20:return Q=1,r===21;case 22:return Q=1,null;case 23:return Q=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return Q=3,Sq(_e[e+1],_e[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return Q=5,Rr.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return Q=9,Rr.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function Hm(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var yC,mq,hq,_e,Rr,EC,Q,CC,wC=C(()=>{c();rt();yC=b(ke());Ba();mq=typeof TextDecoder<"u",hq=typeof Buffer<"u",_e=Br(0),Rr=new DataView(_e.buffer,_e.byteOffset,_e.byteLength),EC=mq?new TextDecoder:null,Q=0;CC={[24]:1,[25]:2,[26]:4,[27]:8}});function Ym(e){z.byteLength-B<e&&(B<16e6?Va(Math.max(z.byteLength*4,z.byteLength+e)):Va(z.byteLength+e+16e6))}function Xm(){let e=Br(B);return e.set(z.subarray(0,B),0),B=0,e}function Va(e){let t=z;z=Br(e),t&&(t.copy?t.copy(z,0,0,t.byteLength):z.set(t,0)),wr=new DataView(z.buffer,z.byteOffset,z.byteLength)}function Cr(e,t){t<24?z[B++]=e<<5|t:t<256?(z[B++]=e<<5|24,z[B++]=t):t<65536?(z[B++]=e<<5|25,wr.setUint16(B,t),B+=2):t<2**32?(z[B++]=e<<5|26,wr.setUint32(B,t),B+=4):(z[B++]=e<<5|27,wr.setBigUint64(B,typeof t=="bigint"?t:BigInt(t)),B+=8)}function vC(e){let t=[e];for(;t.length;){let r=t.pop();if(Ym(typeof r=="string"?r.length*4:64),typeof r=="string"){if(bC)Cr(3,Buffer.byteLength(r)),B+=z.write(r,B);else{let n=(0,TC.fromUtf8)(r);Cr(3,n.byteLength),z.set(n,B),B+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,s=n?0:1,i=n?r:-r-1;i<24?z[B++]=s<<5|i:i<256?(z[B++]=s<<5|24,z[B++]=i):i<65536?(z[B++]=s<<5|25,z[B++]=i>>8,z[B++]=i):i<4294967296?(z[B++]=s<<5|26,wr.setUint32(B,i),B+=4):(z[B++]=s<<5|27,wr.setBigUint64(B,BigInt(i)),B+=8);continue}z[B++]=251,wr.setFloat64(B,r),B+=8;continue}else if(typeof r=="bigint"){let n=r>=0,s=n?0:1,i=n?r:-r-BigInt(1),o=Number(i);if(o<24)z[B++]=s<<5|o;else if(o<256)z[B++]=s<<5|24,z[B++]=o;else if(o<65536)z[B++]=s<<5|25,z[B++]=o>>8,z[B++]=o&255;else if(o<4294967296)z[B++]=s<<5|26,wr.setUint32(B,o),B+=4;else if(i<BigInt("18446744073709551616"))z[B++]=s<<5|27,wr.setBigUint64(B,i),B+=8;else{let a=i.toString(2),l=new Uint8Array(Math.ceil(a.length/8)),u=i,g=0;for(;l.byteLength-++g>=0;)l[l.byteLength-g]=Number(u&BigInt(255)),u>>=BigInt(8);Ym(l.byteLength*2),z[B++]=n?194:195,bC?Cr(2,Buffer.byteLength(l)):Cr(2,l.byteLength),z.set(l,B),B+=l.byteLength}continue}else if(r===null){z[B++]=246;continue}else if(typeof r=="boolean"){z[B++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);Cr(4,r.length);continue}else if(typeof r.byteLength=="number"){Ym(r.length*2),Cr(2,r.length),z.set(r,B),B+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof be){let s=r.string.indexOf("."),i=s===-1?0:s-r.string.length+1,o=BigInt(r.string.replace(".",""));z[B++]=196,t.push(o),t.push(i),Cr(4,2);continue}if(r[qm])if("tag"in r&&"value"in r){t.push(r.value),Cr(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let s=n.length-1;s>=0;--s){let i=n[s];t.push(r[i]),t.push(i)}Cr(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var TC,bC,vq,z,wr,B,xC=C(()=>{c();rt();TC=b(ke());Ba();bC=typeof Buffer<"u",vq=2048,z=Br(vq),wr=new DataView(z.buffer,z.byteOffset,z.byteLength),B=0});var Qm,AC=C(()=>{c();wC();xC();Qm={deserialize(e){return RC(e),Kt(0,e.length)},serialize(e){try{return vC(e),Xm()}catch(t){throw Xm(),t}},resizeEncodingBuffer(e){Va(e)}}});var za,Ga,Wa=C(()=>{c();Ba();za=e=>Ha({tag:1,value:e.getTime()/1e3}),Ga=(e,t)=>{let r=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(s=>s.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var eh,Ka,Jm,Zm,th=C(()=>{c();dt();he();rt();rt();eh=b(Me());AC();Wa();Ka=class extends nt{createSerializer(){let t=new Jm;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Zm;return t.setSerdeContext(this.serdeContext),t}},Jm=class extends nt{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=H.of(t);if(r==null)return n.isIdempotencyToken()?(0,Ct.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??eh.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?za(new Date(Number(r)/1e3|0)):za(r);if(typeof r=="function"||typeof r=="object"){let s=r;if(n.isListSchema()&&Array.isArray(s)){let o=!!n.getMergedTraits().sparse,a=[],l=0;for(let u of s){let g=this.serialize(n.getValueSchema(),u);(g!=null||o)&&(a[l++]=g)}return a}if(s instanceof Date)return za(s);let i={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse;for(let a of Object.keys(s)){let l=this.serialize(n.getValueSchema(),s[a]);(l!=null||o)&&(i[a]=l)}}else if(n.isStructSchema()){for(let[a,l]of n.structIterator()){let u=this.serialize(l,s[a]);u!=null&&(i[a]=u)}if(n.isUnionSchema()&&Array.isArray(s.$unknown)){let[a,l]=s.$unknown;i[a]=l}else if(typeof s.__type=="string")for(let[a,l]of Object.entries(s))a in i||(i[a]=this.serialize(15,l))}else if(n.isDocumentSchema())for(let o of Object.keys(s))i[o]=this.serialize(n.getValueSchema(),s[o]);else if(n.isBigDecimalSchema())return s;return i}return r}flush(){let t=Qm.serialize(this.value);return this.value=void 0,t}},Zm=class extends nt{read(t,r){let n=Qm.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=H.of(t);if(n.isTimestampSchema()){if(typeof r=="number")return ds(r);if(typeof r=="object"&&r.tag===1&&"value"in r)return ds(r.value)}if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??eh.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let i=[],o=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let l of r){let u=this.readValue(o,l);(u!=null||a)&&i.push(u)}return i}let s={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse,o=n.getValueSchema();for(let a of Object.keys(r)){let l=this.readValue(o,r[a]);(l!=null||i)&&(s[a]=l)}}else if(n.isStructSchema()){let i=n.isUnionSchema(),o;i&&(o=new Set(Object.keys(r).filter(a=>a!=="__type")));for(let[a,l]of n.structIterator())i&&o.delete(a),r[a]!=null&&(s[a]=this.readValue(l,r[a]));if(i&&o?.size===1&&Object.keys(s).length===0){let a=o.values().next().value;s.$unknown=[a,r[a]]}else if(typeof r.__type=="string")for(let[a,l]of Object.entries(r))a in s||(s[a]=l)}else if(r instanceof be)return r;return s}else return r}}});var IC,Ya,PC=C(()=>{c();dt();he();IC=b(Ze());th();Wa();Ya=class extends mr{codec=new Ka;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),$t(t.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:i,operation:o}=(0,IC.getSmithyContext)(n),a=`/service/${i}/operation/${o}`;return s.path.endsWith("/")?s.path+=a.slice(1):s.path+=a,s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=Ga(n,s)??"Unknown",a=this.options.defaultNamespace;o.includes("#")&&([a]=o.split("#"));let l={$metadata:i,$fault:n.statusCode<=500?"client":"server"},u=V.for(a),g;try{g=u.getSchema(o)}catch{s.Message&&(s.message=s.Message);let I=V.for("smithy.ts.sdk.synthetic."+a),O=I.getBaseException();if(O){let F=I.getErrorCtor(O);throw Object.assign(new F({name:o}),l,s)}throw Object.assign(new Error(o),l,s)}let m=H.of(g),y=u.getErrorCtor(g),E=s.message??s.Message??"Unknown",R=new y(E),v={};for(let[A,I]of m.structIterator())v[A]=this.deserializer.readValue(I,s[A]);throw Object.assign(R,l,{$fault:m.getMergedTraits().error,message:E},v)}getDefaultContentType(){return"application/cbor"}}});var DC=C(()=>{c();Wa();PC();th()});var kC=N($C=>{"use strict";c();var $n=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},Gr=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,rh=()=>{let e=[],t=[],r=!1,n=new Set,s=m=>m.sort((y,E)=>NC[E.step]-NC[y.step]||OC[E.priority||"normal"]-OC[y.priority||"normal"]),i=m=>{let y=!1,E=R=>{let v=$n(R.name,R.aliases);if(v.includes(m)){y=!0;for(let A of v)n.delete(A);return!1}return!0};return e=e.filter(E),t=t.filter(E),y},o=m=>{let y=!1,E=R=>{if(R.middleware===m){y=!0;for(let v of $n(R.name,R.aliases))n.delete(v);return!1}return!0};return e=e.filter(E),t=t.filter(E),y},a=m=>(e.forEach(y=>{m.add(y.middleware,{...y})}),t.forEach(y=>{m.addRelativeTo(y.middleware,{...y})}),m.identifyOnResolve?.(g.identifyOnResolve()),m),l=m=>{let y=[];return m.before.forEach(E=>{E.before.length===0&&E.after.length===0?y.push(E):y.push(...l(E))}),y.push(m),m.after.reverse().forEach(E=>{E.before.length===0&&E.after.length===0?y.push(E):y.push(...l(E))}),y},u=(m=!1)=>{let y=[],E=[],R={};return e.forEach(A=>{let I={...A,before:[],after:[]};for(let O of $n(I.name,I.aliases))R[O]=I;y.push(I)}),t.forEach(A=>{let I={...A,before:[],after:[]};for(let O of $n(I.name,I.aliases))R[O]=I;E.push(I)}),E.forEach(A=>{if(A.toMiddleware){let I=R[A.toMiddleware];if(I===void 0){if(m)return;throw new Error(`${A.toMiddleware} is not found when adding ${Gr(A.name,A.aliases)} middleware ${A.relation} ${A.toMiddleware}`)}A.relation==="after"&&I.after.push(A),A.relation==="before"&&I.before.push(A)}}),s(y).map(l).reduce((A,I)=>(A.push(...I),A),[])},g={add:(m,y={})=>{let{name:E,override:R,aliases:v}=y,A={step:"initialize",priority:"normal",middleware:m,...y},I=$n(E,v);if(I.length>0){if(I.some(O=>n.has(O))){if(!R)throw new Error(`Duplicate middleware name '${Gr(E,v)}'`);for(let O of I){let F=e.findIndex(G=>G.name===O||G.aliases?.some(re=>re===O));if(F===-1)continue;let j=e[F];if(j.step!==A.step||A.priority!==j.priority)throw new Error(`"${Gr(j.name,j.aliases)}" middleware with ${j.priority} priority in ${j.step} step cannot be overridden by "${Gr(E,v)}" middleware with ${A.priority} priority in ${A.step} step.`);e.splice(F,1)}}for(let O of I)n.add(O)}e.push(A)},addRelativeTo:(m,y)=>{let{name:E,override:R,aliases:v}=y,A={middleware:m,...y},I=$n(E,v);if(I.length>0){if(I.some(O=>n.has(O))){if(!R)throw new Error(`Duplicate middleware name '${Gr(E,v)}'`);for(let O of I){let F=t.findIndex(G=>G.name===O||G.aliases?.some(re=>re===O));if(F===-1)continue;let j=t[F];if(j.toMiddleware!==A.toMiddleware||j.relation!==A.relation)throw new Error(`"${Gr(j.name,j.aliases)}" middleware ${j.relation} "${j.toMiddleware}" middleware cannot be overridden by "${Gr(E,v)}" middleware ${A.relation} "${A.toMiddleware}" middleware.`);t.splice(F,1)}}for(let O of I)n.add(O)}t.push(A)},clone:()=>a(rh()),use:m=>{m.applyToStack(g)},remove:m=>typeof m=="string"?i(m):o(m),removeByTag:m=>{let y=!1,E=R=>{let{tags:v,name:A,aliases:I}=R;if(v&&v.includes(m)){let O=$n(A,I);for(let F of O)n.delete(F);return y=!0,!1}return!0};return e=e.filter(E),t=t.filter(E),y},concat:m=>{let y=a(rh());return y.use(m),y.identifyOnResolve(r||y.identifyOnResolve()||(m.identifyOnResolve?.()??!1)),y},applyToStack:a,identify:()=>u(!0).map(m=>{let y=m.step??m.relation+" "+m.toMiddleware;return Gr(m.name,m.aliases)+" - "+y}),identifyOnResolve(m){return typeof m=="boolean"&&(r=m),r},resolve:(m,y)=>{for(let E of u().map(R=>R.middleware).reverse())m=E(m,y);return r&&console.log(g.identify()),m}};return g},NC={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},OC={high:3,normal:2,low:1};$C.constructStack=rh});var J=N(Ee=>{"use strict";c();var LC=kC(),dh=(dt(),ie(HR)),sh=Dr(),xq=(he(),ie(ga)),MC=(rt(),ie(xR)),ih=class{config;middlewareStack=LC.constructStack();initConfig;handlers;constructor(t){this.config=t;let{protocol:r,protocolSettings:n}=t;n&&typeof r=="function"&&(t.protocol=new r(n))}send(t,r,n){let s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,o=s===void 0&&this.config.cacheMiddleware===!0,a;if(o){this.handlers||(this.handlers=new WeakMap);let l=this.handlers;l.has(t.constructor)?a=l.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,s),l.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,s);if(i)a(t).then(l=>i(null,l.output),l=>i(l)).catch(()=>{});else return a(t).then(l=>l.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},nh="***SensitiveInformation***";function oh(e,t){if(t==null)return t;let r=xq.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return nh;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return nh}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return nh}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[i,o]of r.structIterator())n[i]!=null&&(s[i]=oh(o,n[i]));return s}return t}var Xa=class{middlewareStack=LC.constructStack();schema;static classBuilder(){return new ah}resolveMiddlewareWithContext(t,r,n,{middlewareFn:s,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,smithyContext:u,additionalContext:g,CommandCtor:m}){for(let A of s.bind(this)(m,t,r,n))this.middlewareStack.use(A);let y=t.concat(this.middlewareStack),{logger:E}=r,R={logger:E,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,[sh.SMITHY_CONTEXT_KEY]:{commandInstance:this,...u},...g},{requestHandler:v}=r;return y.resolve(A=>v.handle(A.request,n||{}),R)}},ah=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends Xa{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,s,i){let o=t._operationSchema,a=o?.[4]??o?.input,l=o?.[5]??o?.output;return this.resolveMiddlewareWithContext(n,s,i,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(o?oh.bind(null,a):u=>u),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(o?oh.bind(null,l):u=>u),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},Aq="***SensitiveInformation***",Iq=(e,t,r)=>{for(let[i,o]of Object.entries(e)){let a=async function(u,g,m){let y=new o(u);if(typeof g=="function")this.send(y,g);else if(typeof m=="function"){if(typeof g!="object")throw new Error(`Expected http options but got ${typeof g}`);this.send(y,g||{},m)}else return this.send(y,g)},l=(i[0].toLowerCase()+i.slice(1)).replace(/Command$/,"");t.prototype[l]=a}let{paginators:n={},waiters:s={}}=r??{};for(let[i,o]of Object.entries(n))t.prototype[i]===void 0&&(t.prototype[i]=function(a={},l,...u){return o({...l,client:this},a,...u)});for(let[i,o]of Object.entries(s))t.prototype[i]===void 0&&(t.prototype[i]=async function(a={},l,...u){let g=l;return typeof l=="number"&&(g={maxWaitTime:l}),o({...g,client:this},a,...u)})},ch=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},UC=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},qC=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=Dq(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:s});throw UC(o,t)},Pq=e=>({output:t,parsedBody:r,errorCode:n})=>{qC({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},Dq=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Nq=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},FC=!1,Oq=e=>{e&&!FC&&parseInt(e.substring(1,e.indexOf(".")))<16&&(FC=!0)},$q=e=>{let t=[];for(let r in sh.AlgorithmId){let n=sh.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},kq=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},Mq=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),Fq=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},HC=e=>Object.assign($q(e),Mq(e)),Lq=HC,Uq=e=>Object.assign(kq(e),Fq(e)),qq=e=>Array.isArray(e)?e:[e],BC=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=BC(e[r]));return e},Hq=e=>e!=null,lh=class{trace(){}debug(){}info(){}warn(){}error(){}};function jC(e,t,r){let n,s,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return s=t,i=r,Vq(n,s,i);i=t}for(let o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}VC(n,null,i,o)}return n}var Bq=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},jq=(e,t)=>{let r={};for(let n in t)VC(r,e,t,n);return r},Vq=(e,t,r)=>jC(e,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[t,i()]:n[s]=[t,i],n),{})),VC=(e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);let[a=zq,l=Gq,u=n]=o;(typeof a=="function"&&a(t[u])||typeof a!="function"&&a)&&(e[n]=l(t[u]));return}let[s,i]=r[n];if(typeof i=="function"){let o,a=s===void 0&&(o=i())!=null,l=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=o:l&&(e[n]=i())}else{let o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(e[n]=i)}},zq=e=>e!=null,Gq=e=>e,Wq=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},Kq=e=>e.toISOString().replace(".000Z","Z"),uh=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(uh);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=uh(e[r]));return t}return e};Object.defineProperty(Ee,"collectBody",{enumerable:!0,get:function(){return dh.collectBody}});Object.defineProperty(Ee,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return dh.extendedEncodeURIComponent}});Object.defineProperty(Ee,"resolvedPath",{enumerable:!0,get:function(){return dh.resolvedPath}});Ee.Client=ih;Ee.Command=Xa;Ee.NoOpLogger=lh;Ee.SENSITIVE_STRING=Aq;Ee.ServiceException=ch;Ee._json=uh;Ee.convertMap=Bq;Ee.createAggregatedClient=Iq;Ee.decorateServiceException=UC;Ee.emitWarningIfUnsupportedVersion=Oq;Ee.getArrayIfSingleItem=qq;Ee.getDefaultClientConfiguration=Lq;Ee.getDefaultExtensionConfiguration=HC;Ee.getValueFromTextNode=BC;Ee.isSerializableHeaderValue=Hq;Ee.loadConfigsForDefaultMode=Nq;Ee.map=jC;Ee.resolveDefaultRuntimeConfig=Uq;Ee.serializeDateTime=Kq;Ee.serializeFloat=Wq;Ee.take=jq;Ee.throwDefaultError=qC;Ee.withBaseException=Pq;Object.keys(MC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ee,e)&&Object.defineProperty(Ee,e,{enumerable:!0,get:function(){return MC[e]}})})});var ph,bt,Rs=C(()=>{c();he();ph=b(J()),bt=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:l,httpHeader:u,httpLabel:g,httpPrefixHeaders:m}=o.getMergedTraits();return!a&&!l&&!u&&!g&&m===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,i,o){let a=r,l=t;t.includes("#")&&([a,l]=t.split("#"));let u={$metadata:i,$fault:n.statusCode<500?"client":"server"},g=V.for(a);try{return{errorSchema:o?.(g,l)??g.getSchema(t),errorMetadata:u}}catch{s.message=s.message??s.Message??"UnknownError";let y=V.for("smithy.ts.sdk.synthetic."+a),E=y.getBaseException();if(E){let R=y.getErrorCtor(E)??Error;throw this.decorateServiceException(Object.assign(new R({name:l}),u),s)}throw this.decorateServiceException(Object.assign(new Error(l),u),s)}}decorateServiceException(t,r={}){if(this.queryCompat){let n=t.Message??r.Message,s=(0,ph.decorateServiceException)(t,r);n&&(s.message=n),s.Error={...s.Error,Type:s.Error.Type,Code:s.Error.Code,Message:s.Error.message??s.Error.Message??n};let i=s.$metadata.requestId;return i&&(s.RequestId=i),s}return(0,ph.decorateServiceException)(t,r)}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,i]=n.split(";"),o=Object.entries(t),a={Code:s,Type:i};Object.assign(t,a);for(let[l,u]of o)a[l==="message"?"Message":l]=u;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(s=>H.of(s).getMergedTraits().awsQueryError?.[0]===r)}}}});var Qa,zC=C(()=>{c();DC();he();Rs();Qa=class extends Ya{awsQueryCompatible;mixin;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r,this.mixin=new bt(this.awsQueryCompatible)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=(()=>{let R=n.headers["x-amzn-query-error"];return R&&this.awsQueryCompatible?R.split(";")[0]:Ga(n,s)??"Unknown"})(),{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),u=H.of(a),g=s.message??s.Message??"Unknown",m=V.for(a[1]).getErrorCtor(a)??Error,y=new m(g),E={};for(let[R,v]of u.structIterator())s[R]!=null&&(E[R]=this.deserializer.readValue(v,s[R]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,E),this.mixin.decorateServiceException(Object.assign(y,l,{$fault:u.getMergedTraits().error,message:g},E),s)}}});var GC,WC,KC,YC=C(()=>{c();GC=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},WC=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},KC=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var We,Wr=C(()=>{c();We=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var _s,fh=C(()=>{c();_s=class{from;to;keys;constructor(t,r){this.from=t,this.to=r,this.keys=new Set(Object.keys(this.from).filter(n=>n!=="__type"))}mark(t){this.keys.delete(t)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let t=this.keys.values().next().value,r=this.from[t];this.to.$unknown=[t,r]}}}});function XC(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new be(n,"bigDecimal"):BigInt(n)}return t}var QC=C(()=>{c();rt()});var JC,ZC,Ja,mh=C(()=>{c();JC=b(J()),ZC=b(ke()),Ja=(e,t)=>(0,JC.collectBody)(e,t).then(r=>(t?.utf8Encoder??ZC.toUtf8)(r))});var Pi,ew,Cs,Di=C(()=>{c();mh();Pi=(e,t)=>Ja(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),ew=async(e,t)=>{let r=await Pi(e,t);return r.message=r.message??r.Message,r},Cs=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var tw,ws,hh=C(()=>{c();dt();he();rt();tw=b(Me());Wr();fh();QC();Di();ws=class extends We{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,XC):await Pi(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=H.of(t);if(n){if(s.isStructSchema()){let o=r,a=s.isUnionSchema(),l={},u,{jsonName:g}=this.settings;g&&(u={});let m;a&&(m=new _s(o,l));for(let[y,E]of s.structIterator()){let R=y;g&&(R=E.getMergedTraits().jsonName??R,u[R]=y),a&&m.mark(R),o[R]!=null&&(l[y]=this._read(E,o[R]))}if(a)m.writeUnknown();else if(typeof o.__type=="string")for(let[y,E]of Object.entries(o)){let R=g?u[y]??y:y;R in l||(l[R]=E)}return l}if(Array.isArray(r)&&s.isListSchema()){let o=s.getValueSchema(),a=[],l=!!s.getMergedTraits().sparse;for(let u of r)(l||u!=null)&&a.push(this._read(o,u));return a}if(s.isMapSchema()){let o=s.getValueSchema(),a={},l=!!s.getMergedTraits().sparse;for(let[u,g]of Object.entries(r))(l||g!=null)&&(a[u]=this._read(o,g));return a}}if(s.isBlobSchema()&&typeof r=="string")return(0,tw.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i)return i==="application/json"||i.endsWith("+json")?tt.from(r):r;if(s.isTimestampSchema()&&r!=null)switch(ht(s,this.settings)){case 5:return Mf(r);case 6:return Ff(r);case 7:return Lf(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof be)return r;let o=r;return o.type==="bigDecimal"&&"string"in o?new be(o.string,o.type):new be(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(s.isDocumentSchema())if(n){let o=Array.isArray(r)?[]:{};for(let[a,l]of Object.entries(r))l instanceof be?o[a]=l:o[a]=this._read(s,l);return o}else return structuredClone(r);return r}}});var rw,Za,nw=C(()=>{c();rt();rw="\u039D",Za=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof be){let n=`${rw+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${rw+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var gh,bs,Sh=C(()=>{c();dt();he();rt();gh=b(Me());Wr();nw();bs=class extends We{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=H.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=H.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t?.isStructSchema()||t?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new Za;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=H.of(t);if(s){if(i.isStructSchema()){let o=r,a={},{jsonName:l}=this.settings,u;l&&(u={});for(let[g,m]of i.structIterator()){let y=this._write(m,o[g],i);if(y!==void 0){let E=g;l&&(E=m.getMergedTraits().jsonName??g,u[g]=E),a[E]=y}}if(i.isUnionSchema()&&Object.keys(a).length===0){let{$unknown:g}=o;if(Array.isArray(g)){let[m,y]=g;a[m]=this._write(15,y)}}else if(typeof o.__type=="string")for(let[g,m]of Object.entries(o)){let y=l?u[g]??g:g;y in a||(a[y]=this._write(15,m))}return a}if(Array.isArray(r)&&i.isListSchema()){let o=i.getValueSchema(),a=[],l=!!i.getMergedTraits().sparse;for(let u of r)(l||u!=null)&&a.push(this._write(o,u));return a}if(i.isMapSchema()){let o=i.getValueSchema(),a={},l=!!i.getMergedTraits().sparse;for(let[u,g]of Object.entries(r))(l||g!=null)&&(a[u]=this._write(o,g));return a}if(r instanceof Uint8Array&&(i.isBlobSchema()||i.isDocumentSchema()))return i===this.rootSchema?r:(this.serdeContext?.base64Encoder??gh.toBase64)(r);if(r instanceof Date&&(i.isTimestampSchema()||i.isDocumentSchema()))switch(ht(i,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return Ei(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof be&&(this.useReplacer=!0)}if(!(r===null&&n?.isStructSchema())){if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return(0,Ct.v4)();let o=i.getMergedTraits().mediaType;return r!=null&&o&&(o==="application/json"||o.endsWith("+json"))?tt.from(r):r}if(typeof r=="number"&&i.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&i.isBlobSchema())return i===this.rootSchema?r:(this.serdeContext?.base64Encoder??gh.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),i.isDocumentSchema())if(s){let o=Array.isArray(r)?[]:{};for(let[a,l]of Object.entries(r))l instanceof be?(this.useReplacer=!0,o[a]=l):o[a]=this._write(i,l);return o}else return structuredClone(r);return r}}}});var Kr,ec=C(()=>{c();Wr();hh();Sh();Kr=class extends We{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new bs(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new ws(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Yr,tc=C(()=>{c();dt();he();Rs();ec();Di();Yr=class extends mr{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=s??new Kr({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new bt(this.awsQueryCompatible)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),($t(t.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=Cs(n,s)??"Unknown",{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),u=H.of(a),g=s.message??s.Message??"Unknown",m=V.for(a[1]).getErrorCtor(a)??Error,y=new m(g),E={};for(let[R,v]of u.structIterator())s[R]!=null&&(E[R]=this.codec.createDeserializer().readObject(v,s[R]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,E),this.mixin.decorateServiceException(Object.assign(y,l,{$fault:u.getMergedTraits().error,message:g},E),s)}}});var rc,sw=C(()=>{c();tc();rc=class extends Yr{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var nc,iw=C(()=>{c();tc();nc=class extends Yr{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Xr,ow=C(()=>{c();dt();he();Rs();ec();Di();Xr=class extends vn{serializer;deserializer;codec;mixin=new bt;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Kr(r),this.serializer=new In(this.codec.createSerializer(),r),this.deserializer=new An(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=H.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}return s.body==null&&s.headers["content-type"]===this.getDefaultContentType()&&(s.body="{}"),s}async deserializeResponse(t,r,n){let s=await super.deserializeResponse(t,r,n),i=H.of(t.output);for(let[o,a]of i.structIterator())a.getMemberTraits().httpPayload&&!(o in s)&&(s[o]=null);return s}async handleError(t,r,n,s,i){let o=Cs(n,s)??"Unknown",{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),u=H.of(a),g=s.message??s.Message??"Unknown",m=V.for(a[1]).getErrorCtor(a)??Error,y=new m(g);await this.deserializeHttpMessage(a,r,n,s);let E={};for(let[R,v]of u.structIterator()){let A=v.getMergedTraits().jsonName??R;E[R]=this.codec.createDeserializer().readObject(v,s[A])}throw this.mixin.decorateServiceException(Object.assign(y,l,{$fault:u.getMergedTraits().error,message:g},E),s)}getDefaultContentType(){return"application/json"}}});var aw,cw,lw=C(()=>{c();aw=b(J()),cw=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,aw.expectUnion)(e)}});var dw=N((Ese,uw)=>{c();(()=>{"use strict";var e={d:(h,d)=>{for(var f in d)e.o(d,f)&&!e.o(h,f)&&Object.defineProperty(h,f,{enumerable:!0,get:d[f]})},o:(h,d)=>Object.prototype.hasOwnProperty.call(h,d),r:h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>Pr,XMLParser:()=>dM,XMLValidator:()=>yM});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(h,d){let f=[],w=d.exec(h);for(;w;){let _=[];_.startIndex=d.lastIndex-w[0].length;let T=w.length;for(let P=0;P<T;P++)_.push(w[P]);f.push(_),w=d.exec(h)}return f}let i=function(h){return n.exec(h)!=null},o={allowBooleanAttributes:!1,unpairedTags:[]};function a(h,d){d=Object.assign({},o,d);let f=[],w=!1,_=!1;h[0]==="\uFEFF"&&(h=h.substr(1));for(let T=0;T<h.length;T++)if(h[T]==="<"&&h[T+1]==="?"){if(T+=2,T=u(h,T),T.err)return T}else{if(h[T]!=="<"){if(l(h[T]))continue;return I("InvalidChar","char '"+h[T]+"' is not expected.",F(h,T))}{let P=T;if(T++,h[T]==="!"){T=g(h,T);continue}{let D=!1;h[T]==="/"&&(D=!0,T++);let x="";for(;T<h.length&&h[T]!==">"&&h[T]!==" "&&h[T]!=="	"&&h[T]!==`
`&&h[T]!=="\r";T++)x+=h[T];if(x=x.trim(),x[x.length-1]==="/"&&(x=x.substring(0,x.length-1),T--),!i(x)){let q;return q=x.trim().length===0?"Invalid space after '<'.":"Tag '"+x+"' is an invalid name.",I("InvalidTag",q,F(h,T))}let L=E(h,T);if(L===!1)return I("InvalidAttr","Attributes for '"+x+"' have open quote.",F(h,T));let U=L.value;if(T=L.index,U[U.length-1]==="/"){let q=T-U.length;U=U.substring(0,U.length-1);let se=v(U,d);if(se!==!0)return I(se.err.code,se.err.msg,F(h,q+se.err.line));w=!0}else if(D){if(!L.tagClosed)return I("InvalidTag","Closing tag '"+x+"' doesn't have proper closing.",F(h,T));if(U.trim().length>0)return I("InvalidTag","Closing tag '"+x+"' can't have attributes or invalid starting.",F(h,P));if(f.length===0)return I("InvalidTag","Closing tag '"+x+"' has not been opened.",F(h,P));{let q=f.pop();if(x!==q.tagName){let se=F(h,q.tagStartPos);return I("InvalidTag","Expected closing tag '"+q.tagName+"' (opened in line "+se.line+", col "+se.col+") instead of closing tag '"+x+"'.",F(h,P))}f.length==0&&(_=!0)}}else{let q=v(U,d);if(q!==!0)return I(q.err.code,q.err.msg,F(h,T-U.length+q.err.line));if(_===!0)return I("InvalidXml","Multiple possible root nodes found.",F(h,T));d.unpairedTags.indexOf(x)!==-1||f.push({tagName:x,tagStartPos:P}),w=!0}for(T++;T<h.length;T++)if(h[T]==="<"){if(h[T+1]==="!"){T++,T=g(h,T);continue}if(h[T+1]!=="?")break;if(T=u(h,++T),T.err)return T}else if(h[T]==="&"){let q=A(h,T);if(q==-1)return I("InvalidChar","char '&' is not expected.",F(h,T));T=q}else if(_===!0&&!l(h[T]))return I("InvalidXml","Extra text at the end",F(h,T));h[T]==="<"&&T--}}}return w?f.length==1?I("InvalidTag","Unclosed tag '"+f[0].tagName+"'.",F(h,f[0].tagStartPos)):!(f.length>0)||I("InvalidXml","Invalid '"+JSON.stringify(f.map(T=>T.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):I("InvalidXml","Start tag expected.",1)}function l(h){return h===" "||h==="	"||h===`
`||h==="\r"}function u(h,d){let f=d;for(;d<h.length;d++)if(!(h[d]!="?"&&h[d]!=" ")){let w=h.substr(f,d-f);if(d>5&&w==="xml")return I("InvalidXml","XML declaration allowed only at the start of the document.",F(h,d));if(h[d]=="?"&&h[d+1]==">"){d++;break}}return d}function g(h,d){if(h.length>d+5&&h[d+1]==="-"&&h[d+2]==="-"){for(d+=3;d<h.length;d++)if(h[d]==="-"&&h[d+1]==="-"&&h[d+2]===">"){d+=2;break}}else if(h.length>d+8&&h[d+1]==="D"&&h[d+2]==="O"&&h[d+3]==="C"&&h[d+4]==="T"&&h[d+5]==="Y"&&h[d+6]==="P"&&h[d+7]==="E"){let f=1;for(d+=8;d<h.length;d++)if(h[d]==="<")f++;else if(h[d]===">"&&(f--,f===0))break}else if(h.length>d+9&&h[d+1]==="["&&h[d+2]==="C"&&h[d+3]==="D"&&h[d+4]==="A"&&h[d+5]==="T"&&h[d+6]==="A"&&h[d+7]==="["){for(d+=8;d<h.length;d++)if(h[d]==="]"&&h[d+1]==="]"&&h[d+2]===">"){d+=2;break}}return d}let m='"',y="'";function E(h,d){let f="",w="",_=!1;for(;d<h.length;d++){if(h[d]===m||h[d]===y)w===""?w=h[d]:w!==h[d]||(w="");else if(h[d]===">"&&w===""){_=!0;break}f+=h[d]}return w===""&&{value:f,index:d,tagClosed:_}}let R=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function v(h,d){let f=s(h,R),w={};for(let _=0;_<f.length;_++){if(f[_][1].length===0)return I("InvalidAttr","Attribute '"+f[_][2]+"' has no space in starting.",j(f[_]));if(f[_][3]!==void 0&&f[_][4]===void 0)return I("InvalidAttr","Attribute '"+f[_][2]+"' is without value.",j(f[_]));if(f[_][3]===void 0&&!d.allowBooleanAttributes)return I("InvalidAttr","boolean attribute '"+f[_][2]+"' is not allowed.",j(f[_]));let T=f[_][2];if(!O(T))return I("InvalidAttr","Attribute '"+T+"' is an invalid name.",j(f[_]));if(w.hasOwnProperty(T))return I("InvalidAttr","Attribute '"+T+"' is repeated.",j(f[_]));w[T]=1}return!0}function A(h,d){if(h[++d]===";")return-1;if(h[d]==="#")return function(w,_){let T=/\d/;for(w[_]==="x"&&(_++,T=/[\da-fA-F]/);_<w.length;_++){if(w[_]===";")return _;if(!w[_].match(T))break}return-1}(h,++d);let f=0;for(;d<h.length;d++,f++)if(!(h[d].match(/\w/)&&f<20)){if(h[d]===";")break;return-1}return d}function I(h,d,f){return{err:{code:h,msg:d,line:f.line||f,col:f.col}}}function O(h){return i(h)}function F(h,d){let f=h.substring(0,d).split(/\r?\n/);return{line:f.length,col:f[f.length-1].length+1}}function j(h){return h.startIndex+h[1].length}let G={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(h,d){return d},attributeValueProcessor:function(h,d){return d},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(h,d,f){return h},captureMetaData:!1},re;re=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class De{constructor(d){this.tagname=d,this.child=[],this[":@"]={}}add(d,f){d==="__proto__"&&(d="#__proto__"),this.child.push({[d]:f})}addChild(d,f){d.tagname==="__proto__"&&(d.tagname="#__proto__"),d[":@"]&&Object.keys(d[":@"]).length>0?this.child.push({[d.tagname]:d.child,":@":d[":@"]}):this.child.push({[d.tagname]:d.child}),f!==void 0&&(this.child[this.child.length-1][re]={startIndex:f})}static getMetaDataSymbol(){return re}}class X{constructor(d){this.suppressValidationErr=!d}readDocType(d,f){let w={};if(d[f+3]!=="O"||d[f+4]!=="C"||d[f+5]!=="T"||d[f+6]!=="Y"||d[f+7]!=="P"||d[f+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{f+=9;let _=1,T=!1,P=!1,D="";for(;f<d.length;f++)if(d[f]!=="<"||P)if(d[f]===">"){if(P?d[f-1]==="-"&&d[f-2]==="-"&&(P=!1,_--):_--,_===0)break}else d[f]==="["?T=!0:D+=d[f];else{if(T&&de(d,"!ENTITY",f)){let x,L;f+=7,[x,L,f]=this.readEntityExp(d,f+1,this.suppressValidationErr),L.indexOf("&")===-1&&(w[x]={regx:RegExp(`&${x};`,"g"),val:L})}else if(T&&de(d,"!ELEMENT",f)){f+=8;let{index:x}=this.readElementExp(d,f+1);f=x}else if(T&&de(d,"!ATTLIST",f))f+=8;else if(T&&de(d,"!NOTATION",f)){f+=9;let{index:x}=this.readNotationExp(d,f+1,this.suppressValidationErr);f=x}else{if(!de(d,"!--",f))throw new Error("Invalid DOCTYPE");P=!0}_++,D=""}if(_!==0)throw new Error("Unclosed DOCTYPE")}return{entities:w,i:f}}readEntityExp(d,f){f=K(d,f);let w="";for(;f<d.length&&!/\s/.test(d[f])&&d[f]!=='"'&&d[f]!=="'";)w+=d[f],f++;if(Ne(w),f=K(d,f),!this.suppressValidationErr){if(d.substring(f,f+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(d[f]==="%")throw new Error("Parameter entities are not supported")}let _="";return[f,_]=this.readIdentifierVal(d,f,"entity"),[w,_,--f]}readNotationExp(d,f){f=K(d,f);let w="";for(;f<d.length&&!/\s/.test(d[f]);)w+=d[f],f++;!this.suppressValidationErr&&Ne(w),f=K(d,f);let _=d.substring(f,f+6).toUpperCase();if(!this.suppressValidationErr&&_!=="SYSTEM"&&_!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${_}"`);f+=_.length,f=K(d,f);let T=null,P=null;if(_==="PUBLIC")[f,T]=this.readIdentifierVal(d,f,"publicIdentifier"),d[f=K(d,f)]!=='"'&&d[f]!=="'"||([f,P]=this.readIdentifierVal(d,f,"systemIdentifier"));else if(_==="SYSTEM"&&([f,P]=this.readIdentifierVal(d,f,"systemIdentifier"),!this.suppressValidationErr&&!P))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:w,publicIdentifier:T,systemIdentifier:P,index:--f}}readIdentifierVal(d,f,w){let _="",T=d[f];if(T!=='"'&&T!=="'")throw new Error(`Expected quoted string, found "${T}"`);for(f++;f<d.length&&d[f]!==T;)_+=d[f],f++;if(d[f]!==T)throw new Error(`Unterminated ${w} value`);return[++f,_]}readElementExp(d,f){f=K(d,f);let w="";for(;f<d.length&&!/\s/.test(d[f]);)w+=d[f],f++;if(!this.suppressValidationErr&&!i(w))throw new Error(`Invalid element name: "${w}"`);let _="";if(d[f=K(d,f)]==="E"&&de(d,"MPTY",f))f+=4;else if(d[f]==="A"&&de(d,"NY",f))f+=2;else if(d[f]==="("){for(f++;f<d.length&&d[f]!==")";)_+=d[f],f++;if(d[f]!==")")throw new Error("Unterminated content model")}else if(!this.suppressValidationErr)throw new Error(`Invalid Element Expression, found "${d[f]}"`);return{elementName:w,contentModel:_.trim(),index:f}}readAttlistExp(d,f){f=K(d,f);let w="";for(;f<d.length&&!/\s/.test(d[f]);)w+=d[f],f++;Ne(w),f=K(d,f);let _="";for(;f<d.length&&!/\s/.test(d[f]);)_+=d[f],f++;if(!Ne(_))throw new Error(`Invalid attribute name: "${_}"`);f=K(d,f);let T="";if(d.substring(f,f+8).toUpperCase()==="NOTATION"){if(T="NOTATION",d[f=K(d,f+=8)]!=="(")throw new Error(`Expected '(', found "${d[f]}"`);f++;let D=[];for(;f<d.length&&d[f]!==")";){let x="";for(;f<d.length&&d[f]!=="|"&&d[f]!==")";)x+=d[f],f++;if(x=x.trim(),!Ne(x))throw new Error(`Invalid notation name: "${x}"`);D.push(x),d[f]==="|"&&(f++,f=K(d,f))}if(d[f]!==")")throw new Error("Unterminated list of notations");f++,T+=" ("+D.join("|")+")"}else{for(;f<d.length&&!/\s/.test(d[f]);)T+=d[f],f++;let D=["CDATA","ID","IDREF","IDREFS","ENTITY","ENTITIES","NMTOKEN","NMTOKENS"];if(!this.suppressValidationErr&&!D.includes(T.toUpperCase()))throw new Error(`Invalid attribute type: "${T}"`)}f=K(d,f);let P="";return d.substring(f,f+8).toUpperCase()==="#REQUIRED"?(P="#REQUIRED",f+=8):d.substring(f,f+7).toUpperCase()==="#IMPLIED"?(P="#IMPLIED",f+=7):[f,P]=this.readIdentifierVal(d,f,"ATTLIST"),{elementName:w,attributeName:_,attributeType:T,defaultValue:P,index:f}}}let K=(h,d)=>{for(;d<h.length&&/\s/.test(h[d]);)d++;return d};function de(h,d,f){for(let w=0;w<d.length;w++)if(d[w]!==h[f+w+1])return!1;return!0}function Ne(h){if(i(h))return h;throw new Error(`Invalid entity name ${h}`)}let Ot=/^[-+]?0x[a-fA-F0-9]+$/,G1=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,W1={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},K1=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function DS(h){return typeof h=="function"?h:Array.isArray(h)?d=>{for(let f of h)if(typeof f=="string"&&d===f||f instanceof RegExp&&f.test(d))return!0}:()=>!1}class Y1{constructor(d){if(this.options=d,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(f,w)=>OS(w,10,"&#")},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(f,w)=>OS(w,16,"&#x")}},this.addExternalEntities=X1,this.parseXml=tM,this.parseTextData=Q1,this.resolveNameSpace=J1,this.buildAttributesMap=eM,this.isItStopNode=iM,this.replaceEntitiesValue=nM,this.readStopNodeData=oM,this.saveTextToParentTag=sM,this.addChild=rM,this.ignoreAttributesFn=DS(this.options.ignoreAttributes),this.options.stopNodes&&this.options.stopNodes.length>0){this.stopNodesExact=new Set,this.stopNodesWildcard=new Set;for(let f=0;f<this.options.stopNodes.length;f++){let w=this.options.stopNodes[f];typeof w=="string"&&(w.startsWith("*.")?this.stopNodesWildcard.add(w.substring(2)):this.stopNodesExact.add(w))}}}}function X1(h){let d=Object.keys(h);for(let f=0;f<d.length;f++){let w=d[f];this.lastEntities[w]={regex:new RegExp("&"+w+";","g"),val:h[w]}}}function Q1(h,d,f,w,_,T,P){if(h!==void 0&&(this.options.trimValues&&!w&&(h=h.trim()),h.length>0)){P||(h=this.replaceEntitiesValue(h));let D=this.options.tagValueProcessor(d,h,f,_,T);return D==null?h:typeof D!=typeof h||D!==h?D:this.options.trimValues||h.trim()===h?NS(h,this.options.parseTagValue,this.options.numberParseOptions):h}}function J1(h){if(this.options.removeNSPrefix){let d=h.split(":"),f=h.charAt(0)==="/"?"/":"";if(d[0]==="xmlns")return"";d.length===2&&(h=f+d[1])}return h}let Z1=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function eM(h,d){if(this.options.ignoreAttributes!==!0&&typeof h=="string"){let f=s(h,Z1),w=f.length,_={};for(let T=0;T<w;T++){let P=this.resolveNameSpace(f[T][1]);if(this.ignoreAttributesFn(P,d))continue;let D=f[T][4],x=this.options.attributeNamePrefix+P;if(P.length)if(this.options.transformAttributeName&&(x=this.options.transformAttributeName(x)),x==="__proto__"&&(x="#__proto__"),D!==void 0){this.options.trimValues&&(D=D.trim()),D=this.replaceEntitiesValue(D);let L=this.options.attributeValueProcessor(P,D,d);_[x]=L==null?D:typeof L!=typeof D||L!==D?L:NS(D,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(_[x]=!0)}if(!Object.keys(_).length)return;if(this.options.attributesGroupName){let T={};return T[this.options.attributesGroupName]=_,T}return _}}let tM=function(h){h=h.replace(/\r\n?/g,`
`);let d=new De("!xml"),f=d,w="",_="",T=new X(this.options.processEntities);for(let P=0;P<h.length;P++)if(h[P]==="<")if(h[P+1]==="/"){let D=Rn(h,">",P,"Closing Tag is not closed."),x=h.substring(P+2,D).trim();if(this.options.removeNSPrefix){let q=x.indexOf(":");q!==-1&&(x=x.substr(q+1))}this.options.transformTagName&&(x=this.options.transformTagName(x)),f&&(w=this.saveTextToParentTag(w,f,_));let L=_.substring(_.lastIndexOf(".")+1);if(x&&this.options.unpairedTags.indexOf(x)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${x}>`);let U=0;L&&this.options.unpairedTags.indexOf(L)!==-1?(U=_.lastIndexOf(".",_.lastIndexOf(".")-1),this.tagsNodeStack.pop()):U=_.lastIndexOf("."),_=_.substring(0,U),f=this.tagsNodeStack.pop(),w="",P=D}else if(h[P+1]==="?"){let D=Tp(h,P,!1,"?>");if(!D)throw new Error("Pi Tag is not closed.");if(w=this.saveTextToParentTag(w,f,_),!(this.options.ignoreDeclaration&&D.tagName==="?xml"||this.options.ignorePiTags)){let x=new De(D.tagName);x.add(this.options.textNodeName,""),D.tagName!==D.tagExp&&D.attrExpPresent&&(x[":@"]=this.buildAttributesMap(D.tagExp,_)),this.addChild(f,x,_,P)}P=D.closeIndex+1}else if(h.substr(P+1,3)==="!--"){let D=Rn(h,"-->",P+4,"Comment is not closed.");if(this.options.commentPropName){let x=h.substring(P+4,D-2);w=this.saveTextToParentTag(w,f,_),f.add(this.options.commentPropName,[{[this.options.textNodeName]:x}])}P=D}else if(h.substr(P+1,2)==="!D"){let D=T.readDocType(h,P);this.docTypeEntities=D.entities,P=D.i}else if(h.substr(P+1,2)==="!["){let D=Rn(h,"]]>",P,"CDATA is not closed.")-2,x=h.substring(P+9,D);w=this.saveTextToParentTag(w,f,_);let L=this.parseTextData(x,f.tagname,_,!0,!1,!0,!0);L==null&&(L=""),this.options.cdataPropName?f.add(this.options.cdataPropName,[{[this.options.textNodeName]:x}]):f.add(this.options.textNodeName,L),P=D+2}else{let D=Tp(h,P,this.options.removeNSPrefix),x=D.tagName,L=D.rawTagName,U=D.tagExp,q=D.attrExpPresent,se=D.closeIndex;if(this.options.transformTagName){let pe=this.options.transformTagName(x);U===x&&(U=pe),x=pe}f&&w&&f.tagname!=="!xml"&&(w=this.saveTextToParentTag(w,f,_,!1));let ye=f;ye&&this.options.unpairedTags.indexOf(ye.tagname)!==-1&&(f=this.tagsNodeStack.pop(),_=_.substring(0,_.lastIndexOf("."))),x!==d.tagname&&(_+=_?"."+x:x);let ve=P;if(this.isItStopNode(this.stopNodesExact,this.stopNodesWildcard,_,x)){let pe="";if(U.length>0&&U.lastIndexOf("/")===U.length-1)x[x.length-1]==="/"?(x=x.substr(0,x.length-1),_=_.substr(0,_.length-1),U=x):U=U.substr(0,U.length-1),P=D.closeIndex;else if(this.options.unpairedTags.indexOf(x)!==-1)P=D.closeIndex;else{let Rt=this.readStopNodeData(h,L,se+1);if(!Rt)throw new Error(`Unexpected end of ${L}`);P=Rt.i,pe=Rt.tagContent}let mt=new De(x);x!==U&&q&&(mt[":@"]=this.buildAttributesMap(U,_)),pe&&(pe=this.parseTextData(pe,x,_,!0,q,!0,!0)),_=_.substr(0,_.lastIndexOf(".")),mt.add(this.options.textNodeName,pe),this.addChild(f,mt,_,ve)}else{if(U.length>0&&U.lastIndexOf("/")===U.length-1){if(x[x.length-1]==="/"?(x=x.substr(0,x.length-1),_=_.substr(0,_.length-1),U=x):U=U.substr(0,U.length-1),this.options.transformTagName){let mt=this.options.transformTagName(x);U===x&&(U=mt),x=mt}let pe=new De(x);x!==U&&q&&(pe[":@"]=this.buildAttributesMap(U,_)),this.addChild(f,pe,_,ve),_=_.substr(0,_.lastIndexOf("."))}else{let pe=new De(x);this.tagsNodeStack.push(f),x!==U&&q&&(pe[":@"]=this.buildAttributesMap(U,_)),this.addChild(f,pe,_,ve),f=pe}w="",P=se}}else w+=h[P];return d.child};function rM(h,d,f,w){this.options.captureMetaData||(w=void 0);let _=this.options.updateTag(d.tagname,f,d[":@"]);_===!1||(typeof _=="string"&&(d.tagname=_),h.addChild(d,w))}let nM=function(h){if(this.options.processEntities){for(let d in this.docTypeEntities){let f=this.docTypeEntities[d];h=h.replace(f.regx,f.val)}for(let d in this.lastEntities){let f=this.lastEntities[d];h=h.replace(f.regex,f.val)}if(this.options.htmlEntities)for(let d in this.htmlEntities){let f=this.htmlEntities[d];h=h.replace(f.regex,f.val)}h=h.replace(this.ampEntity.regex,this.ampEntity.val)}return h};function sM(h,d,f,w){return h&&(w===void 0&&(w=d.child.length===0),(h=this.parseTextData(h,d.tagname,f,!1,!!d[":@"]&&Object.keys(d[":@"]).length!==0,w))!==void 0&&h!==""&&d.add(this.options.textNodeName,h),h=""),h}function iM(h,d,f,w){return!(!d||!d.has(w))||!(!h||!h.has(f))}function Rn(h,d,f,w){let _=h.indexOf(d,f);if(_===-1)throw new Error(w);return _+d.length-1}function Tp(h,d,f,w=">"){let _=function(q,se,ye=">"){let ve,pe="";for(let mt=se;mt<q.length;mt++){let Rt=q[mt];if(ve)Rt===ve&&(ve="");else if(Rt==='"'||Rt==="'")ve=Rt;else if(Rt===ye[0]){if(!ye[1])return{data:pe,index:mt};if(q[mt+1]===ye[1])return{data:pe,index:mt}}else Rt==="	"&&(Rt=" ");pe+=Rt}}(h,d+1,w);if(!_)return;let T=_.data,P=_.index,D=T.search(/\s/),x=T,L=!0;D!==-1&&(x=T.substring(0,D),T=T.substring(D+1).trimStart());let U=x;if(f){let q=x.indexOf(":");q!==-1&&(x=x.substr(q+1),L=x!==_.data.substr(q+1))}return{tagName:x,tagExp:T,closeIndex:P,attrExpPresent:L,rawTagName:U}}function oM(h,d,f){let w=f,_=1;for(;f<h.length;f++)if(h[f]==="<")if(h[f+1]==="/"){let T=Rn(h,">",f,`${d} is not closed`);if(h.substring(f+2,T).trim()===d&&(_--,_===0))return{tagContent:h.substring(w,f),i:T};f=T}else if(h[f+1]==="?")f=Rn(h,"?>",f+1,"StopNode is not closed.");else if(h.substr(f+1,3)==="!--")f=Rn(h,"-->",f+3,"StopNode is not closed.");else if(h.substr(f+1,2)==="![")f=Rn(h,"]]>",f,"StopNode is not closed.")-2;else{let T=Tp(h,f,">");T&&((T&&T.tagName)===d&&T.tagExp[T.tagExp.length-1]!=="/"&&_++,f=T.closeIndex)}}function NS(h,d,f){if(d&&typeof h=="string"){let w=h.trim();return w==="true"||w!=="false"&&function(_,T={}){if(T=Object.assign({},W1,T),!_||typeof _!="string")return _;let P=_.trim();if(T.skipLike!==void 0&&T.skipLike.test(P))return _;if(_==="0")return 0;if(T.hex&&Ot.test(P))return function(x){if(parseInt)return parseInt(x,16);if(Number.parseInt)return Number.parseInt(x,16);if(window&&window.parseInt)return window.parseInt(x,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(P);if(P.search(/.+[eE].+/)!==-1)return function(x,L,U){if(!U.eNotation)return x;let q=L.match(K1);if(q){let se=q[1]||"",ye=q[3].indexOf("e")===-1?"E":"e",ve=q[2],pe=se?x[ve.length+1]===ye:x[ve.length]===ye;return ve.length>1&&pe?x:ve.length!==1||!q[3].startsWith(`.${ye}`)&&q[3][0]!==ye?U.leadingZeros&&!pe?(L=(q[1]||"")+q[3],Number(L)):x:Number(L)}return x}(_,P,T);{let x=G1.exec(P);if(x){let L=x[1]||"",U=x[2],q=((D=x[3])&&D.indexOf(".")!==-1&&((D=D.replace(/0+$/,""))==="."?D="0":D[0]==="."?D="0"+D:D[D.length-1]==="."&&(D=D.substring(0,D.length-1))),D),se=L?_[U.length+1]===".":_[U.length]===".";if(!T.leadingZeros&&(U.length>1||U.length===1&&!se))return _;{let ye=Number(P),ve=String(ye);if(ye===0||ye===-0)return ye;if(ve.search(/[eE]/)!==-1)return T.eNotation?ye:_;if(P.indexOf(".")!==-1)return ve==="0"||ve===q||ve===`${L}${q}`?ye:_;let pe=U?q:P;return U?pe===ve||L+pe===ve?ye:_:pe===ve||pe===L+ve?ye:_}}return _}var D}(h,f)}return h!==void 0?h:""}function OS(h,d,f){let w=Number.parseInt(h,d);return w>=0&&w<=1114111?String.fromCodePoint(w):f+h+";"}let vp=De.getMetaDataSymbol();function aM(h,d){return $S(h,d)}function $S(h,d,f){let w,_={};for(let T=0;T<h.length;T++){let P=h[T],D=cM(P),x="";if(x=f===void 0?D:f+"."+D,D===d.textNodeName)w===void 0?w=P[D]:w+=""+P[D];else{if(D===void 0)continue;if(P[D]){let L=$S(P[D],d,x),U=uM(L,d);P[vp]!==void 0&&(L[vp]=P[vp]),P[":@"]?lM(L,P[":@"],x,d):Object.keys(L).length!==1||L[d.textNodeName]===void 0||d.alwaysCreateTextNode?Object.keys(L).length===0&&(d.alwaysCreateTextNode?L[d.textNodeName]="":L=""):L=L[d.textNodeName],_[D]!==void 0&&_.hasOwnProperty(D)?(Array.isArray(_[D])||(_[D]=[_[D]]),_[D].push(L)):d.isArray(D,x,U)?_[D]=[L]:_[D]=L}}}return typeof w=="string"?w.length>0&&(_[d.textNodeName]=w):w!==void 0&&(_[d.textNodeName]=w),_}function cM(h){let d=Object.keys(h);for(let f=0;f<d.length;f++){let w=d[f];if(w!==":@")return w}}function lM(h,d,f,w){if(d){let _=Object.keys(d),T=_.length;for(let P=0;P<T;P++){let D=_[P];w.isArray(D,f+"."+D,!0,!0)?h[D]=[d[D]]:h[D]=d[D]}}}function uM(h,d){let{textNodeName:f}=d,w=Object.keys(h).length;return w===0||!(w!==1||!h[f]&&typeof h[f]!="boolean"&&h[f]!==0)}class dM{constructor(d){this.externalEntities={},this.options=function(f){return Object.assign({},G,f)}(d)}parse(d,f){if(typeof d!="string"&&d.toString)d=d.toString();else if(typeof d!="string")throw new Error("XML data is accepted in String or Bytes[] form.");if(f){f===!0&&(f={});let T=a(d,f);if(T!==!0)throw Error(`${T.err.msg}:${T.err.line}:${T.err.col}`)}let w=new Y1(this.options);w.addExternalEntities(this.externalEntities);let _=w.parseXml(d);return this.options.preserveOrder||_===void 0?_:aM(_,this.options)}addEntity(d,f){if(f.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(d.indexOf("&")!==-1||d.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(f==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[d]=f}static getMetaDataSymbol(){return De.getMetaDataSymbol()}}function pM(h,d){let f="";return d.format&&d.indentBy.length>0&&(f=`
`),kS(h,d,"",f)}function kS(h,d,f,w){let _="",T=!1;for(let P=0;P<h.length;P++){let D=h[P],x=fM(D);if(x===void 0)continue;let L="";if(L=f.length===0?x:`${f}.${x}`,x===d.textNodeName){let ye=D[x];mM(L,d)||(ye=d.tagValueProcessor(x,ye),ye=FS(ye,d)),T&&(_+=w),_+=ye,T=!1;continue}if(x===d.cdataPropName){T&&(_+=w),_+=`<![CDATA[${D[x][0][d.textNodeName]}]]>`,T=!1;continue}if(x===d.commentPropName){_+=w+`<!--${D[x][0][d.textNodeName]}-->`,T=!0;continue}if(x[0]==="?"){let ye=MS(D[":@"],d),ve=x==="?xml"?"":w,pe=D[x][0][d.textNodeName];pe=pe.length!==0?" "+pe:"",_+=ve+`<${x}${pe}${ye}?>`,T=!0;continue}let U=w;U!==""&&(U+=d.indentBy);let q=w+`<${x}${MS(D[":@"],d)}`,se=kS(D[x],d,L,U);d.unpairedTags.indexOf(x)!==-1?d.suppressUnpairedNode?_+=q+">":_+=q+"/>":se&&se.length!==0||!d.suppressEmptyNode?se&&se.endsWith(">")?_+=q+`>${se}${w}</${x}>`:(_+=q+">",se&&w!==""&&(se.includes("/>")||se.includes("</"))?_+=w+d.indentBy+se+w:_+=se,_+=`</${x}>`):_+=q+"/>",T=!0}return _}function fM(h){let d=Object.keys(h);for(let f=0;f<d.length;f++){let w=d[f];if(h.hasOwnProperty(w)&&w!==":@")return w}}function MS(h,d){let f="";if(h&&!d.ignoreAttributes)for(let w in h){if(!h.hasOwnProperty(w))continue;let _=d.attributeValueProcessor(w,h[w]);_=FS(_,d),_===!0&&d.suppressBooleanAttributes?f+=` ${w.substr(d.attributeNamePrefix.length)}`:f+=` ${w.substr(d.attributeNamePrefix.length)}="${_}"`}return f}function mM(h,d){let f=(h=h.substr(0,h.length-d.textNodeName.length-1)).substr(h.lastIndexOf(".")+1);for(let w in d.stopNodes)if(d.stopNodes[w]===h||d.stopNodes[w]==="*."+f)return!0;return!1}function FS(h,d){if(h&&h.length>0&&d.processEntities)for(let f=0;f<d.entities.length;f++){let w=d.entities[f];h=h.replace(w.regex,w.val)}return h}let hM={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(h,d){return d},attributeValueProcessor:function(h,d){return d},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Pr(h){this.options=Object.assign({},hM,h),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=DS(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=EM),this.processTextOrObjNode=gM,this.options.format?(this.indentate=SM,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function gM(h,d,f,w){let _=this.j2x(h,f+1,w.concat(d));return h[this.options.textNodeName]!==void 0&&Object.keys(h).length===1?this.buildTextValNode(h[this.options.textNodeName],d,_.attrStr,f):this.buildObjectNode(_.val,d,_.attrStr,f)}function SM(h){return this.options.indentBy.repeat(h)}function EM(h){return!(!h.startsWith(this.options.attributeNamePrefix)||h===this.options.textNodeName)&&h.substr(this.attrPrefixLen)}Pr.prototype.build=function(h){return this.options.preserveOrder?pM(h,this.options):(Array.isArray(h)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(h={[this.options.arrayNodeName]:h}),this.j2x(h,0,[]).val)},Pr.prototype.j2x=function(h,d,f){let w="",_="",T=f.join(".");for(let P in h)if(Object.prototype.hasOwnProperty.call(h,P))if(h[P]===void 0)this.isAttribute(P)&&(_+="");else if(h[P]===null)this.isAttribute(P)||P===this.options.cdataPropName?_+="":P[0]==="?"?_+=this.indentate(d)+"<"+P+"?"+this.tagEndChar:_+=this.indentate(d)+"<"+P+"/"+this.tagEndChar;else if(h[P]instanceof Date)_+=this.buildTextValNode(h[P],P,"",d);else if(typeof h[P]!="object"){let D=this.isAttribute(P);if(D&&!this.ignoreAttributesFn(D,T))w+=this.buildAttrPairStr(D,""+h[P]);else if(!D)if(P===this.options.textNodeName){let x=this.options.tagValueProcessor(P,""+h[P]);_+=this.replaceEntitiesValue(x)}else _+=this.buildTextValNode(h[P],P,"",d)}else if(Array.isArray(h[P])){let D=h[P].length,x="",L="";for(let U=0;U<D;U++){let q=h[P][U];if(q!==void 0)if(q===null)P[0]==="?"?_+=this.indentate(d)+"<"+P+"?"+this.tagEndChar:_+=this.indentate(d)+"<"+P+"/"+this.tagEndChar;else if(typeof q=="object")if(this.options.oneListGroup){let se=this.j2x(q,d+1,f.concat(P));x+=se.val,this.options.attributesGroupName&&q.hasOwnProperty(this.options.attributesGroupName)&&(L+=se.attrStr)}else x+=this.processTextOrObjNode(q,P,d,f);else if(this.options.oneListGroup){let se=this.options.tagValueProcessor(P,q);se=this.replaceEntitiesValue(se),x+=se}else x+=this.buildTextValNode(q,P,"",d)}this.options.oneListGroup&&(x=this.buildObjectNode(x,P,L,d)),_+=x}else if(this.options.attributesGroupName&&P===this.options.attributesGroupName){let D=Object.keys(h[P]),x=D.length;for(let L=0;L<x;L++)w+=this.buildAttrPairStr(D[L],""+h[P][D[L]])}else _+=this.processTextOrObjNode(h[P],P,d,f);return{attrStr:w,val:_}},Pr.prototype.buildAttrPairStr=function(h,d){return d=this.options.attributeValueProcessor(h,""+d),d=this.replaceEntitiesValue(d),this.options.suppressBooleanAttributes&&d==="true"?" "+h:" "+h+'="'+d+'"'},Pr.prototype.buildObjectNode=function(h,d,f,w){if(h==="")return d[0]==="?"?this.indentate(w)+"<"+d+f+"?"+this.tagEndChar:this.indentate(w)+"<"+d+f+this.closeTag(d)+this.tagEndChar;{let _="</"+d+this.tagEndChar,T="";return d[0]==="?"&&(T="?",_=""),!f&&f!==""||h.indexOf("<")!==-1?this.options.commentPropName!==!1&&d===this.options.commentPropName&&T.length===0?this.indentate(w)+`<!--${h}-->`+this.newLine:this.indentate(w)+"<"+d+f+T+this.tagEndChar+h+this.indentate(w)+_:this.indentate(w)+"<"+d+f+T+">"+h+_}},Pr.prototype.closeTag=function(h){let d="";return this.options.unpairedTags.indexOf(h)!==-1?this.options.suppressUnpairedNode||(d="/"):d=this.options.suppressEmptyNode?"/":`></${h}`,d},Pr.prototype.buildTextValNode=function(h,d,f,w){if(this.options.cdataPropName!==!1&&d===this.options.cdataPropName)return this.indentate(w)+`<![CDATA[${h}]]>`+this.newLine;if(this.options.commentPropName!==!1&&d===this.options.commentPropName)return this.indentate(w)+`<!--${h}-->`+this.newLine;if(d[0]==="?")return this.indentate(w)+"<"+d+f+"?"+this.tagEndChar;{let _=this.options.tagValueProcessor(d,h);return _=this.replaceEntitiesValue(_),_===""?this.indentate(w)+"<"+d+f+this.closeTag(d)+this.tagEndChar:this.indentate(w)+"<"+d+f+">"+_+"</"+d+this.tagEndChar}},Pr.prototype.replaceEntitiesValue=function(h){if(h&&h.length>0&&this.options.processEntities)for(let d=0;d<this.options.entities.length;d++){let f=this.options.entities[d];h=h.replace(f.regex,f.val)}return h};let yM={validate:a};uw.exports=t})()});var pw=N(yh=>{"use strict";c();Object.defineProperty(yh,"__esModule",{value:!0});yh.parseXML=Xq;var Yq=dw(),Eh=new Yq.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});Eh.addEntity("#xD","\r");Eh.addEntity("#10",`
`);function Xq(e){return Eh.parse(e,!0)}});var oc=N(ic=>{"use strict";c();var Qq=pw();function Jq(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Zq(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var sc=class{value;constructor(t){this.value=t}toString(){return Zq(""+this.value)}},Rh=class e{name;children;attributes={};static of(t,r,n){let s=new e(t);return r!==void 0&&s.addChildNode(new sc(r)),n!==void 0&&s.withName(n),s}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=e.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new e(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${Jq(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(ic,"parseXML",{enumerable:!0,get:function(){return Qq.parseXML}});ic.XmlNode=Rh;ic.XmlText=sc});var fw,mw,hw,Qr,ac=C(()=>{c();fw=b(oc());dt();he();mw=b(J()),hw=b(ke());Wr();fh();Qr=class extends We{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new xn(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=H.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(u=>!!u.getMemberTraits().eventPayload)){let u={},g=Object.keys(i)[0];return i[g].isBlobSchema()?u[g]=r:u[g]=this.read(i[g],r),u}let a=(this.serdeContext?.utf8Encoder??hw.toUtf8)(r),l=this.parseXml(a);return this.readSchema(t,n?l[n]:l)}readSchema(t,r){let n=H.of(t);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let l=n.getValueSchema(),u=[],g=l.getMergedTraits().xmlName??"member",m=o?r:(r[0]??r)[g],y=Array.isArray(m)?m:[m];for(let E of y)(E!=null||i)&&u.push(this.readSchema(l,E));return u}let a={};if(n.isMapSchema()){let l=n.getKeySchema(),u=n.getValueSchema(),g;o?g=Array.isArray(r)?r:[r]:g=Array.isArray(r.entry)?r.entry:[r.entry];let m=l.getMergedTraits().xmlName??"key",y=u.getMergedTraits().xmlName??"value";for(let E of g){let R=E[m],v=E[y];(v!=null||i)&&(a[R]=this.readSchema(u,v))}return a}if(n.isStructSchema()){let l=n.isUnionSchema(),u;l&&(u=new _s(r,a));for(let[g,m]of n.structIterator()){let y=m.getMergedTraits(),E=y.httpPayload?y.xmlName??m.getName():m.getMemberTraits().xmlName??g;l&&u.mark(E),r[E]!=null&&(a[g]=this.readSchema(m,r[E]))}return l&&u.writeUnknown(),a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,fw.parseXML)(t)}catch(o){throw o&&typeof o=="object"&&Object.defineProperty(o,"$responseBodyText",{value:t}),o}let n="#text",s=Object.keys(r)[0],i=r[s];return i[n]&&(i[s]=i[n],delete i[n]),(0,mw.getValueFromTextNode)(i)}return{}}}});var gw,Sw,cc,Ew=C(()=>{c();dt();he();rt();gw=b(J()),Sw=b(Me());Wr();cc=class extends We{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=H.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??Sw.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Ct.v4)()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof be?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),ht(s,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,gw.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(s.isDocumentSchema())Array.isArray(r)?this.write(79,r,n):r instanceof Date?this.write(4,r,n):r instanceof Uint8Array?this.write(21,r,n):r&&typeof r=="object"?this.write(143,r,n):(this.writeKey(n),this.writeValue(String(r)));else if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let l of r){if(l==null)continue;let u=this.getKey("member",i.getMergedTraits().xmlName),g=o?`${n}${a}`:`${n}${u}.${a}`;this.write(i,l,g),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,l=1;for(let[u,g]of Object.entries(r)){if(g==null)continue;let m=this.getKey("key",i.getMergedTraits().xmlName),y=a?`${n}${l}.${m}`:`${n}entry.${l}.${m}`,E=this.getKey("value",o.getMergedTraits().xmlName),R=a?`${n}${l}.${E}`:`${n}entry.${l}.${E}`;this.write(i,u,y),this.write(o,g,R),++l}}}else if(s.isStructSchema()){if(r&&typeof r=="object"){let i=!1;for(let[o,a]of s.structIterator()){if(r[o]==null&&!a.isIdempotencyToken())continue;let l=this.getKey(o,a.getMergedTraits().xmlName),u=`${n}${l}`;this.write(a,r[o],u),i=!0}if(!i&&s.isUnionSchema()){let{$unknown:o}=r;if(Array.isArray(o)){let[a,l]=o,u=`${n}${a}`;this.write(15,l,u)}}}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${zt(t)}=`}writeValue(t){this.buffer+=zt(t)}}});var Jr,_h=C(()=>{c();dt();he();Rs();ac();Ew();Jr=class extends mr{options;serializer;deserializer;mixin=new bt;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new cc(r),this.deserializer=new Qr(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),($t(t.input)==="unit"||!s.body)&&(s.body="");let i=t.name.split("#")[1]??t.name;return s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(t,r,n){let s=this.deserializer,i=H.of(t.output),o={};if(n.statusCode>=300){let m=await _t(n.body,r);m.byteLength>0&&Object.assign(o,await s.read(15,m)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let m in n.headers){let y=n.headers[m];delete n.headers[m],n.headers[m.toLowerCase()]=y}let a=t.name.split("#")[1]??t.name,l=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,u=await _t(n.body,r);return u.byteLength>0&&Object.assign(o,await s.read(i,u,l)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),l=this.loadQueryErrorMessage(s);a.message=l,a.Error={Type:a.Type,Code:a.Code,Message:l};let{errorSchema:u,errorMetadata:g}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,i,this.mixin.findQueryCompatibleError),m=H.of(u),y=V.for(u[1]).getErrorCtor(u)??Error,E=new y(l),R={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[v,A]of m.structIterator()){let I=A.getMergedTraits().xmlName??v,O=a[I]??s[I];R[v]=this.deserializer.readSchema(A,O)}throw this.mixin.decorateServiceException(Object.assign(E,g,{$fault:m.getMergedTraits().error,message:l},R),s)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var lc,yw=C(()=>{c();_h();lc=class extends Jr{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var Rw,_w,Ch,Cw,uc,wh=C(()=>{c();Rw=b(oc()),_w=b(J());mh();Ch=(e,t)=>Ja(e,t).then(r=>{if(r.length){let n;try{n=(0,Rw.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,_w.getValueFromTextNode)(o)}return{}}),Cw=async(e,t)=>{let r=await Ch(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},uc=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var it,bh,dc,Ts,Th=C(()=>{c();it=b(oc());dt();he();rt();bh=b(J()),dc=b(Me());Wr();Ts=class extends We{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=H.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??dc.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=it.XmlNode.of(i),[a,l]=this.getXmlnsAttribute(t,n);for(let[g,m]of t.structIterator()){let y=r[g];if(y!=null||m.isIdempotencyToken()){if(m.getMergedTraits().xmlAttribute){o.addAttribute(m.getMergedTraits().xmlName??g,this.writeSimple(m,y));continue}if(m.isListSchema())this.writeList(m,y,o,l);else if(m.isMapSchema())this.writeMap(m,y,o,l);else if(m.isStructSchema())o.addChildNode(this.writeStruct(m,y,l));else{let E=it.XmlNode.of(m.getMergedTraits().xmlName??m.getMemberName());this.writeSimpleInto(m,y,E,l),o.addChildNode(E)}}}let{$unknown:u}=r;if(u&&t.isUnionSchema()&&Array.isArray(u)&&Object.keys(r).length===1){let[g,m]=u,y=it.XmlNode.of(g);if(typeof m!="string")if(r instanceof it.XmlNode||r instanceof it.XmlText)o.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,m,y,l),o.addChildNode(y)}return l&&o.addAttribute(a,l),o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),l=!!a.sparse,u=!!i.xmlFlattened,[g,m]=this.getXmlnsAttribute(t,s),y=(E,R)=>{if(o.isListSchema())this.writeList(o,Array.isArray(R)?R:[R],E,m);else if(o.isMapSchema())this.writeMap(o,R,E,m);else if(o.isStructSchema()){let v=this.writeStruct(o,R,m);E.addChildNode(v.withName(u?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let v=it.XmlNode.of(u?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,R,v,m),E.addChildNode(v)}};if(u)for(let E of r)(l||E!=null)&&y(n,E);else{let E=it.XmlNode.of(i.xmlName??t.getMemberName());m&&E.addAttribute(g,m);for(let R of r)(l||R!=null)&&y(E,R);n.addChildNode(E)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),u=a.getMergedTraits().xmlName??"key",g=t.getValueSchema(),m=g.getMergedTraits(),y=m.xmlName??"value",E=!!m.sparse,R=!!o.xmlFlattened,[v,A]=this.getXmlnsAttribute(t,s),I=(O,F,j)=>{let G=it.XmlNode.of(u,F),[re,De]=this.getXmlnsAttribute(a,A);De&&G.addAttribute(re,De),O.addChildNode(G);let X=it.XmlNode.of(y);g.isListSchema()?this.writeList(g,j,X,A):g.isMapSchema()?this.writeMap(g,j,X,A,!0):g.isStructSchema()?X=this.writeStruct(g,j,A):this.writeSimpleInto(g,j,X,A),O.addChildNode(X)};if(R){for(let[O,F]of Object.entries(r))if(E||F!=null){let j=it.XmlNode.of(o.xmlName??t.getMemberName());I(j,O,F),n.addChildNode(j)}}else{let O;i||(O=it.XmlNode.of(o.xmlName??t.getMemberName()),A&&O.addAttribute(v,A),n.addChildNode(O));for(let[F,j]of Object.entries(r))if(E||j!=null){let G=it.XmlNode.of("entry");I(G,F,j),(i?n:O).addChildNode(G)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=H.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??dc.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(ht(n,this.settings)){case 5:s=r.toISOString().replace(".000Z","Z");break;case 6:s=(0,bh.dateToUtcString)(r);break;case 7:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,bh.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof be?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=(0,Ct.v4)():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=H.of(t),a=new it.XmlText(i),[l,u]=this.getXmlnsAttribute(o,s);u&&n.addAttribute(l,u),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var vs,vh=C(()=>{c();Wr();ac();Th();vs=class extends We{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Ts(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Qr(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var pc,ww=C(()=>{c();dt();he();Rs();wh();vh();pc=class extends vn{codec;serializer;deserializer;mixin=new bt;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new vs(r),this.serializer=new In(this.codec.createSerializer(),r),this.deserializer=new An(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=H.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}return typeof s.body=="string"&&s.headers["content-type"]===this.getDefaultContentType()&&!s.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(i)&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=uc(n,s)??"Unknown";if(s.Error&&typeof s.Error=="object")for(let R of Object.keys(s.Error))s[R]=s.Error[R],R.toLowerCase()==="message"&&(s.message=s.Error[R]);s.RequestId&&!i.requestId&&(i.requestId=s.RequestId);let{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),u=H.of(a),g=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",m=V.for(a[1]).getErrorCtor(a)??Error,y=new m(g);await this.deserializeHttpMessage(a,r,n,s);let E={};for(let[R,v]of u.structIterator()){let A=v.getMergedTraits().xmlName??R,I=s.Error?.[A]??s[A];E[R]=this.codec.createDeserializer().readSchema(v,I)}throw this.mixin.decorateServiceException(Object.assign(y,l,{$fault:u.getMergedTraits().error,message:g},E),s)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(t){for(let[,r]of t.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var xh={};ut(xh,{AwsEc2QueryProtocol:()=>lc,AwsJson1_0Protocol:()=>rc,AwsJson1_1Protocol:()=>nc,AwsJsonRpcProtocol:()=>Yr,AwsQueryProtocol:()=>Jr,AwsRestJsonProtocol:()=>Xr,AwsRestXmlProtocol:()=>pc,AwsSmithyRpcV2CborProtocol:()=>Qa,JsonCodec:()=>Kr,JsonShapeDeserializer:()=>ws,JsonShapeSerializer:()=>bs,XmlCodec:()=>vs,XmlShapeDeserializer:()=>Qr,XmlShapeSerializer:()=>Ts,_toBool:()=>WC,_toNum:()=>KC,_toStr:()=>GC,awsExpectUnion:()=>cw,loadRestJsonErrorCode:()=>Cs,loadRestXmlErrorCode:()=>uc,parseJsonBody:()=>Pi,parseJsonErrorBody:()=>ew,parseXmlBody:()=>Ch,parseXmlErrorBody:()=>Cw});var kn=C(()=>{c();zC();YC();sw();iw();tc();ow();ec();hh();Sh();lw();Di();yw();_h();ww();vh();ac();Th();wh()});var Zr={};ut(Zr,{AWSSDKSigV4Signer:()=>Rm,AwsEc2QueryProtocol:()=>lc,AwsJson1_0Protocol:()=>rc,AwsJson1_1Protocol:()=>nc,AwsJsonRpcProtocol:()=>Yr,AwsQueryProtocol:()=>Jr,AwsRestJsonProtocol:()=>Xr,AwsRestXmlProtocol:()=>pc,AwsSdkSigV4ASigner:()=>Ti,AwsSdkSigV4Signer:()=>ze,AwsSmithyRpcV2CborProtocol:()=>Qa,JsonCodec:()=>Kr,JsonShapeDeserializer:()=>ws,JsonShapeSerializer:()=>bs,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>qr,NODE_SIGV4A_CONFIG_OPTIONS:()=>B_,XmlCodec:()=>vs,XmlShapeDeserializer:()=>Qr,XmlShapeSerializer:()=>Ts,_toBool:()=>WC,_toNum:()=>KC,_toStr:()=>GC,awsExpectUnion:()=>cw,emitWarningIfUnsupportedVersion:()=>Lr,getBearerTokenEnvKey:()=>Oa,loadRestJsonErrorCode:()=>Cs,loadRestXmlErrorCode:()=>uc,parseJsonBody:()=>Pi,parseJsonErrorBody:()=>ew,parseXmlBody:()=>Ch,parseXmlErrorBody:()=>Cw,resolveAWSSDKSigV4Config:()=>mC,resolveAwsSdkSigV4AConfig:()=>H_,resolveAwsSdkSigV4Config:()=>Er,setCredentialFeature:()=>Ur,setFeature:()=>T_,setTokenFeature:()=>x_,state:()=>Na,validateSigningProperties:()=>gs});var Ue=C(()=>{c();wt();Um();kn()});var Mn=N(xs=>{"use strict";c();var eH=(st(),ie(fs)),tH=Dn(),rH=Re(),Yt=(Ue(),ie(Zr)),xw=void 0;function nH(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function sH(e){let t=eH.normalizeProvider(e.userAgentAppId??xw),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await t();if(!nH(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var iH=/\d{12}\.ddb/;async function oH(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Yt.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let i=await t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?Yt.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):Yt.setFeature(e,"RETRY_MODE_STANDARD","E"):Yt.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let i=e.endpointV2;switch(String(i?.url?.hostname).match(iH)&&Yt.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":Yt.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Yt.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Yt.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&Yt.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(i.$source??{}))Yt.setFeature(e,o,a)}}var bw="user-agent",Ah="x-amz-user-agent",Tw=" ",Ih="/",aH=/[^!$%&'*+\-.^_`|~\w]/g,cH=/[^!$%&'*+\-.^_`|~\w#]/g,vw="-",lH=1024;function uH(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=lH){t.length?t+=","+n:t+=n;continue}break}return t}var Aw=e=>(t,r)=>async n=>{let{request:s}=n;if(!rH.HttpRequest.isInstance(s))return t(n);let{headers:i}=s,o=r?.userAgent?.map(fc)||[],a=(await e.defaultUserAgentProvider()).map(fc);await oH(r,e,n);let l=r;a.push(`m/${uH(Object.assign({},r.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let u=e?.customUserAgent?.map(fc)||[],g=await e.userAgentAppId();g&&a.push(fc(["app",`${g}`]));let m=tH.getUserAgentPrefix(),y=(m?[m]:[]).concat([...a,...o,...u]).join(Tw),E=[...a.filter(R=>R.startsWith("aws-sdk-")),...u].join(Tw);return e.runtime!=="browser"?(E&&(i[Ah]=i[Ah]?`${i[bw]} ${E}`:E),i[bw]=y):i[Ah]=y,t({...n,request:s})},fc=e=>{let t=e[0].split(Ih).map(o=>o.replace(aH,vw)).join(Ih),r=e[1]?.replace(cH,vw),n=t.indexOf(Ih),s=t.substring(0,n),i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(o=>o&&o.length>0).reduce((o,a,l)=>{switch(l){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},Iw={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},dH=e=>({applyToStack:t=>{t.add(Aw(e),Iw)}});xs.DEFAULT_UA_APP_ID=xw;xs.getUserAgentMiddlewareOptions=Iw;xs.getUserAgentPlugin=dH;xs.resolveUserAgentConfig=sH;xs.userAgentMiddleware=Aw});var Pw=N(As=>{"use strict";c();var pH=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},fH=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};As.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(As.SelectorType||(As.SelectorType={}));As.booleanSelector=pH;As.numberSelector=fH});var pt=N(qe=>{"use strict";c();var en=Pw(),mc=Ze(),mH=Fr(),Ow="AWS_USE_DUALSTACK_ENDPOINT",$w="use_dualstack_endpoint",hH=!1,gH={environmentVariableSelector:e=>en.booleanSelector(e,Ow,en.SelectorType.ENV),configFileSelector:e=>en.booleanSelector(e,$w,en.SelectorType.CONFIG),default:!1},kw="AWS_USE_FIPS_ENDPOINT",Mw="use_fips_endpoint",SH=!1,EH={environmentVariableSelector:e=>en.booleanSelector(e,kw,en.SelectorType.ENV),configFileSelector:e=>en.booleanSelector(e,Mw,en.SelectorType.CONFIG),default:!1},yH=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:mc.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:mc.normalizeProvider(s??!1)})},RH=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:o}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:i})??{};if(!o)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${o}`)},_H=e=>{let t=mc.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:i}=e;return Object.assign(e,{tls:i??!0,endpoint:r?mc.normalizeProvider(typeof r=="string"?s(r):r):()=>RH({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},Fw="AWS_REGION",Lw="region",CH={environmentVariableSelector:e=>e[Fw],configFileSelector:e=>e[Lw],default:()=>{throw new Error("Region is missing")}},wH={preferredFile:"credentials"},Dw=new Set,bH=(e,t=mH.isValidHostLabel)=>{if(!Dw.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else Dw.add(e)},Uw=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),TH=e=>Uw(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,vH=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,s=TH(n);return bH(s),s},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return Uw(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},Nw=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,xH=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),AH=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",IH=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(s);if(i)return i[0].slice(1,-1)}},PH=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:i})=>{let o=AH(e,{partitionHash:i}),a=e in s?e:i[o]?.endpoint??e,l={useFipsEndpoint:t,useDualstackEndpoint:r},u=Nw(s[a]?.variants,l),g=Nw(i[o]?.variants,l),m=xH(a,{regionHostname:u,partitionHostname:g});if(m===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let y=IH(m,{signingRegion:s[a]?.signingRegion,regionRegex:i[o].regionRegex,useFipsEndpoint:t});return{partition:o,signingService:n,hostname:m,...y&&{signingRegion:y},...s[a]?.signingService&&{signingService:s[a].signingService}}};qe.CONFIG_USE_DUALSTACK_ENDPOINT=$w;qe.CONFIG_USE_FIPS_ENDPOINT=Mw;qe.DEFAULT_USE_DUALSTACK_ENDPOINT=hH;qe.DEFAULT_USE_FIPS_ENDPOINT=SH;qe.ENV_USE_DUALSTACK_ENDPOINT=Ow;qe.ENV_USE_FIPS_ENDPOINT=kw;qe.NODE_REGION_CONFIG_FILE_OPTIONS=wH;qe.NODE_REGION_CONFIG_OPTIONS=CH;qe.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=gH;qe.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=EH;qe.REGION_ENV_NAME=Fw;qe.REGION_INI_NAME=Lw;qe.getRegionInfo=PH;qe.resolveCustomEndpointsConfig=yH;qe.resolveEndpointsConfig=_H;qe.resolveRegionConfig=vH});var Is=N(hc=>{"use strict";c();var DH=Re(),qw="content-length";function Hw(e){return t=>async r=>{let n=r.request;if(DH.HttpRequest.isInstance(n)){let{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(qw)===-1)try{let o=e(s);n.headers={...n.headers,[qw]:String(o)}}catch{}}return t({...r,request:n})}}var Bw={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},NH=e=>({applyToStack:t=>{t.add(Hw(e.bodyLengthChecker),Bw)}});hc.contentLengthMiddleware=Hw;hc.contentLengthMiddlewareOptions=Bw;hc.getContentLengthPlugin=NH});var Dh=N(gc=>{"use strict";c();Object.defineProperty(gc,"__esModule",{value:!0});gc.getHomeDir=void 0;var OH=ee("os"),$H=ee("path"),Ph={},kH=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",MH=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${$H.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=kH();return Ph[s]||(Ph[s]=(0,OH.homedir)()),Ph[s]};gc.getHomeDir=MH});var Nh=N(Sc=>{"use strict";c();Object.defineProperty(Sc,"__esModule",{value:!0});Sc.getSSOTokenFilepath=void 0;var FH=ee("crypto"),LH=ee("path"),UH=Dh(),qH=e=>{let r=(0,FH.createHash)("sha1").update(e).digest("hex");return(0,LH.join)((0,UH.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Sc.getSSOTokenFilepath=qH});var jw=N(tn=>{"use strict";c();Object.defineProperty(tn,"__esModule",{value:!0});tn.getSSOTokenFromFile=tn.tokenIntercept=void 0;var HH=ee("fs/promises"),BH=Nh();tn.tokenIntercept={};var jH=async e=>{if(tn.tokenIntercept[e])return tn.tokenIntercept[e];let t=(0,BH.getSSOTokenFilepath)(e),r=await(0,HH.readFile)(t,"utf8");return JSON.parse(r)};tn.getSSOTokenFromFile=jH});var Vw=N(gt=>{"use strict";c();Object.defineProperty(gt,"__esModule",{value:!0});gt.readFile=gt.fileIntercept=gt.filePromises=void 0;var VH=ee("node:fs/promises");gt.filePromises={};gt.fileIntercept={};var zH=(e,t)=>gt.fileIntercept[e]!==void 0?gt.fileIntercept[e]:((!gt.filePromises[e]||t?.ignoreCache)&&(gt.filePromises[e]=(0,VH.readFile)(e,"utf8")),gt.filePromises[e]);gt.readFile=zH});var Xt=N(ot=>{"use strict";c();var Ni=Dh(),zw=Nh(),Oh=jw(),Ec=ee("path"),yc=Dr(),Ps=Vw(),Ww="AWS_PROFILE",Kw="default",GH=e=>e.profile||process.env[Ww]||Kw,Fn=".",WH=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Fn);return r===-1?!1:Object.values(yc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(Fn),i=r.substring(0,s)===yc.IniSectionType.PROFILE?r.substring(s+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),KH="AWS_CONFIG_FILE",Yw=()=>process.env[KH]||Ec.join(Ni.getHomeDir(),".aws","config"),YH="AWS_SHARED_CREDENTIALS_FILE",XH=()=>process.env[YH]||Ec.join(Ni.getHomeDir(),".aws","credentials"),QH=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,JH=["__proto__","profile __proto__"],$h=e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let i=s.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),l=QH.exec(a);if(l){let[,u,,g]=l;Object.values(yc.IniSectionType).includes(u)&&(r=[u,g].join(Fn))}else r=a;if(JH.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[l,u]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(u==="")n=l;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let g=n?[n,l].join(Fn):l;t[r][g]=u}}}}return t},Gw=()=>({}),Xw=async(e={})=>{let{filepath:t=XH(),configFilepath:r=Yw()}=e,n=Ni.getHomeDir(),s="~/",i=t;t.startsWith(s)&&(i=Ec.join(n,t.slice(2)));let o=r;r.startsWith(s)&&(o=Ec.join(n,r.slice(2)));let a=await Promise.all([Ps.readFile(o,{ignoreCache:e.ignoreCache}).then($h).then(WH).catch(Gw),Ps.readFile(i,{ignoreCache:e.ignoreCache}).then($h).catch(Gw)]);return{configFile:a[0],credentialsFile:a[1]}},ZH=e=>Object.entries(e).filter(([t])=>t.startsWith(yc.IniSectionType.SSO_SESSION+Fn)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Fn)+1)]:n}),{}),eB=()=>({}),tB=async(e={})=>Ps.readFile(e.configFilepath??Yw()).then($h).then(ZH).catch(eB),rB=(...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},nB=async e=>{let t=await Xw(e);return rB(t.configFile,t.credentialsFile)},sB={getFileRecord(){return Ps.fileIntercept},interceptFile(e,t){Ps.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return Oh.tokenIntercept},interceptToken(e,t){Oh.tokenIntercept[e]=t}};Object.defineProperty(ot,"getSSOTokenFromFile",{enumerable:!0,get:function(){return Oh.getSSOTokenFromFile}});Object.defineProperty(ot,"readFile",{enumerable:!0,get:function(){return Ps.readFile}});ot.CONFIG_PREFIX_SEPARATOR=Fn;ot.DEFAULT_PROFILE=Kw;ot.ENV_PROFILE=Ww;ot.externalDataInterceptor=sB;ot.getProfileName=GH;ot.loadSharedConfigFiles=Xw;ot.loadSsoSessionData=tB;ot.parseKnownFiles=nB;Object.keys(Ni).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ot,e)&&Object.defineProperty(ot,e,{enumerable:!0,get:function(){return Ni[e]}})});Object.keys(zw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ot,e)&&Object.defineProperty(ot,e,{enumerable:!0,get:function(){return zw[e]}})})});var Qt=N(Zw=>{"use strict";c();var Oi=Ge(),Qw=Xt();function Jw(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var iB=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Oi.CredentialsProviderError(r.message||`Not found in ENV: ${Jw(e.toString())}`,{logger:t?.logger})}},oB=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=Qw.getProfileName(r),{configFile:s,credentialsFile:i}=await Qw.loadSharedConfigFiles(r),o=i[n]||{},a=s[n]||{},l=t==="config"?{...o,...a}:{...a,...o};try{let g=e(l,t==="config"?s:i);if(g===void 0)throw new Error;return g}catch(u){throw new Oi.CredentialsProviderError(u.message||`Not found in config files w/ profile [${n}]: ${Jw(e.toString())}`,{logger:r.logger})}},aB=e=>typeof e=="function",cB=e=>aB(e)?async()=>await e():Oi.fromStatic(e),lB=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:i}=n,o={signingName:s,logger:i};return Oi.memoize(Oi.chain(iB(e,o),oB(t,n),cB(r)))};Zw.loadConfig=lB});var nb=N(Rc=>{"use strict";c();Object.defineProperty(Rc,"__esModule",{value:!0});Rc.getEndpointUrlConfig=void 0;var eb=Xt(),tb="AWS_ENDPOINT_URL",rb="endpoint_url",uB=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[tb,...r].join("_")];if(n)return n;let s=t[tb];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(eb.CONFIG_PREFIX_SEPARATOR)];if(s){let i=e.split(" ").map(a=>a.toLowerCase()),o=s[[i.join("_"),rb].join(eb.CONFIG_PREFIX_SEPARATOR)];if(o)return o}}let n=t[rb];if(n)return n},default:void 0});Rc.getEndpointUrlConfig=uB});var sb=N(_c=>{"use strict";c();Object.defineProperty(_c,"__esModule",{value:!0});_c.getEndpointFromConfig=void 0;var dB=Qt(),pB=nb(),fB=async e=>(0,dB.loadConfig)((0,pB.getEndpointUrlConfig)(e??""))();_c.getEndpointFromConfig=fB});var Jt=N(br=>{"use strict";c();var ob=sb(),ib=gr(),mB=(st(),ie(fs)),Cc=Ze(),hB=qp(),gB=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),_B(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!RB(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},SB=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,EB=/(\d+\.){3}\d+/,yB=/\.\./,RB=e=>SB.test(e)&&!EB.test(e)&&!yB.test(e),_B=e=>{let[t,r,n,,,s]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,o=!!(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},CB=(e,t,r,n=!1)=>{let s=async()=>{let i;return n?i=r.clientContextParams?.[e]??r[e]??r[t]:i=r[e]??r[t],typeof i=="function"?i():i};return e==="credentialScope"||t==="CredentialScope"?async()=>{let i=typeof r.credentials=="function"?await r.credentials():r.credentials;return i?.credentialScope??i?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let i=typeof r.credentials=="function"?await r.credentials():r.credentials;return i?.accountId??i?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let i=await s();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:o,hostname:a,port:l,path:u}=i;return`${o}//${a}${l?":"+l:""}${u}`}}return i}:s},kh=e=>typeof e=="object"?"url"in e?ib.parseUrl(e.url):e:ib.parseUrl(e),ab=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await ob.getEndpointFromConfig(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(kh(o)),r.isCustomEndpoint=!0)}let s=await cb(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},cb=async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[i,o]of Object.entries(s))switch(o.type){case"staticContextParams":n[i]=o.value;break;case"contextParams":n[i]=e[o.name];break;case"clientContextParams":case"builtInParams":n[i]=await CB(o.name,i,r,o.type!=="builtInParams")();break;case"operationContextParams":n[i]=o.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await gB(n),n},lb=({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&mB.setFeature(n,"ENDPOINT_OVERRIDE","N");let i=await ab(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;let o=n.authSchemes?.[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;let l=Cc.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})},ub={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:hB.serializerMiddlewareOption.name},wB=(e,t)=>({applyToStack:r=>{r.addRelativeTo(lb({config:e,instructions:t}),ub)}}),bB=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,i=r!=null?async()=>kh(await Cc.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:i,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:Cc.normalizeProvider(n??!1),useFipsEndpoint:Cc.normalizeProvider(s??!1)}),l;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=ob.getEndpointFromConfig(e.serviceId)),l),a},TB=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};br.endpointMiddleware=lb;br.endpointMiddlewareOptions=ub;br.getEndpointFromInstructions=ab;br.getEndpointPlugin=wB;br.resolveEndpointConfig=bB;br.resolveEndpointRequiredConfig=TB;br.resolveParams=cb;br.toEndpointV1=kh});var Fh=N(rn=>{"use strict";c();var vB=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],xB=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],AB=["TimeoutError","RequestTimeout","RequestTimeoutException"],IB=[500,502,503,504],PB=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],DB=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],db=e=>e?.$retryable!==void 0,NB=e=>vB.includes(e.name),pb=e=>e.$metadata?.clockSkewCorrected,fb=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},OB=e=>e.$metadata?.httpStatusCode===429||xB.includes(e.name)||e.$retryable?.throttling==!0,Mh=(e,t=0)=>db(e)||pb(e)||AB.includes(e.name)||PB.includes(e?.code||"")||DB.includes(e?.code||"")||IB.includes(e.$metadata?.httpStatusCode||0)||fb(e)||e.cause!==void 0&&t<=10&&Mh(e.cause,t+1),$B=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Mh(e)}return!1};rn.isBrowserNetworkError=fb;rn.isClockSkewCorrectedError=pb;rn.isClockSkewError=NB;rn.isRetryableByTrait=db;rn.isServerError=$B;rn.isThrottlingError=OB;rn.isTransientError=Mh});var Ln=N(Ie=>{"use strict";c();var kB=Fh();Ie.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Ie.RETRY_MODES||(Ie.RETRY_MODES={}));var Lh=3,MB=Ie.RETRY_MODES.STANDARD,wc=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),kB.isThrottlingError(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},$i=100,Bh=20*1e3,hb=500,Uh=500,gb=5,Sb=10,Eb=1,FB="amz-sdk-invocation-id",LB="amz-sdk-request",UB=()=>{let e=$i;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Bh,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},mb=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(Bh,e),getRetryCost:()=>r}),ki=class{maxAttempts;mode=Ie.RETRY_MODES.STANDARD;capacity=Uh;retryBackoffStrategy=UB();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return mb({retryDelay:$i,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?hb:$i);let i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(s);return this.capacity-=a,mb({retryDelay:o,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Uh,this.capacity+(t.getRetryCost()??Eb))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Lh}`),Lh}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?Sb:gb}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},qh=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Ie.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new wc,this.standardRetryStrategy=new ki(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},Hh=class extends ki{computeNextBackoffDelay;constructor(t,r=$i){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Ie.AdaptiveRetryStrategy=qh;Ie.ConfiguredRetryStrategy=Hh;Ie.DEFAULT_MAX_ATTEMPTS=Lh;Ie.DEFAULT_RETRY_DELAY_BASE=$i;Ie.DEFAULT_RETRY_MODE=MB;Ie.DefaultRateLimiter=wc;Ie.INITIAL_RETRY_TOKENS=Uh;Ie.INVOCATION_ID_HEADER=FB;Ie.MAXIMUM_RETRY_DELAY=Bh;Ie.NO_RETRY_INCREMENT=Eb;Ie.REQUEST_HEADER=LB;Ie.RETRY_COST=gb;Ie.StandardRetryStrategy=ki;Ie.THROTTLING_RETRY_DELAY_BASE=hb;Ie.TIMEOUT_RETRY_COST=Sb});var yb=N(bc=>{"use strict";c();Object.defineProperty(bc,"__esModule",{value:!0});bc.isStreamingPayload=void 0;var qB=ee("stream"),HB=e=>e?.body instanceof qB.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;bc.isStreamingPayload=HB});var Ft=N($e=>{"use strict";c();var Ae=Ln(),Ds=Re(),nn=Fh(),_b=Bf(),Rb=Ze(),BB=J(),jB=yb(),VB=(e,t)=>{let r=e,n=Ae.NO_RETRY_INCREMENT,s=Ae.RETRY_COST,i=Ae.TIMEOUT_RETRY_COST,o=e,a=m=>m.name==="TimeoutError"?i:s,l=m=>a(m)<=o;return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:m=>{if(!l(m))throw new Error("No retry token available");let y=a(m);return o-=y,y},releaseRetryTokens:m=>{o+=m??n,o=Math.min(o,r)}})},Cb=(e,t)=>Math.floor(Math.min(Ae.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),wb=e=>e?nn.isRetryableByTrait(e)||nn.isClockSkewError(e)||nn.isThrottlingError(e)||nn.isTransientError(e):!1,bb=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Tc=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=Ae.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??wb,this.delayDecider=r?.delayDecider??Cb,this.retryQuota=r?.retryQuota??VB(Ae.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=Ae.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let s,i=0,o=0,a=await this.getMaxAttempts(),{request:l}=r;for(Ds.HttpRequest.isInstance(l)&&(l.headers[Ae.INVOCATION_ID_HEADER]=_b.v4());;)try{Ds.HttpRequest.isInstance(l)&&(l.headers[Ae.REQUEST_HEADER]=`attempt=${i+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:u,output:g}=await t(r);return n?.afterRequest&&n.afterRequest(u),this.retryQuota.releaseRetryTokens(s),g.$metadata.attempts=i+1,g.$metadata.totalRetryDelay=o,{response:u,output:g}}catch(u){let g=bb(u);if(i++,this.shouldRetry(g,i,a)){s=this.retryQuota.retrieveRetryTokens(g);let m=this.delayDecider(nn.isThrottlingError(g)?Ae.THROTTLING_RETRY_DELAY_BASE:Ae.DEFAULT_RETRY_DELAY_BASE,i),y=zB(g.$response),E=Math.max(y||0,m);o+=E,await new Promise(R=>setTimeout(R,E));continue}throw g.$metadata||(g.$metadata={}),g.$metadata.attempts=i,g.$metadata.totalRetryDelay=o,g}}},zB=e=>{if(!Ds.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},jh=class extends Tc{rateLimiter;constructor(t,r){let{rateLimiter:n,...s}=r??{};super(t,s),this.rateLimiter=n??new Ae.DefaultRateLimiter,this.mode=Ae.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},Vh="AWS_MAX_ATTEMPTS",zh="max_attempts",GB={environmentVariableSelector:e=>{let t=e[Vh];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Vh} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[zh];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${zh} mast be a number, got "${t}"`);return r},default:Ae.DEFAULT_MAX_ATTEMPTS},WB=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=Rb.normalizeProvider(n??Ae.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await Rb.normalizeProvider(r)()===Ae.RETRY_MODES.ADAPTIVE?new Ae.AdaptiveRetryStrategy(s):new Ae.StandardRetryStrategy(s))})},Tb="AWS_RETRY_MODE",vb="retry_mode",KB={environmentVariableSelector:e=>e[Tb],configFileSelector:e=>e[vb],default:Ae.DEFAULT_RETRY_MODE},xb=()=>e=>async t=>{let{request:r}=t;return Ds.HttpRequest.isInstance(r)&&(delete r.headers[Ae.INVOCATION_ID_HEADER],delete r.headers[Ae.REQUEST_HEADER]),e(t)},Ab={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},YB=e=>({applyToStack:t=>{t.addRelativeTo(xb(),Ab)}}),Ib=e=>(t,r)=>async n=>{let s=await e.retryStrategy(),i=await e.maxAttempts();if(XB(s)){s=s;let o=await s.acquireInitialRetryToken(r.partition_id),a=new Error,l=0,u=0,{request:g}=n,m=Ds.HttpRequest.isInstance(g);for(m&&(g.headers[Ae.INVOCATION_ID_HEADER]=_b.v4());;)try{m&&(g.headers[Ae.REQUEST_HEADER]=`attempt=${l+1}; max=${i}`);let{response:y,output:E}=await t(n);return s.recordSuccess(o),E.$metadata.attempts=l+1,E.$metadata.totalRetryDelay=u,{response:y,output:E}}catch(y){let E=QB(y);if(a=bb(y),m&&jB.isStreamingPayload(g))throw(r.logger instanceof BB.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=await s.refreshRetryTokenForRetry(o,E)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=l+1,a.$metadata.totalRetryDelay=u,a}l=o.getRetryCount();let R=o.getRetryDelay();u+=R,await new Promise(v=>setTimeout(v,R))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},XB=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",QB=e=>{let t={error:e,errorType:JB(e)},r=Db(e.$response);return r&&(t.retryAfterHint=r),t},JB=e=>nn.isThrottlingError(e)?"THROTTLING":nn.isTransientError(e)?"TRANSIENT":nn.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",Pb={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},ZB=e=>({applyToStack:t=>{t.add(Ib(e),Pb)}}),Db=e=>{if(!Ds.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};$e.AdaptiveRetryStrategy=jh;$e.CONFIG_MAX_ATTEMPTS=zh;$e.CONFIG_RETRY_MODE=vb;$e.ENV_MAX_ATTEMPTS=Vh;$e.ENV_RETRY_MODE=Tb;$e.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=GB;$e.NODE_RETRY_MODE_CONFIG_OPTIONS=KB;$e.StandardRetryStrategy=Tc;$e.defaultDelayDecider=Cb;$e.defaultRetryDecider=wb;$e.getOmitRetryHeadersPlugin=YB;$e.getRetryAfterHint=Db;$e.getRetryPlugin=ZB;$e.omitRetryHeadersMiddleware=xb;$e.omitRetryHeadersMiddlewareOptions=Ab;$e.resolveRetryConfig=WB;$e.retryMiddleware=Ib;$e.retryMiddlewareOptions=Pb});var Wh=N(sn=>{"use strict";c();Object.defineProperty(sn,"__esModule",{value:!0});sn.resolveHttpAuthSchemeConfig=sn.defaultSESHttpAuthSchemeProvider=sn.defaultSESHttpAuthSchemeParametersProvider=void 0;var ej=(Ue(),ie(Zr)),Gh=Ze(),tj=async(e,t,r)=>({operation:(0,Gh.getSmithyContext)(t).operation,region:await(0,Gh.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});sn.defaultSESHttpAuthSchemeParametersProvider=tj;function rj(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"ses",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var nj=e=>{let t=[];switch(e.operation){default:t.push(rj(e))}return t};sn.defaultSESHttpAuthSchemeProvider=nj;var sj=e=>{let t=(0,ej.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Gh.normalizeProvider)(e.authSchemePreference??[])})};sn.resolveHttpAuthSchemeConfig=sj});var Nb=N((Eoe,ij)=>{ij.exports={name:"@aws-sdk/client-ses",description:"AWS SDK for JavaScript Ses Client for Node.js, Browser and React Native",version:"3.985.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-ses","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo ses","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts --mode development","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.7","@aws-sdk/credential-provider-node":"^3.972.6","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.7","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.985.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.5","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.1","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.13","@smithy/middleware-retry":"^4.4.30","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.9","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.2","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.29","@smithy/util-defaults-mode-node":"^4.2.32","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.8",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-ses",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-ses"}}});var Kh=N(on=>{"use strict";c();var oj=(wt(),ie(Sr)),aj=Ge(),Ob="AWS_ACCESS_KEY_ID",$b="AWS_SECRET_ACCESS_KEY",kb="AWS_SESSION_TOKEN",Mb="AWS_CREDENTIAL_EXPIRATION",Fb="AWS_CREDENTIAL_SCOPE",Lb="AWS_ACCOUNT_ID",cj=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[Ob],r=process.env[$b],n=process.env[kb],s=process.env[Mb],i=process.env[Fb],o=process.env[Lb];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...i&&{credentialScope:i},...o&&{accountId:o}};return oj.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new aj.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};on.ENV_ACCOUNT_ID=Lb;on.ENV_CREDENTIAL_SCOPE=Fb;on.ENV_EXPIRATION=Mb;on.ENV_KEY=Ob;on.ENV_SECRET=$b;on.ENV_SESSION=kb;on.fromEnv=cj});var Fi=N(Ke=>{"use strict";c();var Zt=Ge(),lj=ee("url"),uj=ee("buffer"),dj=ee("http"),Zh=Qt(),pj=gr();function Mi(e){return new Promise((t,r)=>{let n=dj.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new Zt.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new Zt.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new Zt.ProviderError("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let o=[];s.on("data",a=>{o.push(a)}),s.on("end",()=>{t(uj.Buffer.concat(o)),n.destroy()})}),n.end()})}var Bb=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",jb=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),Vb=1e3,zb=0,eg=({maxRetries:e=zb,timeout:t=Vb})=>({maxRetries:e,timeout:t}),Xh=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},vc="AWS_CONTAINER_CREDENTIALS_FULL_URI",xc="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Qh="AWS_CONTAINER_AUTHORIZATION_TOKEN",fj=(e={})=>{let{timeout:t,maxRetries:r}=eg(e);return()=>Xh(async()=>{let n=await Ej({logger:e.logger}),s=JSON.parse(await mj(t,n));if(!Bb(s))throw new Zt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return jb(s)},r)},mj=async(e,t)=>(process.env[Qh]&&(t.headers={...t.headers,Authorization:process.env[Qh]}),(await Mi({...t,timeout:e})).toString()),hj="169.254.170.2",gj={localhost:!0,"127.0.0.1":!0},Sj={"http:":!0,"https:":!0},Ej=async({logger:e})=>{if(process.env[xc])return{hostname:hj,path:process.env[xc]};if(process.env[vc]){let t=lj.parse(process.env[vc]);if(!t.hostname||!(t.hostname in gj))throw new Zt.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in Sj))throw new Zt.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Zt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${xc} or ${vc} environment variable is set`,{tryNextLink:!1,logger:e})},Jh=class e extends Zt.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};Ke.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(Ke.Endpoint||(Ke.Endpoint={}));var yj="AWS_EC2_METADATA_SERVICE_ENDPOINT",Rj="ec2_metadata_service_endpoint",_j={environmentVariableSelector:e=>e[yj],configFileSelector:e=>e[Rj],default:void 0},Ns;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(Ns||(Ns={}));var Cj="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",wj="ec2_metadata_service_endpoint_mode",bj={environmentVariableSelector:e=>e[Cj],configFileSelector:e=>e[wj],default:Ns.IPv4},Gb=async()=>pj.parseUrl(await Tj()||await vj()),Tj=async()=>Zh.loadConfig(_j)(),vj=async()=>{let e=await Zh.loadConfig(bj)();switch(e){case Ns.IPv4:return Ke.Endpoint.IPv4;case Ns.IPv6:return Ke.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Ns)}`)}},xj=5*60,Aj=5*60,Ij="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Ub=(e,t)=>{let r=xj+Math.floor(Math.random()*Aj),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+Ij);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},Pj=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=Ub(s,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),s=Ub(n,r);else throw i}return n=s,s}},Wb="/latest/meta-data/iam/security-credentials/",Dj="/latest/api/token",Yh="AWS_EC2_METADATA_V1_DISABLED",qb="ec2_metadata_v1_disabled",Hb="x-aws-ec2-metadata-token",Nj=(e={})=>Pj(Oj(e),{logger:e.logger}),Oj=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:i}=eg(e),o=async(a,l)=>{if(t||l.headers?.[Hb]==null){let m=!1,y=!1,E=await Zh.loadConfig({environmentVariableSelector:R=>{let v=R[Yh];if(y=!!v&&v!=="false",v===void 0)throw new Zt.CredentialsProviderError(`${Yh} not set in env, checking config file next.`,{logger:e.logger});return y},configFileSelector:R=>{let v=R[qb];return m=!!v&&v!=="false",m},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||E){let R=[];throw e.ec2MetadataV1Disabled&&R.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),m&&R.push(`config file profile (${qb})`),y&&R.push(`process environment variable (${Yh})`),new Jh(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${R.join(", ")}].`)}}let g=(await Xh(async()=>{let m;try{m=await kj(l)}catch(y){throw y.statusCode===401&&(t=!1),y}return m},a)).trim();return Xh(async()=>{let m;try{m=await Mj(g,l,e)}catch(y){throw y.statusCode===401&&(t=!1),y}return m},a)};return async()=>{let a=await Gb();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),o(i,{...a,timeout:s});{let l;try{l=(await $j({...a,timeout:s})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),o(i,{...a,timeout:s})}return o(i,{...a,headers:{[Hb]:l},timeout:s})}}},$j=async e=>Mi({...e,path:Dj,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),kj=async e=>(await Mi({...e,path:Wb})).toString(),Mj=async(e,t,r)=>{let n=JSON.parse((await Mi({...t,path:Wb+e})).toString());if(!Bb(n))throw new Zt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return jb(n)};Ke.DEFAULT_MAX_RETRIES=zb;Ke.DEFAULT_TIMEOUT=Vb;Ke.ENV_CMDS_AUTH_TOKEN=Qh;Ke.ENV_CMDS_FULL_URI=vc;Ke.ENV_CMDS_RELATIVE_URI=xc;Ke.fromContainerMetadata=fj;Ke.fromInstanceMetadata=Nj;Ke.getInstanceMetadataEndpoint=Gb;Ke.httpRequest=Mi;Ke.providerConfigFromInit=eg});var Kb=N(Ac=>{"use strict";c();Object.defineProperty(Ac,"__esModule",{value:!0});Ac.checkUrl=void 0;var Fj=Ge(),Lj="169.254.170.2",Uj="169.254.170.23",qj="[fd00:ec2::23]",Hj=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===Lj||e.hostname===Uj||e.hostname===qj)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let i=parseInt(s,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new Fj.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Ac.checkUrl=Hj});var Yb=N(Ic=>{"use strict";c();Object.defineProperty(Ic,"__esModule",{value:!0});Ic.createGetRequest=zj;Ic.getCredentials=Gj;var tg=Ge(),Bj=Re(),jj=J(),Vj=aa();function zj(e){return new Bj.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function Gj(e,t){let n=await(0,Vj.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new tg.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,jj.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new tg.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new tg.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var Xb=N(Pc=>{"use strict";c();Object.defineProperty(Pc,"__esModule",{value:!0});Pc.retryWrapper=void 0;var Wj=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};Pc.retryWrapper=Wj});var Zb=N(Dc=>{"use strict";c();Object.defineProperty(Dc,"__esModule",{value:!0});Dc.fromHttp=void 0;var Kj=(Ri(),ie(yi)),Yj=(wt(),ie(Sr)),Xj=$r(),Qb=Ge(),Qj=Kj.__importDefault(ee("fs/promises")),Jj=Kb(),Jb=Yb(),Zj=Xb(),eV="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",tV="http://169.254.170.2",rV="AWS_CONTAINER_CREDENTIALS_FULL_URI",nV="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",sV="AWS_CONTAINER_AUTHORIZATION_TOKEN",iV=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[eV],n=e.awsContainerCredentialsFullUri??process.env[rV],s=e.awsContainerAuthorizationToken??process.env[sV],i=e.awsContainerAuthorizationTokenFile??process.env[nV],o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),s&&i&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${tV}${r}`;else throw new Qb.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,Jj.checkUrl)(a,e.logger);let l=Xj.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,Zj.retryWrapper)(async()=>{let u=(0,Jb.createGetRequest)(a);s?u.headers.Authorization=s:i&&(u.headers.Authorization=(await Qj.default.readFile(i)).toString());try{let g=await l.handle(u);return(0,Jb.getCredentials)(g.response).then(m=>(0,Yj.setCredentialFeature)(m,"CREDENTIALS_HTTP","z"))}catch(g){throw new Qb.CredentialsProviderError(String(g),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Dc.fromHttp=iV});var rg=N(Nc=>{"use strict";c();Object.defineProperty(Nc,"__esModule",{value:!0});Nc.fromHttp=void 0;var oV=Zb();Object.defineProperty(Nc,"fromHttp",{enumerable:!0,get:function(){return oV.fromHttp}})});function aV(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function cV(e){return{schemeId:"smithy.api#noAuth"}}var Li,eT,tT,rT,ng=C(()=>{c();Ue();Li=b(Ze()),eT=async(e,t,r)=>({operation:(0,Li.getSmithyContext)(t).operation,region:await(0,Li.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});tT=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(cV(e));break}default:t.push(aV(e))}return t},rT=e=>{let t=Er(e);return Object.assign(t,{authSchemePreference:(0,Li.normalizeProvider)(e.authSchemePreference??[])})}});var nT,sT,sg=C(()=>{c();nT=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),sT={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Os,Oc=C(()=>{Os={name:"@aws-sdk/nested-clients",version:"3.985.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=20.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.7","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.7","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.985.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.5","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.1","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.13","@smithy/middleware-retry":"^4.4.30","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.9","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.2","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.29","@smithy/util-defaults-mode-node":"^4.2.32","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var $s=N(Un=>{"use strict";c();var iT=ee("os"),ig=ee("process"),uV=Mn(),oT={isCrtAvailable:!1},dV=()=>oT.isCrtAvailable?["md/crt-avail"]:null,aT=({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${iT.platform()}`,iT.release()],["lang/js"],["md/nodejs",`${ig.versions.node}`]],s=dV();s&&n.push(s),e&&n.push([`api/${e}`,t]),ig.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${ig.env.AWS_EXECUTION_ENV}`]);let i=await r?.userAgentAppId?.();return i?[...n,[`app/${i}`]]:[...n]},pV=aT,cT="AWS_SDK_UA_APP_ID",lT="sdk_ua_app_id",fV="sdk-ua-app-id",mV={environmentVariableSelector:e=>e[cT],configFileSelector:e=>e[lT]??e[fV],default:uV.DEFAULT_UA_APP_ID};Un.NODE_APP_ID_CONFIG_OPTIONS=mV;Un.UA_APP_ID_ENV_NAME=cT;Un.UA_APP_ID_INI_NAME=lT;Un.createDefaultUserAgentProvider=aT;Un.crtAvailability=oT;Un.defaultUserAgent=pV});var ks=N(pT=>{"use strict";c();var og=ss(),hV=ke(),gV=ee("buffer"),uT=ee("crypto"),ag=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(hV.toUint8Array(dT(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?uT.createHmac(this.algorithmIdentifier,dT(this.secret)):uT.createHash(this.algorithmIdentifier)}};function dT(e,t){return gV.Buffer.isBuffer(e)?e:typeof e=="string"?og.fromString(e,t):ArrayBuffer.isView(e)?og.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):og.fromArrayBuffer(e)}pT.Hash=ag});var Ms=N(fT=>{"use strict";c();var cg=ee("node:fs"),SV=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof cg.ReadStream){if(e.path!=null)return cg.lstatSync(e.path).size;if(typeof e.fd=="number")return cg.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};fT.calculateBodyLength=SV});var Fs=N(ST=>{"use strict";c();var EV=pt(),mT=Qt(),yV=Ge(),RV="AWS_EXECUTION_ENV",hT="AWS_REGION",gT="AWS_DEFAULT_REGION",_V="AWS_EC2_METADATA_DISABLED",CV=["in-region","cross-region","mobile","standard","legacy"],wV="/latest/meta-data/placement/region",bV="AWS_DEFAULTS_MODE",TV="defaults_mode",vV={environmentVariableSelector:e=>e[bV],configFileSelector:e=>e[TV],default:"legacy"},xV=({region:e=mT.loadConfig(EV.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=mT.loadConfig(vV)}={})=>yV.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return AV(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${CV.join(", ")}, got ${r}`)}}),AV=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await IV();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},IV=async()=>{if(process.env[RV]&&(process.env[hT]||process.env[gT]))return process.env[hT]??process.env[gT];if(!process.env[_V])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>b(Fi())),r=await e();return(await t({...r,path:wV})).toString()}catch{}};ST.resolveDefaultsModeConfig=xV});var xT,vt,xt,qs,ET,Ui,Ls,Us,Tr,lg,ug,yT,RT,_T,AT,IT,Tt,CT,PT,wT,bT,TT,vT,PV,DT,NT=C(()=>{c();xT="required",vt="fn",xt="argv",qs="ref",ET="isSet",Ui="booleanEquals",Ls="error",Us="endpoint",Tr="tree",lg="PartitionResult",ug="getAttr",yT={[xT]:!1,type:"string"},RT={[xT]:!0,default:!1,type:"boolean"},_T={[qs]:"Endpoint"},AT={[vt]:Ui,[xt]:[{[qs]:"UseFIPS"},!0]},IT={[vt]:Ui,[xt]:[{[qs]:"UseDualStack"},!0]},Tt={},CT={[vt]:ug,[xt]:[{[qs]:lg},"supportsFIPS"]},PT={[qs]:lg},wT={[vt]:Ui,[xt]:[!0,{[vt]:ug,[xt]:[PT,"supportsDualStack"]}]},bT=[AT],TT=[IT],vT=[{[qs]:"Region"}],PV={version:"1.0",parameters:{Region:yT,UseDualStack:RT,UseFIPS:RT,Endpoint:yT},rules:[{conditions:[{[vt]:ET,[xt]:[_T]}],rules:[{conditions:bT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ls},{conditions:TT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ls},{endpoint:{url:_T,properties:Tt,headers:Tt},type:Us}],type:Tr},{conditions:[{[vt]:ET,[xt]:vT}],rules:[{conditions:[{[vt]:"aws.partition",[xt]:vT,assign:lg}],rules:[{conditions:[AT,IT],rules:[{conditions:[{[vt]:Ui,[xt]:[!0,CT]},wT],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tt,headers:Tt},type:Us}],type:Tr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ls}],type:Tr},{conditions:bT,rules:[{conditions:[{[vt]:Ui,[xt]:[CT,!0]}],rules:[{conditions:[{[vt]:"stringEquals",[xt]:[{[vt]:ug,[xt]:[PT,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Tt,headers:Tt},type:Us},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Tt,headers:Tt},type:Us}],type:Tr},{error:"FIPS is enabled but this partition does not support FIPS",type:Ls}],type:Tr},{conditions:TT,rules:[{conditions:[wT],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tt,headers:Tt},type:Us}],type:Tr},{error:"DualStack is enabled but this partition does not support DualStack",type:Ls}],type:Tr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Tt,headers:Tt},type:Us}],type:Tr}],type:Tr},{error:"Invalid Configuration: Missing Region",type:Ls}]},DT=PV});var OT,Hs,DV,$T,kT=C(()=>{c();OT=b(Dn()),Hs=b(Fr());NT();DV=new Hs.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),$T=(e,t={})=>DV.get(e,()=>(0,Hs.resolveEndpoint)(DT,{endpointParams:e,logger:t.logger}));Hs.customEndpointFunctions.aws=OT.awsEndpointFunctions});var MT,FT,$c,kc,LT,UT=C(()=>{c();Ue();kn();st();MT=b(J()),FT=b(gr()),$c=b(Me()),kc=b(ke());ng();kT();LT=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??$c.fromBase64,base64Encoder:e?.base64Encoder??$c.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??$T,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??tT,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ze},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new kt}],logger:e?.logger??new MT.NoOpLogger,protocol:e?.protocol??Xr,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??FT.parseUrl,utf8Decoder:e?.utf8Decoder??kc.fromUtf8,utf8Encoder:e?.utf8Encoder??kc.toUtf8})});var Mc,cn,qT,Fc,an,Lc,Uc,HT,BT,jT,VT,zT=C(()=>{c();Oc();Ue();Mc=b($s()),cn=b(pt()),qT=b(ks()),Fc=b(Ft()),an=b(Qt()),Lc=b($r()),Uc=b(J()),HT=b(Ms()),BT=b(Fs()),jT=b(Ln());UT();VT=e=>{(0,Uc.emitWarningIfUnsupportedVersion)(process.version);let t=(0,BT.resolveDefaultsModeConfig)(e),r=()=>t().then(Uc.loadConfigsForDefaultMode),n=LT(e);Lr(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,an.loadConfig)(qr,s),bodyLengthChecker:e?.bodyLengthChecker??HT.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Mc.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Os.version}),maxAttempts:e?.maxAttempts??(0,an.loadConfig)(Fc.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,an.loadConfig)(cn.NODE_REGION_CONFIG_OPTIONS,{...cn.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Lc.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,an.loadConfig)({...Fc.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||jT.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??qT.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Lc.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,an.loadConfig)(cn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,an.loadConfig)(cn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,an.loadConfig)(Mc.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var WT=N(Bs=>{"use strict";c();Object.defineProperty(Bs,"__esModule",{value:!0});Bs.warning=void 0;Bs.stsRegionDefaultResolver=OV;var GT=pt(),NV=Qt();function OV(e={}){return(0,NV.loadConfig)({...GT.NODE_REGION_CONFIG_OPTIONS,async default(){return Bs.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...GT.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}Bs.warning={silence:!1}});var qn=N(er=>{"use strict";c();var KT=WT(),qi=pt(),$V=e=>({setRegion(t){e.region=t},region(){return e.region}}),kV=e=>({region:e.region()});Object.defineProperty(er,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return qi.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(er,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return qi.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(er,"REGION_ENV_NAME",{enumerable:!0,get:function(){return qi.REGION_ENV_NAME}});Object.defineProperty(er,"REGION_INI_NAME",{enumerable:!0,get:function(){return qi.REGION_INI_NAME}});Object.defineProperty(er,"resolveRegionConfig",{enumerable:!0,get:function(){return qi.resolveRegionConfig}});er.getAwsRegionExtensionConfiguration=$V;er.resolveAwsRegionExtensionConfiguration=kV;Object.keys(KT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(er,e)&&Object.defineProperty(er,e,{enumerable:!0,get:function(){return KT[e]}})})});var YT,XT,QT=C(()=>{c();YT=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},XT=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var qc,Hc,Bc,JT,ZT=C(()=>{c();qc=b(qn()),Hc=b(Re()),Bc=b(J());QT();JT=(e,t)=>{let r=Object.assign((0,qc.getAwsRegionExtensionConfiguration)(e),(0,Bc.getDefaultExtensionConfiguration)(e),(0,Hc.getHttpHandlerExtensionConfiguration)(e),YT(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,qc.resolveAwsRegionExtensionConfiguration)(r),(0,Bc.resolveDefaultRuntimeConfig)(r),(0,Hc.resolveHttpHandlerRuntimeConfig)(r),XT(r))}});var jc,e0,t0,Vc,r0,n0,s0,zc,dg,Hi,pg=C(()=>{c();jc=b(es()),e0=b(ts()),t0=b(rs()),Vc=b(Mn()),r0=b(pt());st();he();n0=b(Is()),s0=b(Jt()),zc=b(Ft()),dg=b(J());ng();sg();zT();ZT();Hi=class extends dg.Client{config;constructor(...[t]){let r=VT(t||{});super(r),this.initConfig=r;let n=nT(r),s=(0,Vc.resolveUserAgentConfig)(n),i=(0,zc.resolveRetryConfig)(s),o=(0,r0.resolveRegionConfig)(i),a=(0,jc.resolveHostHeaderConfig)(o),l=(0,s0.resolveEndpointConfig)(a),u=rT(l),g=JT(u,t?.extensions||[]);this.config=g,this.middlewareStack.use(wn(this.config)),this.middlewareStack.use((0,Vc.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,zc.getRetryPlugin)(this.config)),this.middlewareStack.use((0,n0.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,jc.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,e0.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,t0.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(_n(this.config,{httpAuthSchemeParametersProvider:eT,identityProviderConfigProvider:async m=>new hr({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Cn(this.config))}destroy(){super.destroy()}}});var i0,Le,Gc=C(()=>{c();i0=b(J()),Le=class e extends i0.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Bi,ji,Vi,zi,Gi,Wi,Ki,Yi,Xi,Qi,Ji,fg=C(()=>{c();Gc();Bi=class e extends Le{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},ji=class e extends Le{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Vi=class e extends Le{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},zi=class e extends Le{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Gi=class e extends Le{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Wi=class e extends Le{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ki=class e extends Le{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Yi=class e extends Le{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Xi=class e extends Le{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Qi=class e extends Le{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ji=class e extends Le{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var MV,FV,LV,UV,qV,HV,BV,jV,VV,zV,GV,WV,KV,YV,XV,QV,JV,ZV,e2,t2,tr,r2,n2,s2,i2,o2,Pe,a2,Lt,c2,l2,Ut,u2,o0,a0,d2,p2,f2,c0,m2,ge,h2,g2,S2,E2,l0,u0,d0,p0,f0,m0,h0,g0,S0,E0,y0,R0,_0,C0,w0,mg,hg=C(()=>{c();he();fg();Gc();MV="AccessDeniedException",FV="AuthorizationPendingException",LV="AccessToken",UV="ClientSecret",qV="CreateToken",HV="CreateTokenRequest",BV="CreateTokenResponse",jV="CodeVerifier",VV="ExpiredTokenException",zV="InvalidClientException",GV="InvalidGrantException",WV="InvalidRequestException",KV="InternalServerException",YV="InvalidScopeException",XV="IdToken",QV="RefreshToken",JV="SlowDownException",ZV="UnauthorizedClientException",e2="UnsupportedGrantTypeException",t2="accessToken",tr="client",r2="clientId",n2="clientSecret",s2="codeVerifier",i2="code",o2="deviceCode",Pe="error",a2="expiresIn",Lt="error_description",c2="grantType",l2="http",Ut="httpError",u2="idToken",o0="reason",a0="refreshToken",d2="redirectUri",p2="scope",f2="server",c0="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",m2="tokenType",ge="com.amazonaws.ssooidc",h2=[0,ge,LV,8,0],g2=[0,ge,UV,8,0],S2=[0,ge,jV,8,0],E2=[0,ge,XV,8,0],l0=[0,ge,QV,8,0],u0=[-3,ge,MV,{[Pe]:tr,[Ut]:400},[Pe,o0,Lt],[0,0,0]];V.for(ge).registerError(u0,Bi);d0=[-3,ge,FV,{[Pe]:tr,[Ut]:400},[Pe,Lt],[0,0]];V.for(ge).registerError(d0,ji);p0=[3,ge,HV,0,[r2,n2,c2,o2,i2,a0,p2,d2,s2],[0,[()=>g2,0],0,0,0,[()=>l0,0],64,0,[()=>S2,0]],3],f0=[3,ge,BV,0,[t2,m2,a2,a0,u2],[[()=>h2,0],0,1,[()=>l0,0],[()=>E2,0]]],m0=[-3,ge,VV,{[Pe]:tr,[Ut]:400},[Pe,Lt],[0,0]];V.for(ge).registerError(m0,Vi);h0=[-3,ge,KV,{[Pe]:f2,[Ut]:500},[Pe,Lt],[0,0]];V.for(ge).registerError(h0,zi);g0=[-3,ge,zV,{[Pe]:tr,[Ut]:401},[Pe,Lt],[0,0]];V.for(ge).registerError(g0,Gi);S0=[-3,ge,GV,{[Pe]:tr,[Ut]:400},[Pe,Lt],[0,0]];V.for(ge).registerError(S0,Wi);E0=[-3,ge,WV,{[Pe]:tr,[Ut]:400},[Pe,o0,Lt],[0,0,0]];V.for(ge).registerError(E0,Ki);y0=[-3,ge,YV,{[Pe]:tr,[Ut]:400},[Pe,Lt],[0,0]];V.for(ge).registerError(y0,Yi);R0=[-3,ge,JV,{[Pe]:tr,[Ut]:400},[Pe,Lt],[0,0]];V.for(ge).registerError(R0,Xi);_0=[-3,ge,ZV,{[Pe]:tr,[Ut]:400},[Pe,Lt],[0,0]];V.for(ge).registerError(_0,Qi);C0=[-3,ge,e2,{[Pe]:tr,[Ut]:400},[Pe,Lt],[0,0]];V.for(ge).registerError(C0,Ji);w0=[-3,c0,"SSOOIDCServiceException",0,[],[]];V.for(c0).registerError(w0,Le);mg=[9,ge,qV,{[l2]:["POST","/token",200]},()=>p0,()=>f0]});var b0,gg,Zi,Sg=C(()=>{c();b0=b(Jt()),gg=b(J());sg();hg();Zi=class extends gg.Command.classBuilder().ep(sT).m(function(t,r,n,s){return[(0,b0.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(mg).build(){}});var T0,y2,Wc,v0=C(()=>{c();T0=b(J());Sg();pg();y2={CreateTokenCommand:Zi},Wc=class extends Hi{};(0,T0.createAggregatedClient)(y2,Wc)});var x0=C(()=>{c();Sg()});var R2,_2,A0=C(()=>{c();R2={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},_2={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var I0=C(()=>{c()});var Eg={};ut(Eg,{$Command:()=>gg.Command,AccessDeniedException:()=>Bi,AccessDeniedException$:()=>u0,AccessDeniedExceptionReason:()=>R2,AuthorizationPendingException:()=>ji,AuthorizationPendingException$:()=>d0,CreateToken$:()=>mg,CreateTokenCommand:()=>Zi,CreateTokenRequest$:()=>p0,CreateTokenResponse$:()=>f0,ExpiredTokenException:()=>Vi,ExpiredTokenException$:()=>m0,InternalServerException:()=>zi,InternalServerException$:()=>h0,InvalidClientException:()=>Gi,InvalidClientException$:()=>g0,InvalidGrantException:()=>Wi,InvalidGrantException$:()=>S0,InvalidRequestException:()=>Ki,InvalidRequestException$:()=>E0,InvalidRequestExceptionReason:()=>_2,InvalidScopeException:()=>Yi,InvalidScopeException$:()=>y0,SSOOIDC:()=>Wc,SSOOIDCClient:()=>Hi,SSOOIDCServiceException:()=>Le,SSOOIDCServiceException$:()=>w0,SlowDownException:()=>Xi,SlowDownException$:()=>R0,UnauthorizedClientException:()=>Qi,UnauthorizedClientException$:()=>_0,UnsupportedGrantTypeException:()=>Ji,UnsupportedGrantTypeException$:()=>C0,__Client:()=>dg.Client});var yg=C(()=>{c();pg();v0();x0();hg();A0();fg();I0();Gc()});var O0=N(to=>{"use strict";c();var C2=(wt(),ie(Sr)),w2=(Um(),ie(SC)),St=Ge(),eo=Xt(),b2=ee("fs"),T2=({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new St.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=w2.getBearerTokenEnvKey(t);if(!(r in process.env))throw new St.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return C2.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},v2=5*60*1e3,Rg="To refresh this SSO session run 'aws sso login' with the corresponding profile.",x2=async(e,t={},r)=>{let{SSOOIDCClient:n}=await Promise.resolve().then(()=>(yg(),Eg)),s=o=>t.clientConfig?.[o]??t.parentClientConfig?.[o]??r?.[o];return new n(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:s("logger"),userAgentAppId:s("userAgentAppId")}))},A2=async(e,t,r={},n)=>{let{CreateTokenCommand:s}=await Promise.resolve().then(()=>(yg(),Eg));return(await x2(t,r,n)).send(new s({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},P0=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new St.TokenProviderError(`Token is expired. ${Rg}`,!1)},Hn=(e,t,r=!1)=>{if(typeof t>"u")throw new St.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Rg}`,!1)},{writeFile:I2}=b2.promises,P2=(e,t)=>{let r=eo.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return I2(r,n)},D0=new Date(0),N0=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await eo.parseKnownFiles(e),n=eo.getProfileName({profile:e.profile??t?.profile}),s=r[n];if(s){if(!s.sso_session)throw new St.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new St.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let i=s.sso_session,a=(await eo.loadSsoSessionData(e))[i];if(!a)throw new St.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let E of["sso_start_url","sso_region"])if(!a[E])throw new St.TokenProviderError(`Sso session '${i}' is missing required property '${E}'.`,!1);a.sso_start_url;let l=a.sso_region,u;try{u=await eo.getSSOTokenFromFile(i)}catch{throw new St.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${Rg}`,!1)}Hn("accessToken",u.accessToken),Hn("expiresAt",u.expiresAt);let{accessToken:g,expiresAt:m}=u,y={token:g,expiration:new Date(m)};if(y.expiration.getTime()-Date.now()>v2)return y;if(Date.now()-D0.getTime()<30*1e3)return P0(y),y;Hn("clientId",u.clientId,!0),Hn("clientSecret",u.clientSecret,!0),Hn("refreshToken",u.refreshToken,!0);try{D0.setTime(Date.now());let E=await A2(u,l,e,t);Hn("accessToken",E.accessToken),Hn("expiresIn",E.expiresIn);let R=new Date(Date.now()+E.expiresIn*1e3);try{await P2(i,{...u,accessToken:E.accessToken,expiresAt:R.toISOString(),refreshToken:E.refreshToken})}catch{}return{token:E.accessToken,expiration:R}}catch{return P0(y),y}},D2=({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new St.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},N2=(e={})=>St.memoize(St.chain(N0(e),async()=>{throw new St.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);to.fromEnvSigningName=T2;to.fromSso=N0;to.fromStatic=D2;to.nodeProvider=N2});var Cg=N(ln=>{"use strict";c();Object.defineProperty(ln,"__esModule",{value:!0});ln.resolveHttpAuthSchemeConfig=ln.defaultSSOHttpAuthSchemeProvider=ln.defaultSSOHttpAuthSchemeParametersProvider=void 0;var O2=(Ue(),ie(Zr)),_g=Ze(),$2=async(e,t,r)=>({operation:(0,_g.getSmithyContext)(t).operation,region:await(0,_g.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});ln.defaultSSOHttpAuthSchemeParametersProvider=$2;function k2(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Kc(e){return{schemeId:"smithy.api#noAuth"}}var M2=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Kc(e));break}case"ListAccountRoles":{t.push(Kc(e));break}case"ListAccounts":{t.push(Kc(e));break}case"Logout":{t.push(Kc(e));break}default:t.push(k2(e))}return t};ln.defaultSSOHttpAuthSchemeProvider=M2;var F2=e=>{let t=(0,O2.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,_g.normalizeProvider)(e.authSchemePreference??[])})};ln.resolveHttpAuthSchemeConfig=F2});var $0=N((uce,L2)=>{L2.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.985.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.7","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.7","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.985.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.5","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.1","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.13","@smithy/middleware-retry":"^4.4.30","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.9","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.2","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.29","@smithy/util-defaults-mode-node":"^4.2.32","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Y0=N(Yc=>{"use strict";c();Object.defineProperty(Yc,"__esModule",{value:!0});Yc.ruleSet=void 0;var z0="required",It="fn",Pt="argv",zs="ref",k0=!0,M0="isSet",ro="booleanEquals",js="error",Vs="endpoint",vr="tree",wg="PartitionResult",bg="getAttr",F0={[z0]:!1,type:"string"},L0={[z0]:!0,default:!1,type:"boolean"},U0={[zs]:"Endpoint"},G0={[It]:ro,[Pt]:[{[zs]:"UseFIPS"},!0]},W0={[It]:ro,[Pt]:[{[zs]:"UseDualStack"},!0]},At={},q0={[It]:bg,[Pt]:[{[zs]:wg},"supportsFIPS"]},K0={[zs]:wg},H0={[It]:ro,[Pt]:[!0,{[It]:bg,[Pt]:[K0,"supportsDualStack"]}]},B0=[G0],j0=[W0],V0=[{[zs]:"Region"}],U2={version:"1.0",parameters:{Region:F0,UseDualStack:L0,UseFIPS:L0,Endpoint:F0},rules:[{conditions:[{[It]:M0,[Pt]:[U0]}],rules:[{conditions:B0,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:js},{conditions:j0,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:js},{endpoint:{url:U0,properties:At,headers:At},type:Vs}],type:vr},{conditions:[{[It]:M0,[Pt]:V0}],rules:[{conditions:[{[It]:"aws.partition",[Pt]:V0,assign:wg}],rules:[{conditions:[G0,W0],rules:[{conditions:[{[It]:ro,[Pt]:[k0,q0]},H0],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:At,headers:At},type:Vs}],type:vr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:js}],type:vr},{conditions:B0,rules:[{conditions:[{[It]:ro,[Pt]:[q0,k0]}],rules:[{conditions:[{[It]:"stringEquals",[Pt]:[{[It]:bg,[Pt]:[K0,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:At,headers:At},type:Vs},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:At,headers:At},type:Vs}],type:vr},{error:"FIPS is enabled but this partition does not support FIPS",type:js}],type:vr},{conditions:j0,rules:[{conditions:[H0],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:At,headers:At},type:Vs}],type:vr},{error:"DualStack is enabled but this partition does not support DualStack",type:js}],type:vr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:At,headers:At},type:Vs}],type:vr}],type:vr},{error:"Invalid Configuration: Missing Region",type:js}]};Yc.ruleSet=U2});var X0=N(Xc=>{"use strict";c();Object.defineProperty(Xc,"__esModule",{value:!0});Xc.defaultEndpointResolver=void 0;var q2=Dn(),Tg=Fr(),H2=Y0(),B2=new Tg.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),j2=(e,t={})=>B2.get(e,()=>(0,Tg.resolveEndpoint)(H2.ruleSet,{endpointParams:e,logger:t.logger}));Xc.defaultEndpointResolver=j2;Tg.customEndpointFunctions.aws=q2.awsEndpointFunctions});var Z0=N(Qc=>{"use strict";c();Object.defineProperty(Qc,"__esModule",{value:!0});Qc.getRuntimeConfig=void 0;var V2=(Ue(),ie(Zr)),z2=(kn(),ie(xh)),G2=(st(),ie(fs)),W2=J(),K2=gr(),Q0=Me(),J0=ke(),Y2=Cg(),X2=X0(),Q2=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Q0.fromBase64,base64Encoder:e?.base64Encoder??Q0.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??X2.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Y2.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new V2.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new G2.NoAuthSigner}],logger:e?.logger??new W2.NoOpLogger,protocol:e?.protocol??z2.AwsRestJsonProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??K2.parseUrl,utf8Decoder:e?.utf8Decoder??J0.fromUtf8,utf8Encoder:e?.utf8Encoder??J0.toUtf8});Qc.getRuntimeConfig=Q2});var iv=N(Zc=>{"use strict";c();Object.defineProperty(Zc,"__esModule",{value:!0});Zc.getRuntimeConfig=void 0;var J2=(Ri(),ie(yi)),Z2=J2.__importDefault($0()),ev=(Ue(),ie(Zr)),tv=$s(),Jc=pt(),e3=ks(),rv=Ft(),Bn=Qt(),nv=$r(),sv=J(),t3=Ms(),r3=Fs(),n3=Ln(),s3=Z0(),i3=e=>{(0,sv.emitWarningIfUnsupportedVersion)(process.version);let t=(0,r3.resolveDefaultsModeConfig)(e),r=()=>t().then(sv.loadConfigsForDefaultMode),n=(0,s3.getRuntimeConfig)(e);(0,ev.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Bn.loadConfig)(ev.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??t3.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,tv.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Z2.default.version}),maxAttempts:e?.maxAttempts??(0,Bn.loadConfig)(rv.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Bn.loadConfig)(Jc.NODE_REGION_CONFIG_OPTIONS,{...Jc.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:nv.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Bn.loadConfig)({...rv.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||n3.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??e3.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??nv.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Bn.loadConfig)(Jc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Bn.loadConfig)(Jc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Bn.loadConfig)(tv.NODE_APP_ID_CONFIG_OPTIONS,s)}};Zc.getRuntimeConfig=i3});var Uv=N(ne=>{"use strict";c();var ov=es(),o3=ts(),a3=rs(),av=Mn(),c3=pt(),no=(st(),ie(fs)),Ws=(he(),ie(ga)),l3=Is(),oo=Jt(),cv=Ft(),qt=J(),lv=Cg(),u3=iv(),uv=qn(),dv=Re(),d3=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),al={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},p3=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},f3=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),m3=(e,t)=>{let r=Object.assign(uv.getAwsRegionExtensionConfiguration(e),qt.getDefaultExtensionConfiguration(e),dv.getHttpHandlerExtensionConfiguration(e),p3(e));return t.forEach(n=>n.configure(r)),Object.assign(e,uv.resolveAwsRegionExtensionConfiguration(r),qt.resolveDefaultRuntimeConfig(r),dv.resolveHttpHandlerRuntimeConfig(r),f3(r))},Gs=class extends qt.Client{config;constructor(...[t]){let r=u3.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=d3(r),s=av.resolveUserAgentConfig(n),i=cv.resolveRetryConfig(s),o=c3.resolveRegionConfig(i),a=ov.resolveHostHeaderConfig(o),l=oo.resolveEndpointConfig(a),u=lv.resolveHttpAuthSchemeConfig(l),g=m3(u,t?.extensions||[]);this.config=g,this.middlewareStack.use(Ws.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(av.getUserAgentPlugin(this.config)),this.middlewareStack.use(cv.getRetryPlugin(this.config)),this.middlewareStack.use(l3.getContentLengthPlugin(this.config)),this.middlewareStack.use(ov.getHostHeaderPlugin(this.config)),this.middlewareStack.use(o3.getLoggerPlugin(this.config)),this.middlewareStack.use(a3.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(no.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:lv.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async m=>new no.DefaultIdentityProviderConfig({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(no.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},un=class e extends qt.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},el=class e extends un{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},tl=class e extends un{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rl=class e extends un{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},nl=class e extends un{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},h3="AccountInfo",g3="AccountListType",S3="AccessTokenType",E3="GetRoleCredentials",y3="GetRoleCredentialsRequest",R3="GetRoleCredentialsResponse",_3="InvalidRequestException",C3="Logout",w3="ListAccounts",b3="ListAccountsRequest",T3="ListAccountRolesRequest",v3="ListAccountRolesResponse",x3="ListAccountsResponse",A3="ListAccountRoles",I3="LogoutRequest",P3="RoleCredentials",D3="RoleInfo",N3="RoleListType",O3="ResourceNotFoundException",$3="SecretAccessKeyType",k3="SessionTokenType",M3="TooManyRequestsException",F3="UnauthorizedException",cl="accountId",L3="accessKeyId",U3="accountList",q3="accountName",ll="accessToken",pv="account_id",ul="client",dl="error",H3="emailAddress",B3="expiration",pl="http",fl="httpError",ml="httpHeader",jn="httpQuery",hl="message",fv="maxResults",mv="max_result",gl="nextToken",hv="next_token",j3="roleCredentials",V3="roleList",gv="roleName",z3="role_name",Sv="smithy.ts.sdk.synthetic.com.amazonaws.sso",G3="secretAccessKey",W3="sessionToken",Sl="x-amz-sso_bearer_token",we="com.amazonaws.sso",El=[0,we,S3,8,0],K3=[0,we,$3,8,0],Y3=[0,we,k3,8,0],Ev=[3,we,h3,0,[cl,q3,H3],[0,0,0]],yv=[3,we,y3,0,[gv,cl,ll],[[0,{[jn]:z3}],[0,{[jn]:pv}],[()=>El,{[ml]:Sl}]],3],Rv=[3,we,R3,0,[j3],[[()=>Av,0]]],_v=[-3,we,_3,{[dl]:ul,[fl]:400},[hl],[0]];Ws.TypeRegistry.for(we).registerError(_v,el);var Cv=[3,we,T3,0,[ll,cl,gl,fv],[[()=>El,{[ml]:Sl}],[0,{[jn]:pv}],[0,{[jn]:hv}],[1,{[jn]:mv}]],2],wv=[3,we,v3,0,[gl,V3],[0,()=>J3]],bv=[3,we,b3,0,[ll,gl,fv],[[()=>El,{[ml]:Sl}],[0,{[jn]:hv}],[1,{[jn]:mv}]],1],Tv=[3,we,x3,0,[gl,U3],[0,()=>Q3]],vv=[3,we,I3,0,[ll],[[()=>El,{[ml]:Sl}]],1],xv=[-3,we,O3,{[dl]:ul,[fl]:404},[hl],[0]];Ws.TypeRegistry.for(we).registerError(xv,tl);var Av=[3,we,P3,0,[L3,G3,W3,B3],[0,[()=>K3,0],[()=>Y3,0],1]],Iv=[3,we,D3,0,[gv,cl],[0,0]],Pv=[-3,we,M3,{[dl]:ul,[fl]:429},[hl],[0]];Ws.TypeRegistry.for(we).registerError(Pv,rl);var Dv=[-3,we,F3,{[dl]:ul,[fl]:401},[hl],[0]];Ws.TypeRegistry.for(we).registerError(Dv,nl);var X3="unit",Nv=[-3,Sv,"SSOServiceException",0,[],[]];Ws.TypeRegistry.for(Sv).registerError(Nv,un);var Q3=[1,we,g3,0,()=>Ev],J3=[1,we,N3,0,()=>Iv],Ov=[9,we,E3,{[pl]:["GET","/federation/credentials",200]},()=>yv,()=>Rv],$v=[9,we,A3,{[pl]:["GET","/assignment/roles",200]},()=>Cv,()=>wv],kv=[9,we,w3,{[pl]:["GET","/assignment/accounts",200]},()=>bv,()=>Tv],Mv=[9,we,C3,{[pl]:["POST","/logout",200]},()=>vv,()=>X3],sl=class extends qt.Command.classBuilder().ep(al).m(function(t,r,n,s){return[oo.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(Ov).build(){},so=class extends qt.Command.classBuilder().ep(al).m(function(t,r,n,s){return[oo.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc($v).build(){},io=class extends qt.Command.classBuilder().ep(al).m(function(t,r,n,s){return[oo.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(kv).build(){},il=class extends qt.Command.classBuilder().ep(al).m(function(t,r,n,s){return[oo.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(Mv).build(){},Fv=no.createPaginator(Gs,so,"nextToken","nextToken","maxResults"),Lv=no.createPaginator(Gs,io,"nextToken","nextToken","maxResults"),Z3={GetRoleCredentialsCommand:sl,ListAccountRolesCommand:so,ListAccountsCommand:io,LogoutCommand:il},e4={paginateListAccountRoles:Fv,paginateListAccounts:Lv},ol=class extends Gs{};qt.createAggregatedClient(Z3,ol,{paginators:e4});Object.defineProperty(ne,"$Command",{enumerable:!0,get:function(){return qt.Command}});Object.defineProperty(ne,"__Client",{enumerable:!0,get:function(){return qt.Client}});ne.AccountInfo$=Ev;ne.GetRoleCredentials$=Ov;ne.GetRoleCredentialsCommand=sl;ne.GetRoleCredentialsRequest$=yv;ne.GetRoleCredentialsResponse$=Rv;ne.InvalidRequestException=el;ne.InvalidRequestException$=_v;ne.ListAccountRoles$=$v;ne.ListAccountRolesCommand=so;ne.ListAccountRolesRequest$=Cv;ne.ListAccountRolesResponse$=wv;ne.ListAccounts$=kv;ne.ListAccountsCommand=io;ne.ListAccountsRequest$=bv;ne.ListAccountsResponse$=Tv;ne.Logout$=Mv;ne.LogoutCommand=il;ne.LogoutRequest$=vv;ne.ResourceNotFoundException=tl;ne.ResourceNotFoundException$=xv;ne.RoleCredentials$=Av;ne.RoleInfo$=Iv;ne.SSO=ol;ne.SSOClient=Gs;ne.SSOServiceException=un;ne.SSOServiceException$=Nv;ne.TooManyRequestsException=rl;ne.TooManyRequestsException$=Pv;ne.UnauthorizedException=nl;ne.UnauthorizedException$=Dv;ne.paginateListAccountRoles=Fv;ne.paginateListAccounts=Lv});var Hv=N(vg=>{"use strict";c();var qv=Uv();Object.defineProperty(vg,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return qv.GetRoleCredentialsCommand}});Object.defineProperty(vg,"SSOClient",{enumerable:!0,get:function(){return qv.SSOClient}})});var xg=N(Rl=>{"use strict";c();var Ht=Ge(),yl=Xt(),Bv=(wt(),ie(Sr)),t4=O0(),Vv=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),ao=!1,jv=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,clientConfig:o,parentClientConfig:a,callerClientConfig:l,profile:u,filepath:g,configFilepath:m,ignoreCache:y,logger:E})=>{let R,v="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Ot=await t4.fromSso({profile:u,filepath:g,configFilepath:m,ignoreCache:y})();R={accessToken:Ot.token,expiresAt:new Date(Ot.expiration).toISOString()}}catch(Ot){throw new Ht.CredentialsProviderError(Ot.message,{tryNextLink:ao,logger:E})}else try{R=await yl.getSSOTokenFromFile(e)}catch{throw new Ht.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${v}`,{tryNextLink:ao,logger:E})}if(new Date(R.expiresAt).getTime()-Date.now()<=0)throw new Ht.CredentialsProviderError(`The SSO session associated with this profile has expired. ${v}`,{tryNextLink:ao,logger:E});let{accessToken:A}=R,{SSOClient:I,GetRoleCredentialsCommand:O}=await Promise.resolve().then(function(){return Hv()}),F=i||new I(Object.assign({},o??{},{logger:o?.logger??l?.logger??a?.logger,region:o?.region??n,userAgentAppId:o?.userAgentAppId??l?.userAgentAppId??a?.userAgentAppId})),j;try{j=await F.send(new O({accountId:r,roleName:s,accessToken:A}))}catch(Ot){throw new Ht.CredentialsProviderError(Ot,{tryNextLink:ao,logger:E})}let{roleCredentials:{accessKeyId:G,secretAccessKey:re,sessionToken:De,expiration:X,credentialScope:K,accountId:de}={}}=j;if(!G||!re||!De||!X)throw new Ht.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:ao,logger:E});let Ne={accessKeyId:G,secretAccessKey:re,sessionToken:De,expiration:new Date(X),...K&&{credentialScope:K},...de&&{accountId:de}};return t?Bv.setCredentialFeature(Ne,"CREDENTIALS_SSO","s"):Bv.setCredentialFeature(Ne,"CREDENTIALS_SSO_LEGACY","u"),Ne},zv=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:i}=e;if(!r||!n||!s||!i)throw new Ht.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},r4=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e,{ssoClient:a}=e,l=yl.getProfileName({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!i&&!o){let g=(await yl.parseKnownFiles(e))[l];if(!g)throw new Ht.CredentialsProviderError(`Profile ${l} was not found.`,{logger:e.logger});if(!Vv(g))throw new Ht.CredentialsProviderError(`Profile ${l} is not configured with SSO credentials.`,{logger:e.logger});if(g?.sso_session){let I=(await yl.loadSsoSessionData(e))[g.sso_session],O=` configurations in profile ${l} and sso-session ${g.sso_session}`;if(s&&s!==I.sso_region)throw new Ht.CredentialsProviderError("Conflicting SSO region"+O,{tryNextLink:!1,logger:e.logger});if(r&&r!==I.sso_start_url)throw new Ht.CredentialsProviderError("Conflicting SSO start_url"+O,{tryNextLink:!1,logger:e.logger});g.sso_region=I.sso_region,g.sso_start_url=I.sso_start_url}let{sso_start_url:m,sso_account_id:y,sso_region:E,sso_role_name:R,sso_session:v}=zv(g,e.logger);return jv({ssoStartUrl:m,ssoSession:v,ssoAccountId:y,ssoRegion:E,ssoRoleName:R,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!s||!i)throw new Ht.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return jv({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Rl.fromSSO=r4;Rl.isSsoProfile=Vv;Rl.validateSsoProfile=zv});function n4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function s4(e){return{schemeId:"smithy.api#noAuth"}}var co,Gv,Wv,Kv,Ag=C(()=>{c();Ue();co=b(Ze()),Gv=async(e,t,r)=>({operation:(0,co.getSmithyContext)(t).operation,region:await(0,co.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Wv=e=>{let t=[];switch(e.operation){case"CreateOAuth2Token":{t.push(s4(e));break}default:t.push(n4(e))}return t},Kv=e=>{let t=Er(e);return Object.assign(t,{authSchemePreference:(0,co.normalizeProvider)(e.authSchemePreference??[])})}});var Yv,Xv,Ig=C(()=>{c();Yv=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"signin"}),Xv={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var sx,Xe,Qe,xr,Qv,Vn,Ks,dn,Bt,wl,Pg,Jv,Zv,ex,Dg,Ng,Ye,Og,_l,Cl,tx,rx,nx,i4,ix,ox=C(()=>{c();sx="required",Xe="fn",Qe="argv",xr="ref",Qv="isSet",Vn="booleanEquals",Ks="error",dn="endpoint",Bt="tree",wl="PartitionResult",Pg="stringEquals",Jv={[sx]:!0,default:!1,type:"boolean"},Zv={[sx]:!1,type:"string"},ex={[xr]:"Endpoint"},Dg={[Xe]:Vn,[Qe]:[{[xr]:"UseFIPS"},!0]},Ng={[Xe]:Vn,[Qe]:[{[xr]:"UseDualStack"},!0]},Ye={},Og={[Xe]:"getAttr",[Qe]:[{[xr]:wl},"name"]},_l={[Xe]:Vn,[Qe]:[{[xr]:"UseFIPS"},!1]},Cl={[Xe]:Vn,[Qe]:[{[xr]:"UseDualStack"},!1]},tx={[Xe]:"getAttr",[Qe]:[{[xr]:wl},"supportsFIPS"]},rx={[Xe]:Vn,[Qe]:[!0,{[Xe]:"getAttr",[Qe]:[{[xr]:wl},"supportsDualStack"]}]},nx=[{[xr]:"Region"}],i4={version:"1.0",parameters:{UseDualStack:Jv,UseFIPS:Jv,Endpoint:Zv,Region:Zv},rules:[{conditions:[{[Xe]:Qv,[Qe]:[ex]}],rules:[{conditions:[Dg],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ks},{rules:[{conditions:[Ng],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ks},{endpoint:{url:ex,properties:Ye,headers:Ye},type:dn}],type:Bt}],type:Bt},{rules:[{conditions:[{[Xe]:Qv,[Qe]:nx}],rules:[{conditions:[{[Xe]:"aws.partition",[Qe]:nx,assign:wl}],rules:[{conditions:[{[Xe]:Pg,[Qe]:[Og,"aws"]},_l,Cl],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:Ye,headers:Ye},type:dn},{conditions:[{[Xe]:Pg,[Qe]:[Og,"aws-cn"]},_l,Cl],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:Ye,headers:Ye},type:dn},{conditions:[{[Xe]:Pg,[Qe]:[Og,"aws-us-gov"]},_l,Cl],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:Ye,headers:Ye},type:dn},{conditions:[Dg,Ng],rules:[{conditions:[{[Xe]:Vn,[Qe]:[!0,tx]},rx],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ye,headers:Ye},type:dn}],type:Bt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ks}],type:Bt},{conditions:[Dg,Cl],rules:[{conditions:[{[Xe]:Vn,[Qe]:[tx,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ye,headers:Ye},type:dn}],type:Bt},{error:"FIPS is enabled but this partition does not support FIPS",type:Ks}],type:Bt},{conditions:[_l,Ng],rules:[{conditions:[rx],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ye,headers:Ye},type:dn}],type:Bt},{error:"DualStack is enabled but this partition does not support DualStack",type:Ks}],type:Bt},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:Ye,headers:Ye},type:dn}],type:Bt}],type:Bt},{error:"Invalid Configuration: Missing Region",type:Ks}],type:Bt}]},ix=i4});var ax,Ys,o4,cx,lx=C(()=>{c();ax=b(Dn()),Ys=b(Fr());ox();o4=new Ys.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),cx=(e,t={})=>o4.get(e,()=>(0,Ys.resolveEndpoint)(ix,{endpointParams:e,logger:t.logger}));Ys.customEndpointFunctions.aws=ax.awsEndpointFunctions});var ux,dx,bl,Tl,px,fx=C(()=>{c();Ue();kn();st();ux=b(J()),dx=b(gr()),bl=b(Me()),Tl=b(ke());Ag();lx();px=e=>({apiVersion:"2023-01-01",base64Decoder:e?.base64Decoder??bl.fromBase64,base64Encoder:e?.base64Encoder??bl.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??cx,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Wv,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ze},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new kt}],logger:e?.logger??new ux.NoOpLogger,protocol:e?.protocol??Xr,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:e?.serviceId??"Signin",urlParser:e?.urlParser??dx.parseUrl,utf8Decoder:e?.utf8Decoder??Tl.fromUtf8,utf8Encoder:e?.utf8Encoder??Tl.toUtf8})});var vl,fn,mx,xl,pn,Al,Il,hx,gx,Sx,Ex,yx=C(()=>{c();Oc();Ue();vl=b($s()),fn=b(pt()),mx=b(ks()),xl=b(Ft()),pn=b(Qt()),Al=b($r()),Il=b(J()),hx=b(Ms()),gx=b(Fs()),Sx=b(Ln());fx();Ex=e=>{(0,Il.emitWarningIfUnsupportedVersion)(process.version);let t=(0,gx.resolveDefaultsModeConfig)(e),r=()=>t().then(Il.loadConfigsForDefaultMode),n=px(e);Lr(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,pn.loadConfig)(qr,s),bodyLengthChecker:e?.bodyLengthChecker??hx.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,vl.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Os.version}),maxAttempts:e?.maxAttempts??(0,pn.loadConfig)(xl.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,pn.loadConfig)(fn.NODE_REGION_CONFIG_OPTIONS,{...fn.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Al.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,pn.loadConfig)({...xl.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Sx.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??mx.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Al.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,pn.loadConfig)(fn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,pn.loadConfig)(fn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,pn.loadConfig)(vl.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var Rx,_x,Cx=C(()=>{c();Rx=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},_x=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Pl,Dl,Nl,wx,bx=C(()=>{c();Pl=b(qn()),Dl=b(Re()),Nl=b(J());Cx();wx=(e,t)=>{let r=Object.assign((0,Pl.getAwsRegionExtensionConfiguration)(e),(0,Nl.getDefaultExtensionConfiguration)(e),(0,Dl.getHttpHandlerExtensionConfiguration)(e),Rx(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Pl.resolveAwsRegionExtensionConfiguration)(r),(0,Nl.resolveDefaultRuntimeConfig)(r),(0,Dl.resolveHttpHandlerRuntimeConfig)(r),_x(r))}});var Ol,Tx,vx,$l,xx,Ax,Ix,kl,$g,lo,kg=C(()=>{c();Ol=b(es()),Tx=b(ts()),vx=b(rs()),$l=b(Mn()),xx=b(pt());st();he();Ax=b(Is()),Ix=b(Jt()),kl=b(Ft()),$g=b(J());Ag();Ig();yx();bx();lo=class extends $g.Client{config;constructor(...[t]){let r=Ex(t||{});super(r),this.initConfig=r;let n=Yv(r),s=(0,$l.resolveUserAgentConfig)(n),i=(0,kl.resolveRetryConfig)(s),o=(0,xx.resolveRegionConfig)(i),a=(0,Ol.resolveHostHeaderConfig)(o),l=(0,Ix.resolveEndpointConfig)(a),u=Kv(l),g=wx(u,t?.extensions||[]);this.config=g,this.middlewareStack.use(wn(this.config)),this.middlewareStack.use((0,$l.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,kl.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Ax.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Ol.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Tx.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,vx.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(_n(this.config,{httpAuthSchemeParametersProvider:Gv,identityProviderConfigProvider:async m=>new hr({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Cn(this.config))}destroy(){super.destroy()}}});var Px,jt,Ml=C(()=>{c();Px=b(J()),jt=class e extends Px.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var uo,po,fo,mo,Mg=C(()=>{c();Ml();uo=class e extends jt{name="AccessDeniedException";$fault="client";error;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},po=class e extends jt{name="InternalServerException";$fault="server";error;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},fo=class e extends jt{name="TooManyRequestsError";$fault="client";error;constructor(t){super({name:"TooManyRequestsError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},mo=class e extends jt{name="ValidationException";$fault="client";error;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}}});var a4,c4,l4,u4,d4,p4,f4,m4,h4,g4,S4,Dx,Nx,Fg,Ox,$x,E4,mn,kx,Mx,y4,Lg,Fx,Et,Ll,Fl,Lx,R4,Ux,qx,Bx,_4,C4,Hx,at,jx,Vx,zx,Gx,Wx,Kx,Yx,Xx,Qx,Jx,Zx,Ug,qg=C(()=>{c();he();Mg();Ml();a4="AccessDeniedException",c4="AccessToken",l4="CreateOAuth2Token",u4="CreateOAuth2TokenRequest",d4="CreateOAuth2TokenRequestBody",p4="CreateOAuth2TokenResponseBody",f4="CreateOAuth2TokenResponse",m4="InternalServerException",h4="RefreshToken",g4="TooManyRequestsError",S4="ValidationException",Dx="accessKeyId",Nx="accessToken",Fg="client",Ox="clientId",$x="codeVerifier",E4="code",mn="error",kx="expiresIn",Mx="grantType",y4="http",Lg="httpError",Fx="idToken",Et="jsonName",Ll="message",Fl="refreshToken",Lx="redirectUri",R4="server",Ux="secretAccessKey",qx="sessionToken",Bx="smithy.ts.sdk.synthetic.com.amazonaws.signin",_4="tokenInput",C4="tokenOutput",Hx="tokenType",at="com.amazonaws.signin",jx=[0,at,h4,8,0],Vx=[-3,at,a4,{[mn]:Fg},[mn,Ll],[0,0],2];V.for(at).registerError(Vx,uo);zx=[3,at,c4,8,[Dx,Ux,qx],[[0,{[Et]:Dx}],[0,{[Et]:Ux}],[0,{[Et]:qx}]],3],Gx=[3,at,u4,0,[_4],[[()=>Wx,16]],1],Wx=[3,at,d4,0,[Ox,Mx,E4,Lx,$x,Fl],[[0,{[Et]:Ox}],[0,{[Et]:Mx}],0,[0,{[Et]:Lx}],[0,{[Et]:$x}],[()=>jx,{[Et]:Fl}]],2],Kx=[3,at,f4,0,[C4],[[()=>Yx,16]],1],Yx=[3,at,p4,0,[Nx,Hx,kx,Fl,Fx],[[()=>zx,{[Et]:Nx}],[0,{[Et]:Hx}],[1,{[Et]:kx}],[()=>jx,{[Et]:Fl}],[0,{[Et]:Fx}]],4],Xx=[-3,at,m4,{[mn]:R4,[Lg]:500},[mn,Ll],[0,0],2];V.for(at).registerError(Xx,po);Qx=[-3,at,g4,{[mn]:Fg,[Lg]:429},[mn,Ll],[0,0],2];V.for(at).registerError(Qx,fo);Jx=[-3,at,S4,{[mn]:Fg,[Lg]:400},[mn,Ll],[0,0],2];V.for(at).registerError(Jx,mo);Zx=[-3,Bx,"SigninServiceException",0,[],[]];V.for(Bx).registerError(Zx,jt);Ug=[9,at,l4,{[y4]:["POST","/v1/token",200]},()=>Gx,()=>Kx]});var eA,Hg,ho,Bg=C(()=>{c();eA=b(Jt()),Hg=b(J());Ig();qg();ho=class extends Hg.Command.classBuilder().ep(Xv).m(function(t,r,n,s){return[(0,eA.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(Ug).build(){}});var tA,w4,Ul,rA=C(()=>{c();tA=b(J());Bg();kg();w4={CreateOAuth2TokenCommand:ho},Ul=class extends lo{};(0,tA.createAggregatedClient)(w4,Ul)});var nA=C(()=>{c();Bg()});var b4,sA=C(()=>{c();b4={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var iA=C(()=>{c()});var oA={};ut(oA,{$Command:()=>Hg.Command,AccessDeniedException:()=>uo,AccessDeniedException$:()=>Vx,AccessToken$:()=>zx,CreateOAuth2Token$:()=>Ug,CreateOAuth2TokenCommand:()=>ho,CreateOAuth2TokenRequest$:()=>Gx,CreateOAuth2TokenRequestBody$:()=>Wx,CreateOAuth2TokenResponse$:()=>Kx,CreateOAuth2TokenResponseBody$:()=>Yx,InternalServerException:()=>po,InternalServerException$:()=>Xx,OAuth2ErrorCode:()=>b4,Signin:()=>Ul,SigninClient:()=>lo,SigninServiceException:()=>jt,SigninServiceException$:()=>Zx,TooManyRequestsError:()=>fo,TooManyRequestsError$:()=>Qx,ValidationException:()=>mo,ValidationException$:()=>Jx,__Client:()=>$g.Client});var aA=C(()=>{c();kg();rA();nA();qg();sA();Mg();iA();Ml()});var lA=N(cA=>{"use strict";c();var T4=(wt(),ie(Sr)),hn=Ge(),zg=Xt(),v4=Re(),ql=ee("node:crypto"),jg=ee("node:fs"),x4=ee("node:os"),Vg=ee("node:path"),Gg=class e{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=5*60*1e3;constructor(t,r,n){this.profileData=t,this.init=r,this.callerClientConfig=n}async loadCredentials(){let t=await this.loadToken();if(!t)throw new hn.CredentialsProviderError(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=t.accessToken,n=Date.now();return new Date(r.expiresAt).getTime()-n<=e.REFRESH_THRESHOLD?this.refresh(t):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(t){let{SigninClient:r,CreateOAuth2TokenCommand:n}=await Promise.resolve().then(()=>(aA(),oA)),{logger:s,userAgentAppId:i}=this.callerClientConfig??{},a=(m=>m?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,l=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,u=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:l,requestHandler:a,logger:s,userAgentAppId:i,...this.init?.clientConfig});this.createDPoPInterceptor(u.middlewareStack);let g={tokenInput:{clientId:t.clientId,refreshToken:t.refreshToken,grantType:"refresh_token"}};try{let m=await u.send(new n(g)),{accessKeyId:y,secretAccessKey:E,sessionToken:R}=m.tokenOutput?.accessToken??{},{refreshToken:v,expiresIn:A}=m.tokenOutput??{};if(!y||!E||!R||!v)throw new hn.CredentialsProviderError("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let I=(A??900)*1e3,O=new Date(Date.now()+I),F={...t,accessToken:{...t.accessToken,accessKeyId:y,secretAccessKey:E,sessionToken:R,expiresAt:O.toISOString()},refreshToken:v};await this.saveToken(F);let j=F.accessToken;return{accessKeyId:j.accessKeyId,secretAccessKey:j.secretAccessKey,sessionToken:j.sessionToken,accountId:j.accountId,expiration:O}}catch(m){if(m.name==="AccessDeniedException"){let y=m.error,E;switch(y){case"TOKEN_EXPIRED":E="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":E="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":E="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:E=`Failed to refresh token: ${String(m)}. Please re-authenticate using \`aws login\``}throw new hn.CredentialsProviderError(E,{logger:this.logger,tryNextLink:!1})}throw new hn.CredentialsProviderError(`Failed to refresh token: ${String(m)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let t=this.getTokenFilePath();try{let r;try{r=await zg.readFile(t,{ignoreCache:this.init?.ignoreCache})}catch{r=await jg.promises.readFile(t,"utf8")}let n=JSON.parse(r),s=["accessToken","clientId","refreshToken","dpopKey"].filter(i=>!n[i]);if(n.accessToken?.accountId||s.push("accountId"),s.length>0)throw new hn.CredentialsProviderError(`Token validation failed, missing fields: ${s.join(", ")}`,{logger:this.logger,tryNextLink:!1});return n}catch(r){throw new hn.CredentialsProviderError(`Failed to load token from ${t}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(t){let r=this.getTokenFilePath(),n=Vg.dirname(r);try{await jg.promises.mkdir(n,{recursive:!0})}catch{}await jg.promises.writeFile(r,JSON.stringify(t,null,2),"utf8")}getTokenFilePath(){let t=process.env.AWS_LOGIN_CACHE_DIRECTORY??Vg.join(x4.homedir(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),n=ql.createHash("sha256").update(r).digest("hex");return Vg.join(t,`${n}.json`)}derToRawSignature(t){let r=2;if(t[r]!==2)throw new Error("Invalid DER signature");r++;let n=t[r++],s=t.subarray(r,r+n);if(r+=n,t[r]!==2)throw new Error("Invalid DER signature");r++;let i=t[r++],o=t.subarray(r,r+i);s=s[0]===0?s.subarray(1):s,o=o[0]===0?o.subarray(1):o;let a=Buffer.concat([Buffer.alloc(32-s.length),s]),l=Buffer.concat([Buffer.alloc(32-o.length),o]);return Buffer.concat([a,l])}createDPoPInterceptor(t){t.add(r=>async n=>{if(v4.HttpRequest.isInstance(n.request)){let s=n.request,i=`${s.protocol}//${s.hostname}${s.port?`:${s.port}`:""}${s.path}`,o=await this.generateDpop(s.method,i);s.headers={...s.headers,DPoP:o}}return r(n)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(t="POST",r){let n=await this.loadToken();try{let s=ql.createPrivateKey({key:n.dpopKey,format:"pem",type:"sec1"}),o=ql.createPublicKey(s).export({format:"der",type:"spki"}),a=-1;for(let O=0;O<o.length;O++)if(o[O]===4){a=O;break}let l=o.slice(a+1,a+33),u=o.slice(a+33,a+65),g={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:l.toString("base64url"),y:u.toString("base64url")}},m={jti:crypto.randomUUID(),htm:t,htu:r,iat:Math.floor(Date.now()/1e3)},y=Buffer.from(JSON.stringify(g)).toString("base64url"),E=Buffer.from(JSON.stringify(m)).toString("base64url"),R=`${y}.${E}`,v=ql.sign("sha256",Buffer.from(R),s),I=this.derToRawSignature(v).toString("base64url");return`${R}.${I}`}catch(s){throw new hn.CredentialsProviderError(`Failed to generate Dpop proof: ${s instanceof Error?s.message:String(s)}`,{logger:this.logger,tryNextLink:!1})}}},A4=e=>async({callerClientConfig:t}={})=>{e?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await zg.parseKnownFiles(e||{}),n=zg.getProfileName({profile:e?.profile??t?.profile}),s=r[n];if(!s?.login_session)throw new hn.CredentialsProviderError(`Profile ${n} does not contain login_session.`,{tryNextLink:!0,logger:e?.logger});let o=await new Gg(s,e,t).loadCredentials();return T4.setCredentialFeature(o,"CREDENTIALS_LOGIN","AD")};cA.fromLoginCredentials=A4});function I4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function P4(e){return{schemeId:"smithy.api#noAuth"}}var go,uA,dA,D4,pA,Wg=C(()=>{c();Ue();go=b(Ze());So();uA=async(e,t,r)=>({operation:(0,go.getSmithyContext)(t).operation,region:await(0,go.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});dA=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(P4(e));break}default:t.push(I4(e))}return t},D4=e=>Object.assign(e,{stsClientCtor:rr}),pA=e=>{let t=D4(e),r=Er(t);return Object.assign(r,{authSchemePreference:(0,go.normalizeProvider)(e.authSchemePreference??[])})}});var fA,Hl,Bl=C(()=>{c();fA=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Hl={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var bA,W,fe,me,Sn,gn,He,TA,vA,xA,xe,mA,nr,Xs,Yg,hA,Kg,AA,gA,Be,SA,IA,PA,Je,yt,EA,DA,NA,yA,OA,RA,_A,CA,wA,N4,$A,kA=C(()=>{c();bA="required",W="type",fe="fn",me="argv",Sn="ref",gn="booleanEquals",He="stringEquals",TA="sigv4",vA="sts",xA="us-east-1",xe="endpoint",mA="https://sts.{Region}.{PartitionResult#dnsSuffix}",nr="tree",Xs="error",Yg="getAttr",hA={[bA]:!1,[W]:"string"},Kg={[bA]:!0,default:!1,[W]:"boolean"},AA={[Sn]:"Endpoint"},gA={[fe]:"isSet",[me]:[{[Sn]:"Region"}]},Be={[Sn]:"Region"},SA={[fe]:"aws.partition",[me]:[Be],assign:"PartitionResult"},IA={[Sn]:"UseFIPS"},PA={[Sn]:"UseDualStack"},Je={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:TA,signingName:vA,signingRegion:xA}]},headers:{}},yt={},EA={conditions:[{[fe]:He,[me]:[Be,"aws-global"]}],[xe]:Je,[W]:xe},DA={[fe]:gn,[me]:[IA,!0]},NA={[fe]:gn,[me]:[PA,!0]},yA={[fe]:Yg,[me]:[{[Sn]:"PartitionResult"},"supportsFIPS"]},OA={[Sn]:"PartitionResult"},RA={[fe]:gn,[me]:[!0,{[fe]:Yg,[me]:[OA,"supportsDualStack"]}]},_A=[{[fe]:"isSet",[me]:[AA]}],CA=[DA],wA=[NA],N4={version:"1.0",parameters:{Region:hA,UseDualStack:Kg,UseFIPS:Kg,Endpoint:hA,UseGlobalEndpoint:Kg},rules:[{conditions:[{[fe]:gn,[me]:[{[Sn]:"UseGlobalEndpoint"},!0]},{[fe]:"not",[me]:_A},gA,SA,{[fe]:gn,[me]:[IA,!1]},{[fe]:gn,[me]:[PA,!1]}],rules:[{conditions:[{[fe]:He,[me]:[Be,"ap-northeast-1"]}],endpoint:Je,[W]:xe},{conditions:[{[fe]:He,[me]:[Be,"ap-south-1"]}],endpoint:Je,[W]:xe},{conditions:[{[fe]:He,[me]:[Be,"ap-southeast-1"]}],endpoint:Je,[W]:xe},{conditions:[{[fe]:He,[me]:[Be,"ap-southeast-2"]}],endpoint:Je,[W]:xe},EA,{conditions:[{[fe]:He,[me]:[Be,"ca-central-1"]}],endpoint:Je,[W]:xe},{conditions:[{[fe]:He,[me]:[Be,"eu-central-1"]}],endpoint:Je,[W]:xe},{conditions:[{[fe]:He,[me]:[Be,"eu-north-1"]}],endpoint:Je,[W]:xe},{conditions:[{[fe]:He,[me]:[Be,"eu-west-1"]}],endpoint:Je,[W]:xe},{conditions:[{[fe]:He,[me]:[Be,"eu-west-2"]}],endpoint:Je,[W]:xe},{conditions:[{[fe]:He,[me]:[Be,"eu-west-3"]}],endpoint:Je,[W]:xe},{conditions:[{[fe]:He,[me]:[Be,"sa-east-1"]}],endpoint:Je,[W]:xe},{conditions:[{[fe]:He,[me]:[Be,xA]}],endpoint:Je,[W]:xe},{conditions:[{[fe]:He,[me]:[Be,"us-east-2"]}],endpoint:Je,[W]:xe},{conditions:[{[fe]:He,[me]:[Be,"us-west-1"]}],endpoint:Je,[W]:xe},{conditions:[{[fe]:He,[me]:[Be,"us-west-2"]}],endpoint:Je,[W]:xe},{endpoint:{url:mA,properties:{authSchemes:[{name:TA,signingName:vA,signingRegion:"{Region}"}]},headers:yt},[W]:xe}],[W]:nr},{conditions:_A,rules:[{conditions:CA,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[W]:Xs},{conditions:wA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[W]:Xs},{endpoint:{url:AA,properties:yt,headers:yt},[W]:xe}],[W]:nr},{conditions:[gA],rules:[{conditions:[SA],rules:[{conditions:[DA,NA],rules:[{conditions:[{[fe]:gn,[me]:[!0,yA]},RA],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yt,headers:yt},[W]:xe}],[W]:nr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[W]:Xs}],[W]:nr},{conditions:CA,rules:[{conditions:[{[fe]:gn,[me]:[yA,!0]}],rules:[{conditions:[{[fe]:He,[me]:[{[fe]:Yg,[me]:[OA,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:yt,headers:yt},[W]:xe},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:yt,headers:yt},[W]:xe}],[W]:nr},{error:"FIPS is enabled but this partition does not support FIPS",[W]:Xs}],[W]:nr},{conditions:wA,rules:[{conditions:[RA],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yt,headers:yt},[W]:xe}],[W]:nr},{error:"DualStack is enabled but this partition does not support DualStack",[W]:Xs}],[W]:nr},EA,{endpoint:{url:mA,properties:yt,headers:yt},[W]:xe}],[W]:nr}],[W]:nr},{error:"Invalid Configuration: Missing Region",[W]:Xs}]},$A=N4});var MA,Qs,O4,FA,LA=C(()=>{c();MA=b(Dn()),Qs=b(Fr());kA();O4=new Qs.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),FA=(e,t={})=>O4.get(e,()=>(0,Qs.resolveEndpoint)($A,{endpointParams:e,logger:t.logger}));Qs.customEndpointFunctions.aws=MA.awsEndpointFunctions});var UA,qA,jl,Vl,HA,BA=C(()=>{c();Ue();kn();st();UA=b(J()),qA=b(gr()),jl=b(Me()),Vl=b(ke());Wg();LA();HA=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??jl.fromBase64,base64Encoder:e?.base64Encoder??jl.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??FA,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??dA,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ze},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new kt}],logger:e?.logger??new UA.NoOpLogger,protocol:e?.protocol??Jr,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??qA.parseUrl,utf8Decoder:e?.utf8Decoder??Vl.fromUtf8,utf8Encoder:e?.utf8Encoder??Vl.toUtf8})});var zl,yn,jA,Gl,En,Wl,Kl,VA,zA,GA,WA,KA=C(()=>{c();Oc();Ue();zl=b($s()),yn=b(pt());st();jA=b(ks()),Gl=b(Ft()),En=b(Qt()),Wl=b($r()),Kl=b(J()),VA=b(Ms()),zA=b(Fs()),GA=b(Ln());BA();WA=e=>{(0,Kl.emitWarningIfUnsupportedVersion)(process.version);let t=(0,zA.resolveDefaultsModeConfig)(e),r=()=>t().then(Kl.loadConfigsForDefaultMode),n=HA(e);Lr(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,En.loadConfig)(qr,s),bodyLengthChecker:e?.bodyLengthChecker??VA.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,zl.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Os.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async o=>await e.credentialDefaultProvider(o?.__config||{})()),signer:new ze},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new kt}],maxAttempts:e?.maxAttempts??(0,En.loadConfig)(Gl.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,En.loadConfig)(yn.NODE_REGION_CONFIG_OPTIONS,{...yn.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Wl.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,En.loadConfig)({...Gl.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||GA.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??jA.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Wl.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,En.loadConfig)(yn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,En.loadConfig)(yn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,En.loadConfig)(zl.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var YA,XA,QA=C(()=>{c();YA=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},XA=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Yl,Xl,Ql,JA,ZA=C(()=>{c();Yl=b(qn()),Xl=b(Re()),Ql=b(J());QA();JA=(e,t)=>{let r=Object.assign((0,Yl.getAwsRegionExtensionConfiguration)(e),(0,Ql.getDefaultExtensionConfiguration)(e),(0,Xl.getHttpHandlerExtensionConfiguration)(e),YA(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Yl.resolveAwsRegionExtensionConfiguration)(r),(0,Ql.resolveDefaultRuntimeConfig)(r),(0,Xl.resolveHttpHandlerRuntimeConfig)(r),XA(r))}});var Jl,eI,tI,Zl,rI,nI,sI,eu,Xg,rr,So=C(()=>{c();Jl=b(es()),eI=b(ts()),tI=b(rs()),Zl=b(Mn()),rI=b(pt());st();he();nI=b(Is()),sI=b(Jt()),eu=b(Ft()),Xg=b(J());Wg();Bl();KA();ZA();rr=class extends Xg.Client{config;constructor(...[t]){let r=WA(t||{});super(r),this.initConfig=r;let n=fA(r),s=(0,Zl.resolveUserAgentConfig)(n),i=(0,eu.resolveRetryConfig)(s),o=(0,rI.resolveRegionConfig)(i),a=(0,Jl.resolveHostHeaderConfig)(o),l=(0,sI.resolveEndpointConfig)(a),u=pA(l),g=JA(u,t?.extensions||[]);this.config=g,this.middlewareStack.use(wn(this.config)),this.middlewareStack.use((0,Zl.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,eu.getRetryPlugin)(this.config)),this.middlewareStack.use((0,nI.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Jl.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,eI.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,tI.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(_n(this.config,{httpAuthSchemeParametersProvider:uA,identityProviderConfigProvider:async m=>new hr({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Cn(this.config))}destroy(){super.destroy()}}});var iI,ft,tu=C(()=>{c();iI=b(J()),ft=class e extends iI.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Eo,yo,Ro,_o,Co,wo,bo,Qg=C(()=>{c();tu();Eo=class e extends ft{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},yo=class e extends ft{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ro=class e extends ft{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},_o=class e extends ft{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Co=class e extends ft{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},wo=class e extends ft{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},bo=class e extends ft{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var $4,k4,M4,F4,L4,U4,Jg,q4,H4,B4,j4,Zg,V4,oI,z4,G4,W4,K4,Y4,X4,Q4,J4,aI,cI,Z4,ez,tz,rz,nz,sz,lI,iz,oz,uI,az,dI,cz,lz,eS,uz,dz,pz,fz,mz,hz,gz,Sz,Ez,yz,zn,Gn,Rz,Wn,Kn,Yn,_z,pI,Cz,Se,wz,bz,tS,fI,mI,hI,gI,rS,SI,EI,yI,RI,_I,CI,wI,bI,TI,vI,xI,AI,Tz,vz,nS,sS,ru=C(()=>{c();he();Qg();tu();$4="Arn",k4="AccessKeyId",M4="AssumeRole",F4="AssumedRoleId",L4="AssumeRoleRequest",U4="AssumeRoleResponse",Jg="AssumedRoleUser",q4="AssumeRoleWithWebIdentity",H4="AssumeRoleWithWebIdentityRequest",B4="AssumeRoleWithWebIdentityResponse",j4="Audience",Zg="Credentials",V4="ContextAssertion",oI="DurationSeconds",z4="Expiration",G4="ExternalId",W4="ExpiredTokenException",K4="IDPCommunicationErrorException",Y4="IDPRejectedClaimException",X4="InvalidIdentityTokenException",Q4="Key",J4="MalformedPolicyDocumentException",aI="Policy",cI="PolicyArns",Z4="ProviderArn",ez="ProvidedContexts",tz="ProvidedContextsListType",rz="ProvidedContext",nz="PolicyDescriptorType",sz="ProviderId",lI="PackedPolicySize",iz="PackedPolicyTooLargeException",oz="Provider",uI="RoleArn",az="RegionDisabledException",dI="RoleSessionName",cz="SecretAccessKey",lz="SubjectFromWebIdentityToken",eS="SourceIdentity",uz="SerialNumber",dz="SessionToken",pz="Tags",fz="TokenCode",mz="TransitiveTagKeys",hz="Tag",gz="Value",Sz="WebIdentityToken",Ez="arn",yz="accessKeySecretType",zn="awsQueryError",Gn="client",Rz="clientTokenType",Wn="error",Kn="httpError",Yn="message",_z="policyDescriptorListType",pI="smithy.ts.sdk.synthetic.com.amazonaws.sts",Cz="tagListType",Se="com.amazonaws.sts",wz=[0,Se,yz,8,0],bz=[0,Se,Rz,8,0],tS=[3,Se,Jg,0,[F4,$4],[0,0],2],fI=[3,Se,L4,0,[uI,dI,cI,aI,oI,pz,mz,G4,uz,fz,eS,ez],[0,0,()=>AI,0,1,()=>vz,64,0,0,0,0,()=>Tz],2],mI=[3,Se,U4,0,[Zg,Jg,lI,eS],[[()=>rS,0],()=>tS,1,0]],hI=[3,Se,H4,0,[uI,dI,Sz,sz,cI,aI,oI],[0,0,[()=>bz,0],0,()=>AI,0,1],3],gI=[3,Se,B4,0,[Zg,lz,Jg,lI,oz,j4,eS],[[()=>rS,0],0,()=>tS,1,0,0,0]],rS=[3,Se,Zg,0,[k4,cz,dz,z4],[0,[()=>wz,0],0,4],4],SI=[-3,Se,W4,{[zn]:["ExpiredTokenException",400],[Wn]:Gn,[Kn]:400},[Yn],[0]];V.for(Se).registerError(SI,Eo);EI=[-3,Se,K4,{[zn]:["IDPCommunicationError",400],[Wn]:Gn,[Kn]:400},[Yn],[0]];V.for(Se).registerError(EI,bo);yI=[-3,Se,Y4,{[zn]:["IDPRejectedClaim",403],[Wn]:Gn,[Kn]:403},[Yn],[0]];V.for(Se).registerError(yI,Co);RI=[-3,Se,X4,{[zn]:["InvalidIdentityToken",400],[Wn]:Gn,[Kn]:400},[Yn],[0]];V.for(Se).registerError(RI,wo);_I=[-3,Se,J4,{[zn]:["MalformedPolicyDocument",400],[Wn]:Gn,[Kn]:400},[Yn],[0]];V.for(Se).registerError(_I,yo);CI=[-3,Se,iz,{[zn]:["PackedPolicyTooLarge",400],[Wn]:Gn,[Kn]:400},[Yn],[0]];V.for(Se).registerError(CI,Ro);wI=[3,Se,nz,0,[Ez],[0]],bI=[3,Se,rz,0,[Z4,V4],[0,0]],TI=[-3,Se,az,{[zn]:["RegionDisabledException",403],[Wn]:Gn,[Kn]:403},[Yn],[0]];V.for(Se).registerError(TI,_o);vI=[3,Se,hz,0,[Q4,gz],[0,0],2],xI=[-3,pI,"STSServiceException",0,[],[]];V.for(pI).registerError(xI,ft);AI=[1,Se,_z,0,()=>wI],Tz=[1,Se,tz,0,()=>bI],vz=[1,Se,Cz,0,()=>vI],nS=[9,Se,M4,0,()=>fI,()=>mI],sS=[9,Se,q4,0,()=>hI,()=>gI]});var II,PI,Xn,nu=C(()=>{c();II=b(Jt()),PI=b(J());Bl();ru();Xn=class extends PI.Command.classBuilder().ep(Hl).m(function(t,r,n,s){return[(0,II.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(nS).build(){}});var DI,NI,Qn,su=C(()=>{c();DI=b(Jt()),NI=b(J());Bl();ru();Qn=class extends NI.Command.classBuilder().ep(Hl).m(function(t,r,n,s){return[(0,DI.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(sS).build(){}});var OI,xz,iu,$I=C(()=>{c();OI=b(J());nu();su();So();xz={AssumeRoleCommand:Xn,AssumeRoleWithWebIdentityCommand:Qn},iu=class extends rr{};(0,OI.createAggregatedClient)(xz,iu)});var kI=C(()=>{c();nu();su()});var MI=C(()=>{c()});var FI,LI,UI,qI,HI,BI,jI=C(()=>{c();wt();FI=b(qn());nu();su();LI=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},UI=async(e,t,r,n={})=>{let s=typeof e=="function"?await e():e,i=typeof t=="function"?await t():t,o="",a=s??i??(o=await(0,FI.stsRegionDefaultResolver)(n)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${s} (credential provider clientConfig)`,`${i} (contextual client)`,`${o} (STS default: AWS_REGION, profile region, or us-east-1)`),a},qI=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:g=e?.parentClientConfig?.logger,profile:m=e?.parentClientConfig?.profile,region:y,requestHandler:E=e?.parentClientConfig?.requestHandler,credentialProviderLogger:R,userAgentAppId:v=e?.parentClientConfig?.userAgentAppId}=e,A=await UI(y,e?.parentClientConfig?.region,R,{logger:g,profile:m}),I=!BI(E);r=new t({...e,userAgentAppId:v,profile:m,credentialDefaultProvider:()=>async()=>n,region:A,requestHandler:I?E:void 0,logger:g})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new Xn(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let l=LI(a),u={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...l&&{accountId:l}};return Ur(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},HI=(e,t)=>{let r;return async n=>{if(!r){let{logger:l=e?.parentClientConfig?.logger,profile:u=e?.parentClientConfig?.profile,region:g,requestHandler:m=e?.parentClientConfig?.requestHandler,credentialProviderLogger:y,userAgentAppId:E=e?.parentClientConfig?.userAgentAppId}=e,R=await UI(g,e?.parentClientConfig?.region,y,{logger:l,profile:u}),v=!BI(m);r=new t({...e,userAgentAppId:E,profile:u,region:R,requestHandler:v?m:void 0,logger:l})}let{Credentials:s,AssumedRoleUser:i}=await r.send(new Qn(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=LI(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...o&&{accountId:o}};return o&&Ur(a,"RESOLVED_ACCOUNT_ID","T"),Ur(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},BI=e=>e?.metadata?.handlerProtocol==="h2"});var VI,zI,GI,Az,WI=C(()=>{c();jI();So();VI=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,zI=(e={},t)=>qI(e,VI(rr,t)),GI=(e={},t)=>HI(e,VI(rr,t)),Az=e=>t=>e({roleAssumer:zI(t),roleAssumerWithWebIdentity:GI(t),...t})});var iS={};ut(iS,{AssumeRole$:()=>nS,AssumeRoleCommand:()=>Xn,AssumeRoleRequest$:()=>fI,AssumeRoleResponse$:()=>mI,AssumeRoleWithWebIdentity$:()=>sS,AssumeRoleWithWebIdentityCommand:()=>Qn,AssumeRoleWithWebIdentityRequest$:()=>hI,AssumeRoleWithWebIdentityResponse$:()=>gI,AssumedRoleUser$:()=>tS,Credentials$:()=>rS,ExpiredTokenException:()=>Eo,ExpiredTokenException$:()=>SI,IDPCommunicationErrorException:()=>bo,IDPCommunicationErrorException$:()=>EI,IDPRejectedClaimException:()=>Co,IDPRejectedClaimException$:()=>yI,InvalidIdentityTokenException:()=>wo,InvalidIdentityTokenException$:()=>RI,MalformedPolicyDocumentException:()=>yo,MalformedPolicyDocumentException$:()=>_I,PackedPolicyTooLargeException:()=>Ro,PackedPolicyTooLargeException$:()=>CI,PolicyDescriptorType$:()=>wI,ProvidedContext$:()=>bI,RegionDisabledException:()=>_o,RegionDisabledException$:()=>TI,STS:()=>iu,STSClient:()=>rr,STSServiceException:()=>ft,STSServiceException$:()=>xI,Tag$:()=>vI,__Client:()=>Xg.Client,decorateDefaultCredentialProvider:()=>Az,getDefaultRoleAssumer:()=>zI,getDefaultRoleAssumerWithWebIdentity:()=>GI});var oS=C(()=>{c();So();$I();kI();ru();Qg();MI();WI();tu()});var lS=N(KI=>{"use strict";c();var cS=Xt(),aS=Ge(),Iz=ee("child_process"),Pz=ee("util"),Dz=(wt(),ie(Sr)),Nz=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return Dz.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},Oz=async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let i=Pz.promisify(cS.externalDataInterceptor?.getTokenRecord?.().exec??Iz.exec);try{let{stdout:o}=await i(s),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return Nz(e,a,t)}catch(o){throw new aS.CredentialsProviderError(o.message,{logger:r})}}else throw new aS.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new aS.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},$z=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await cS.parseKnownFiles(e);return Oz(cS.getProfileName({profile:e.profile??t?.profile}),r,e.logger)};KI.fromProcess=$z});var uS=N(sr=>{"use strict";c();var kz=sr&&sr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Mz=sr&&sr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Fz=sr&&sr.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&kz(r,t,n[s]);return Mz(r,t),r}}();Object.defineProperty(sr,"__esModule",{value:!0});sr.fromWebToken=void 0;var Lz=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:i,policyArns:o,policy:a,durationSeconds:l}=e,{roleAssumerWithWebIdentity:u}=e;if(!u){let{getDefaultRoleAssumerWithWebIdentity:g}=await Promise.resolve().then(()=>Fz((oS(),ie(iS))));u=g({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return u({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:i,PolicyArns:o,Policy:a,DurationSeconds:l})};sr.fromWebToken=Lz});var XI=N(ou=>{"use strict";c();Object.defineProperty(ou,"__esModule",{value:!0});ou.fromTokenFile=void 0;var Uz=(wt(),ie(Sr)),qz=Ge(),Hz=Xt(),Bz=ee("fs"),jz=uS(),YI="AWS_WEB_IDENTITY_TOKEN_FILE",Vz="AWS_ROLE_ARN",zz="AWS_ROLE_SESSION_NAME",Gz=(e={})=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[YI],n=e?.roleArn??process.env[Vz],s=e?.roleSessionName??process.env[zz];if(!r||!n)throw new qz.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let i=await(0,jz.fromWebToken)({...e,webIdentityToken:Hz.externalDataInterceptor?.getTokenRecord?.()[r]??(0,Bz.readFileSync)(r,{encoding:"ascii"}),roleArn:n,roleSessionName:s})(t);return r===process.env[YI]&&(0,Uz.setCredentialFeature)(i,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),i};ou.fromTokenFile=Gz});var dS=N(To=>{"use strict";c();var QI=XI(),JI=uS();Object.keys(QI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(To,e)&&Object.defineProperty(To,e,{enumerable:!0,get:function(){return QI[e]}})});Object.keys(JI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(To,e)&&Object.defineProperty(To,e,{enumerable:!0,get:function(){return JI[e]}})})});var sP=N(nP=>{"use strict";c();var fS=Xt(),vo=Ge(),Ar=(wt(),ie(Sr)),Wz=lA(),Kz=(e,t,r)=>{let n={EcsContainer:async s=>{let{fromHttp:i}=await Promise.resolve().then(()=>b(rg())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>b(Fi()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>vo.chain(i(s??{}),o(s))().then(pS)},Ec2InstanceMetadata:async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>b(Fi()));return async()=>i(s)().then(pS)},Environment:async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>b(Kh()));return async()=>i(s)().then(pS)}};if(e in n)return n[e];throw new vo.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},pS=e=>Ar.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),Yz=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(Xz(e,{profile:t,logger:r})||Qz(e,{profile:t,logger:r})),Xz=(e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},Qz=(e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},Jz=async(e,t,r,n,s={},i)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=t[e],{source_profile:a,region:l}=o;if(!r.roleAssumer){let{getDefaultRoleAssumer:g}=await Promise.resolve().then(()=>(oS(),iS));r.roleAssumer=g({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...n,...r?.parentClientConfig,region:l??r?.parentClientConfig?.region??n?.region}},r.clientPlugins)}if(a&&a in s)throw new vo.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${fS.getProfileName(r)}. Profiles visited: `+Object.keys(s).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${e}]`}`);let u=a?i(a,t,r,n,{...s,[a]:!0},ZI(t[a]??{})):(await Kz(o.credential_source,e,r.logger)(r))();if(ZI(o))return u.then(g=>Ar.setCredentialFeature(g,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let g={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:m}=o;if(m){if(!r.mfaCodeProvider)throw new vo.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});g.SerialNumber=m,g.TokenCode=await r.mfaCodeProvider(m)}let y=await u;return r.roleAssumer(y,g).then(E=>Ar.setCredentialFeature(E,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},ZI=e=>!e.role_arn&&!!e.credential_source,Zz=e=>!!(e&&e.login_session),eG=async(e,t,r)=>{let n=await Wz.fromLoginCredentials({...t,profile:e})({callerClientConfig:r});return Ar.setCredentialFeature(n,"CREDENTIALS_PROFILE_LOGIN","AC")},tG=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",rG=async(e,t)=>Promise.resolve().then(()=>b(lS())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>Ar.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),nG=async(e,t,r={},n)=>{let{fromSSO:s}=await Promise.resolve().then(()=>b(xg()));return s({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})({callerClientConfig:n}).then(i=>t.sso_session?Ar.setCredentialFeature(i,"CREDENTIALS_PROFILE_SSO","r"):Ar.setCredentialFeature(i,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},sG=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),eP=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,tP=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return Ar.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},iG=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,oG=async(e,t,r)=>Promise.resolve().then(()=>b(dS())).then(({fromTokenFile:n})=>n({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})({callerClientConfig:r}).then(s=>Ar.setCredentialFeature(s,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),rP=async(e,t,r,n,s={},i=!1)=>{let o=t[e];if(Object.keys(s).length>0&&eP(o))return tP(o,r);if(i||Yz(o,{profile:e,logger:r.logger}))return Jz(e,t,r,n,s,rP);if(eP(o))return tP(o,r);if(iG(o))return oG(o,r,n);if(tG(o))return rG(r,e);if(sG(o))return await nG(e,o,r,n);if(Zz(o))return eG(e,r,n);throw new vo.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},aG=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await fS.parseKnownFiles(e);return rP(fS.getProfileName({profile:e.profile??t?.profile}),r,e,t)};nP.fromIni=aG});var cP=N(au=>{"use strict";c();var mS=Kh(),xo=Ge(),cG=Xt(),iP="AWS_EC2_METADATA_DISABLED",lG=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>b(Fi()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:i}=await Promise.resolve().then(()=>b(rg()));return xo.chain(i(e),n(e))}return process.env[iP]&&process.env[iP]!=="false"?async()=>{throw new xo.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))};function uG(e,t){let r=dG(e),n,s,i,o=async a=>{if(a?.forceRefresh)return await r(a);if(i?.expiration&&i?.expiration?.getTime()<Date.now()&&(i=void 0),n)await n;else if(!i||t?.(i))if(i)s||(s=r(a).then(l=>{i=l}).finally(()=>{s=void 0}));else return n=r(a).then(l=>{i=l}).finally(()=>{n=void 0}),o(a);return i};return o}var dG=e=>async t=>{let r;for(let n of e)try{return await n(t)}catch(s){if(r=s,s?.tryNextLink)continue;throw s}throw r},oP=!1,pG=(e={})=>uG([async()=>{if(e.profile??process.env[cG.ENV_PROFILE])throw process.env[mS.ENV_KEY]&&process.env[mS.ENV_SECRET]&&(oP||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),oP=!0)),new xo.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),mS.fromEnv(e)()},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e;if(!r&&!n&&!s&&!i&&!o)throw new xo.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>b(xg()));return a(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>b(sP()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>b(lS()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>b(dS()));return r(e)(t)},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await lG(e))()),async()=>{throw new xo.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],aP),fG=e=>e?.expiration!==void 0,aP=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;au.credentialsTreatedAsExpired=aP;au.credentialsWillNeedRefresh=fG;au.defaultProvider=pG});var CP=N(cu=>{"use strict";c();Object.defineProperty(cu,"__esModule",{value:!0});cu.ruleSet=void 0;var yP="required",or="fn",ar="argv",Zs="ref",lP=!0,uP="isSet",Io="booleanEquals",Js="error",Ao="endpoint",Ir="tree",hS="PartitionResult",dP={[yP]:!1,type:"string"},pP={[yP]:!0,default:!1,type:"boolean"},fP={[Zs]:"Endpoint"},RP={[or]:Io,[ar]:[{[Zs]:"UseFIPS"},!0]},_P={[or]:Io,[ar]:[{[Zs]:"UseDualStack"},!0]},ir={},mP={[or]:"getAttr",[ar]:[{[Zs]:hS},"supportsFIPS"]},hP={[or]:Io,[ar]:[!0,{[or]:"getAttr",[ar]:[{[Zs]:hS},"supportsDualStack"]}]},gP=[RP],SP=[_P],EP=[{[Zs]:"Region"}],mG={version:"1.0",parameters:{Region:dP,UseDualStack:pP,UseFIPS:pP,Endpoint:dP},rules:[{conditions:[{[or]:uP,[ar]:[fP]}],rules:[{conditions:gP,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Js},{conditions:SP,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Js},{endpoint:{url:fP,properties:ir,headers:ir},type:Ao}],type:Ir},{conditions:[{[or]:uP,[ar]:EP}],rules:[{conditions:[{[or]:"aws.partition",[ar]:EP,assign:hS}],rules:[{conditions:[RP,_P],rules:[{conditions:[{[or]:Io,[ar]:[lP,mP]},hP],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ir,headers:ir},type:Ao}],type:Ir},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Js}],type:Ir},{conditions:gP,rules:[{conditions:[{[or]:Io,[ar]:[mP,lP]}],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ir,headers:ir},type:Ao}],type:Ir},{error:"FIPS is enabled but this partition does not support FIPS",type:Js}],type:Ir},{conditions:SP,rules:[{conditions:[hP],rules:[{endpoint:{url:"https://email.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ir,headers:ir},type:Ao}],type:Ir},{error:"DualStack is enabled but this partition does not support DualStack",type:Js}],type:Ir},{endpoint:{url:"https://email.{Region}.{PartitionResult#dnsSuffix}",properties:ir,headers:ir},type:Ao}],type:Ir}],type:Ir},{error:"Invalid Configuration: Missing Region",type:Js}]};cu.ruleSet=mG});var wP=N(lu=>{"use strict";c();Object.defineProperty(lu,"__esModule",{value:!0});lu.defaultEndpointResolver=void 0;var hG=Dn(),gS=Fr(),gG=CP(),SG=new gS.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),EG=(e,t={})=>SG.get(e,()=>(0,gS.resolveEndpoint)(gG.ruleSet,{endpointParams:e,logger:t.logger}));lu.defaultEndpointResolver=EG;gS.customEndpointFunctions.aws=hG.awsEndpointFunctions});var vP=N(uu=>{"use strict";c();Object.defineProperty(uu,"__esModule",{value:!0});uu.getRuntimeConfig=void 0;var yG=(Ue(),ie(Zr)),RG=(kn(),ie(xh)),_G=J(),CG=gr(),bP=Me(),TP=ke(),wG=Wh(),bG=wP(),TG=e=>({apiVersion:"2010-12-01",base64Decoder:e?.base64Decoder??bP.fromBase64,base64Encoder:e?.base64Encoder??bP.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??bG.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??wG.defaultSESHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new yG.AwsSdkSigV4Signer}],logger:e?.logger??new _G.NoOpLogger,protocol:e?.protocol??RG.AwsQueryProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.ses",xmlNamespace:"http://ses.amazonaws.com/doc/2010-12-01/",version:"2010-12-01",serviceTarget:"SimpleEmailService"},serviceId:e?.serviceId??"SES",urlParser:e?.urlParser??CG.parseUrl,utf8Decoder:e?.utf8Decoder??TP.fromUtf8,utf8Encoder:e?.utf8Encoder??TP.toUtf8});uu.getRuntimeConfig=TG});var NP=N(pu=>{"use strict";c();Object.defineProperty(pu,"__esModule",{value:!0});pu.getRuntimeConfig=void 0;var vG=(Ri(),ie(yi)),xG=vG.__importDefault(Nb()),xP=(Ue(),ie(Zr)),AG=cP(),AP=$s(),du=pt(),IG=ks(),IP=Ft(),Jn=Qt(),PP=$r(),DP=J(),PG=Ms(),DG=Fs(),NG=Ln(),OG=vP(),$G=e=>{(0,DP.emitWarningIfUnsupportedVersion)(process.version);let t=(0,DG.resolveDefaultsModeConfig)(e),r=()=>t().then(DP.loadConfigsForDefaultMode),n=(0,OG.getRuntimeConfig)(e);(0,xP.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Jn.loadConfig)(xP.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??PG.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??AG.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,AP.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:xG.default.version}),maxAttempts:e?.maxAttempts??(0,Jn.loadConfig)(IP.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Jn.loadConfig)(du.NODE_REGION_CONFIG_OPTIONS,{...du.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:PP.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Jn.loadConfig)({...IP.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||NG.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??IG.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??PP.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Jn.loadConfig)(du.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Jn.loadConfig)(du.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Jn.loadConfig)(AP.NODE_APP_ID_CONFIG_OPTIONS,s)}};pu.getRuntimeConfig=$G});var MP=N(ct=>{"use strict";c();var fu=()=>{let e=new WeakSet;return(t,r)=>{if(typeof r=="object"&&r!==null){if(e.has(r))return"[Circular]";e.add(r)}return r}},kG=e=>new Promise(t=>setTimeout(t,e*1e3)),kP={minDelay:2,maxDelay:120};ct.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(ct.WaiterState||(ct.WaiterState={}));var MG=e=>{if(e.state===ct.WaiterState.ABORTED){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"},fu())}`);throw t.name="AbortError",t}else if(e.state===ct.WaiterState.TIMEOUT){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"},fu())}`);throw t.name="TimeoutError",t}else if(e.state!==ct.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e,fu())}`);return e},FG=(e,t,r,n)=>{if(n>r)return t;let s=e*2**(n-1);return LG(e,s)},LG=(e,t)=>e+Math.random()*(t-e),UG=async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:s,abortSignal:i},o,a)=>{let l={},{state:u,reason:g}=await a(s,o);if(g){let R=OP(g);l[R]|=0,l[R]+=1}if(u!==ct.WaiterState.RETRY)return{state:u,reason:g,observedResponses:l};let m=1,y=Date.now()+r*1e3,E=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||i?.aborted){let I="AbortController signal aborted.";return l[I]|=0,l[I]+=1,{state:ct.WaiterState.ABORTED,observedResponses:l}}let R=FG(e,t,E,m);if(Date.now()+R*1e3>y)return{state:ct.WaiterState.TIMEOUT,observedResponses:l};await kG(R);let{state:v,reason:A}=await a(s,o);if(A){let I=OP(A);l[I]|=0,l[I]+=1}if(v!==ct.WaiterState.RETRY)return{state:v,reason:A,observedResponses:l};m+=1}},OP=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e,fu())??"Unknown"),qG=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},$P=e=>{let t,r=new Promise(n=>{t=()=>n({state:ct.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},HG=async(e,t,r)=>{let n={...kP,...e};qG(n);let s=[UG(n,t,r)],i=[];if(e.abortSignal){let{aborted:o,clearListener:a}=$P(e.abortSignal);i.push(a),s.push(o)}if(e.abortController?.signal){let{aborted:o,clearListener:a}=$P(e.abortController.signal);i.push(a),s.push(o)}return Promise.race(s).then(o=>{for(let a of i)a();return o})};ct.checkExceptions=MG;ct.createWaiter=HG;ct.waiterServiceDefaults=kP});var j1=N(p=>{"use strict";c();var FP=es(),BG=ts(),jG=rs(),LP=Mn(),VG=pt(),Po=(st(),ie(fs)),te=(he(),ie(ga)),zG=Is(),k=Jt(),UP=Ft(),$=J(),qP=Wh(),GG=NP(),HP=qn(),BP=Re(),Do=MP(),WG=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"ses"}),M={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},KG=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},YG=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),XG=(e,t)=>{let r=Object.assign(HP.getAwsRegionExtensionConfiguration(e),$.getDefaultExtensionConfiguration(e),BP.getHttpHandlerExtensionConfiguration(e),KG(e));return t.forEach(n=>n.configure(r)),Object.assign(e,HP.resolveAwsRegionExtensionConfiguration(r),$.resolveDefaultRuntimeConfig(r),BP.resolveHttpHandlerRuntimeConfig(r),YG(r))},ei=class extends $.Client{config;constructor(...[t]){let r=GG.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=WG(r),s=LP.resolveUserAgentConfig(n),i=UP.resolveRetryConfig(s),o=VG.resolveRegionConfig(i),a=FP.resolveHostHeaderConfig(o),l=k.resolveEndpointConfig(a),u=qP.resolveHttpAuthSchemeConfig(l),g=XG(u,t?.extensions||[]);this.config=g,this.middlewareStack.use(te.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(LP.getUserAgentPlugin(this.config)),this.middlewareStack.use(UP.getRetryPlugin(this.config)),this.middlewareStack.use(zG.getContentLengthPlugin(this.config)),this.middlewareStack.use(FP.getHostHeaderPlugin(this.config)),this.middlewareStack.use(BG.getLoggerPlugin(this.config)),this.middlewareStack.use(jG.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Po.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:qP.defaultSESHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async m=>new Po.DefaultIdentityProviderConfig({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Po.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Z=class e extends $.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},mu=class e extends Z{name="AccountSendingPausedException";$fault="client";constructor(t){super({name:"AccountSendingPausedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},hu=class e extends Z{name="AlreadyExistsException";$fault="client";Name;constructor(t){super({name:"AlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Name=t.Name}},gu=class e extends Z{name="CannotDeleteException";$fault="client";Name;constructor(t){super({name:"CannotDeleteException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Name=t.Name}},Su=class e extends Z{name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Eu=class e extends Z{name="RuleSetDoesNotExistException";$fault="client";Name;constructor(t){super({name:"RuleSetDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Name=t.Name}},yu=class e extends Z{name="ConfigurationSetAlreadyExistsException";$fault="client";ConfigurationSetName;constructor(t){super({name:"ConfigurationSetAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName}},Ru=class e extends Z{name="ConfigurationSetDoesNotExistException";$fault="client";ConfigurationSetName;constructor(t){super({name:"ConfigurationSetDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName}},_u=class e extends Z{name="ConfigurationSetSendingPausedException";$fault="client";ConfigurationSetName;constructor(t){super({name:"ConfigurationSetSendingPausedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName}},Cu=class e extends Z{name="InvalidConfigurationSetException";$fault="client";constructor(t){super({name:"InvalidConfigurationSetException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},wu=class e extends Z{name="EventDestinationAlreadyExistsException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(t){super({name:"EventDestinationAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName,this.EventDestinationName=t.EventDestinationName}},bu=class e extends Z{name="InvalidCloudWatchDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(t){super({name:"InvalidCloudWatchDestinationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName,this.EventDestinationName=t.EventDestinationName}},Tu=class e extends Z{name="InvalidFirehoseDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(t){super({name:"InvalidFirehoseDestinationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName,this.EventDestinationName=t.EventDestinationName}},vu=class e extends Z{name="InvalidSNSDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(t){super({name:"InvalidSNSDestinationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName,this.EventDestinationName=t.EventDestinationName}},xu=class e extends Z{name="InvalidTrackingOptionsException";$fault="client";constructor(t){super({name:"InvalidTrackingOptionsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Au=class e extends Z{name="TrackingOptionsAlreadyExistsException";$fault="client";ConfigurationSetName;constructor(t){super({name:"TrackingOptionsAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName}},Iu=class e extends Z{name="CustomVerificationEmailInvalidContentException";$fault="client";constructor(t){super({name:"CustomVerificationEmailInvalidContentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Pu=class e extends Z{name="CustomVerificationEmailTemplateAlreadyExistsException";$fault="client";CustomVerificationEmailTemplateName;constructor(t){super({name:"CustomVerificationEmailTemplateAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.CustomVerificationEmailTemplateName=t.CustomVerificationEmailTemplateName}},Du=class e extends Z{name="FromEmailAddressNotVerifiedException";$fault="client";FromEmailAddress;constructor(t){super({name:"FromEmailAddressNotVerifiedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.FromEmailAddress=t.FromEmailAddress}},Nu=class e extends Z{name="InvalidLambdaFunctionException";$fault="client";FunctionArn;constructor(t){super({name:"InvalidLambdaFunctionException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.FunctionArn=t.FunctionArn}},Ou=class e extends Z{name="InvalidS3ConfigurationException";$fault="client";Bucket;constructor(t){super({name:"InvalidS3ConfigurationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Bucket=t.Bucket}},$u=class e extends Z{name="InvalidSnsTopicException";$fault="client";Topic;constructor(t){super({name:"InvalidSnsTopicException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Topic=t.Topic}},ku=class e extends Z{name="RuleDoesNotExistException";$fault="client";Name;constructor(t){super({name:"RuleDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Name=t.Name}},Mu=class e extends Z{name="InvalidTemplateException";$fault="client";TemplateName;constructor(t){super({name:"InvalidTemplateException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.TemplateName=t.TemplateName}},Fu=class e extends Z{name="CustomVerificationEmailTemplateDoesNotExistException";$fault="client";CustomVerificationEmailTemplateName;constructor(t){super({name:"CustomVerificationEmailTemplateDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.CustomVerificationEmailTemplateName=t.CustomVerificationEmailTemplateName}},Lu=class e extends Z{name="EventDestinationDoesNotExistException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(t){super({name:"EventDestinationDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName,this.EventDestinationName=t.EventDestinationName}},Uu=class e extends Z{name="TrackingOptionsDoesNotExistException";$fault="client";ConfigurationSetName;constructor(t){super({name:"TrackingOptionsDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=t.ConfigurationSetName}},qu=class e extends Z{name="TemplateDoesNotExistException";$fault="client";TemplateName;constructor(t){super({name:"TemplateDoesNotExistException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.TemplateName=t.TemplateName}},Hu=class e extends Z{name="InvalidDeliveryOptionsException";$fault="client";constructor(t){super({name:"InvalidDeliveryOptionsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Bu=class e extends Z{name="InvalidPolicyException";$fault="client";constructor(t){super({name:"InvalidPolicyException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ju=class e extends Z{name="InvalidRenderingParameterException";$fault="client";TemplateName;constructor(t){super({name:"InvalidRenderingParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.TemplateName=t.TemplateName}},Vu=class e extends Z{name="MailFromDomainNotVerifiedException";$fault="client";constructor(t){super({name:"MailFromDomainNotVerifiedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},zu=class e extends Z{name="MessageRejected";$fault="client";constructor(t){super({name:"MessageRejected",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Gu=class e extends Z{name="MissingRenderingAttributeException";$fault="client";TemplateName;constructor(t){super({name:"MissingRenderingAttributeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.TemplateName=t.TemplateName}},Wu=class e extends Z{name="ProductionAccessNotGrantedException";$fault="client";constructor(t){super({name:"ProductionAccessNotGrantedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},jP="After",QG="ArrivalDate",JG="AlreadyExistsException",VP="AddHeaderAction",ZG="AccountSendingPausedException",eW="Actions",tW="Action",zP="Body",GP="BounceAction",rW="BccAddresses",nW="BulkEmailDestination",sW="BulkEmailDestinationList",iW="BulkEmailDestinationStatus",oW="BulkEmailDestinationStatusList",aW="BucketName",WP="BehaviorOnMXFailure",cW="BouncedRecipientInfo",KP="BouncedRecipientInfoList",lW="BounceSender",uW="BounceSenderArn",dW="BounceType",pW="BounceTopic",fW="Bounces",mW="Bucket",hW="Content",YP="ConnectAction",gW="CcAddresses",SW="CreateConfigurationSet",EW="CreateConfigurationSetEventDestination",yW="CreateConfigurationSetEventDestinationRequest",RW="CreateConfigurationSetEventDestinationResponse",_W="CreateConfigurationSetRequest",CW="CreateConfigurationSetResponse",wW="CreateConfigurationSetTrackingOptions",bW="CreateConfigurationSetTrackingOptionsRequest",TW="CreateConfigurationSetTrackingOptionsResponse",vW="CreateCustomVerificationEmailTemplate",xW="CreateCustomVerificationEmailTemplateRequest",AW="CannotDeleteException",IW="CustomRedirectDomain",PW="CreateReceiptFilter",DW="CreateReceiptFilterRequest",NW="CreateReceiptFilterResponse",OW="CreateReceiptRule",$W="CreateReceiptRuleRequest",kW="CreateReceiptRuleResponse",MW="CloneReceiptRuleSet",FW="CloneReceiptRuleSetRequest",LW="CloneReceiptRuleSetResponse",UW="CreateReceiptRuleSetRequest",qW="CreateReceiptRuleSetResponse",HW="CreateReceiptRuleSet",SS="ConfigurationSet",BW="ConfigurationSetAlreadyExistsException",jW="ConfigurationSetAttributeNames",VW="ConfigurationSetDoesNotExistException",Te="ConfigurationSetName",zW="ConfigurationSetSendingPausedException",XP="ConfigurationSets",GW="ComplaintTopic",WW="CreateTemplateRequest",KW="CreateTemplateResponse",QP="CreatedTimestamp",YW="CreateTemplate",XW="CustomVerificationEmailInvalidContentException",QW="CustomVerificationEmailTemplate",JW="CustomVerificationEmailTemplateAlreadyExistsException",ZW="CustomVerificationEmailTemplateDoesNotExistException",JP="CustomVerificationEmailTemplateName",ZP="CustomVerificationEmailTemplates",eD="CloudWatchDestination",e6="CloudWatchDimensionConfiguration",t6="CloudWatchDimensionConfigurations",r6="Charset",n6="Cidr",s6="Complaints",up="Destination",tD="DkimAttributes",i6="DescribeActiveReceiptRuleSet",o6="DescribeActiveReceiptRuleSetRequest",a6="DescribeActiveReceiptRuleSetResponse",c6="DeliveryAttempts",l6="DimensionConfigurations",u6="DeleteConfigurationSet",d6="DeleteConfigurationSetEventDestination",p6="DeleteConfigurationSetEventDestinationRequest",f6="DeleteConfigurationSetEventDestinationResponse",m6="DeleteConfigurationSetRequest",h6="DeleteConfigurationSetResponse",g6="DescribeConfigurationSetRequest",S6="DescribeConfigurationSetResponse",E6="DeleteConfigurationSetTrackingOptions",y6="DeleteConfigurationSetTrackingOptionsRequest",R6="DeleteConfigurationSetTrackingOptionsResponse",_6="DescribeConfigurationSet",C6="DeleteCustomVerificationEmailTemplate",w6="DeleteCustomVerificationEmailTemplateRequest",b6="DiagnosticCode",T6="DefaultDimensionValue",rD="DkimEnabled",v6="DeleteIdentity",x6="DeleteIdentityPolicy",A6="DeleteIdentityPolicyRequest",I6="DeleteIdentityPolicyResponse",P6="DeleteIdentityRequest",D6="DeleteIdentityResponse",N6="DimensionName",ES="DeliveryOptions",O6="DeleteReceiptFilter",$6="DeleteReceiptFilterRequest",k6="DeleteReceiptFilterResponse",M6="DeleteReceiptRule",F6="DeleteReceiptRuleRequest",L6="DeleteReceiptRuleResponse",U6="DescribeReceiptRuleRequest",q6="DescribeReceiptRuleResponse",H6="DeleteReceiptRuleSet",B6="DeleteReceiptRuleSetRequest",j6="DeleteReceiptRuleSetResponse",V6="DescribeReceiptRuleSetRequest",z6="DescribeReceiptRuleSetResponse",G6="DescribeReceiptRuleSet",W6="DescribeReceiptRule",K6="DeliveryStreamARN",nD="DkimTokens",Y6="DefaultTemplateData",X6="DeleteTemplateRequest",Q6="DeleteTemplateResponse",J6="DeliveryTopic",Z6="DefaultTags",e8="DeleteTemplate",t8="DeleteVerifiedEmailAddress",r8="DeleteVerifiedEmailAddressRequest",n8="DimensionValueSource",s8="DkimVerificationStatus",sD="Data",iD="Destinations",oD="Domain",i8="Error",dp="EmailAddress",yS="EventDestination",o8="EventDestinationAlreadyExistsException",a8="EventDestinationDoesNotExistException",ti="EventDestinationName",aD="EventDestinations",c8="ExtensionField",l8="ExtensionFieldList",cD="ExtensionFields",Zn="Enabled",u8="Encoding",d8="Explanation",p8="Filter",lD="FunctionArn",f8="FromArn",uD="ForwardingEnabled",ko="FromEmailAddress",m8="FromEmailAddressNotVerifiedException",h8="FilterName",g8="FinalRecipient",pp="FailureRedirectionURL",S8="Filters",E8="GetAccountSendingEnabled",y8="GetAccountSendingEnabledResponse",R8="GetCustomVerificationEmailTemplate",_8="GetCustomVerificationEmailTemplateRequest",C8="GetCustomVerificationEmailTemplateResponse",w8="GetIdentityDkimAttributes",b8="GetIdentityDkimAttributesRequest",T8="GetIdentityDkimAttributesResponse",v8="GetIdentityMailFromDomainAttributes",x8="GetIdentityMailFromDomainAttributesRequest",A8="GetIdentityMailFromDomainAttributesResponse",I8="GetIdentityNotificationAttributes",P8="GetIdentityNotificationAttributesRequest",D8="GetIdentityNotificationAttributesResponse",N8="GetIdentityPolicies",O8="GetIdentityPoliciesRequest",$8="GetIdentityPoliciesResponse",k8="GetIdentityVerificationAttributes",M8="GetIdentityVerificationAttributesRequest",F8="GetIdentityVerificationAttributesResponse",L8="GetSendQuota",U8="GetSendQuotaResponse",q8="GetSendStatistics",H8="GetSendStatisticsResponse",B8="GetTemplate",j8="GetTemplateRequest",V8="GetTemplateResponse",z8="Html",G8="HeadersInBounceNotificationsEnabled",W8="HeadersInComplaintNotificationsEnabled",K8="HeadersInDeliveryNotificationsEnabled",Y8="HeaderName",X8="HtmlPart",Q8="HeaderValue",cr="Identity",dD="IAMRoleARN",J8="InstanceARN",Z8="InvalidConfigurationSetException",eK="InvalidCloudWatchDestinationException",tK="IdentityDkimAttributes",rK="InvalidDeliveryOptionsException",nK="IpFilter",sK="InvalidFirehoseDestinationException",iK="InvalidLambdaFunctionException",oK="IdentityMailFromDomainAttributes",aK="IdentityNotificationAttributes",cK="InvalidPolicyException",lK="IamRoleArn",uK="InvalidRenderingParameterException",dK="InvalidS3ConfigurationException",pK="InvalidSNSDestinationException",fK="InvalidSnsTopicException",mK="InvocationType",hK="InvalidTemplateException",gK="InvalidTrackingOptionsException",SK="IdentityType",EK="IdentityVerificationAttributes",Mo="Identities",pD="KinesisFirehoseDestination",yK="KmsKeyArn",fD="LambdaAction",RK="LastAttemptDate",_K="ListConfigurationSets",CK="ListConfigurationSetsRequest",wK="ListConfigurationSetsResponse",bK="ListCustomVerificationEmailTemplates",TK="ListCustomVerificationEmailTemplatesRequest",vK="ListCustomVerificationEmailTemplatesResponse",xK="LimitExceededException",AK="LastFreshStart",IK="ListIdentities",PK="ListIdentityPolicies",DK="ListIdentityPoliciesRequest",NK="ListIdentityPoliciesResponse",OK="ListIdentitiesRequest",$K="ListIdentitiesResponse",kK="ListReceiptFilters",MK="ListReceiptFiltersRequest",FK="ListReceiptFiltersResponse",LK="ListReceiptRuleSets",UK="ListReceiptRuleSetsRequest",qK="ListReceiptRuleSetsResponse",HK="ListTemplates",BK="ListTemplatesRequest",jK="ListTemplatesResponse",VK="ListVerifiedEmailAddresses",zK="ListVerifiedEmailAddressesResponse",RS="Message",mD="MessageDsn",GK="MatchingEventTypes",hD="MailFromDomain",gD="MailFromDomainAttributes",WK="MailFromDomainNotVerifiedException",KK="MailFromDomainStatus",YK="Max24HourSend",ri="MessageId",_S="MaxItems",XK="MaxResults",QK="MissingRenderingAttributeException",JK="MessageRejected",ZK="MaxSendRate",e5="MessageTag",t5="MessageTagList",SD="Metadata",Dt="Name",ED="NotificationAttributes",lr="NextToken",yD="NotificationType",r5="OrganizationArn",n5="ObjectKeyPrefix",s5="OriginalMessageId",i5="OriginalRuleSetName",o5="Policies",a5="ProductionAccessNotGrantedException",c5="PutConfigurationSetDeliveryOptions",l5="PutConfigurationSetDeliveryOptionsRequest",u5="PutConfigurationSetDeliveryOptionsResponse",d5="PutIdentityPolicy",p5="PutIdentityPolicyRequest",f5="PutIdentityPolicyResponse",RD="PolicyName",_D="PolicyNames",CD="Policy",m5="Recipient",h5="RecipientArn",g5="ReceiptActionsList",S5="ReceiptAction",wD="RecipientDsnFields",E5="RuleDoesNotExistException",y5="ReceiptFilter",R5="ReceiptFilterList",_5="ReceiptIpFilter",C5="ReportingMta",w5="ReputationMetricsEnabled",bD="RawMessage",b5="RemoteMta",CS="RuleName",T5="RuleNames",TD="ReputationOptions",wS="ReturnPath",fp="ReturnPathArn",v5="ReceiptRule",x5="ReceiptRulesList",A5="ReorderReceiptRuleSet",I5="ReorderReceiptRuleSetRequest",P5="ReorderReceiptRuleSetResponse",D5="ReceiptRuleSetsLists",N5="ReceiptRuleSetMetadata",O5="RuleSets",$5="RuleSetDoesNotExistException",Vt="RuleSetName",k5="ReplacementTags",bS="ReplyToAddresses",M5="ReplacementTemplateData",F5="RenderedTemplate",L5="Recipients",U5="Rejects",TS="Rule",vD="Rules",q5="Sender",xD="S3Action",H5="SetActiveReceiptRuleSet",B5="SetActiveReceiptRuleSetRequest",j5="SetActiveReceiptRuleSetResponse",mp="SourceArn",AD="StopAction",V5="SendBounce",z5="SendBounceRequest",G5="SendBounceResponse",W5="SendBulkTemplatedEmail",K5="SendBulkTemplatedEmailRequest",Y5="SendBulkTemplatedEmailResponse",X5="StatusCode",Q5="SendCustomVerificationEmail",J5="SendCustomVerificationEmailRequest",Z5="SendCustomVerificationEmailResponse",e9="SendDataPoints",t9="SendDataPointList",r9="SendDataPoint",n9="ScanEnabled",s9="SendEmailRequest",i9="SendEmailResponse",o9="SendingEnabled",a9="SendEmail",c9="SetIdentityDkimEnabled",l9="SetIdentityDkimEnabledRequest",u9="SetIdentityDkimEnabledResponse",d9="SetIdentityFeedbackForwardingEnabled",p9="SetIdentityFeedbackForwardingEnabledRequest",f9="SetIdentityFeedbackForwardingEnabledResponse",m9="SetIdentityHeadersInNotificationsEnabled",h9="SetIdentityHeadersInNotificationsEnabledRequest",g9="SetIdentityHeadersInNotificationsEnabledResponse",S9="SetIdentityMailFromDomain",E9="SetIdentityMailFromDomainRequest",y9="SetIdentityMailFromDomainResponse",R9="SetIdentityNotificationTopic",_9="SetIdentityNotificationTopicRequest",C9="SetIdentityNotificationTopicResponse",w9="SentLast24Hours",ID="SNSAction",PD="SNSDestination",b9="SubjectPart",T9="SmtpReplyCode",v9="SendRawEmail",x9="SendRawEmailRequest",A9="SendRawEmailResponse",I9="SetReceiptRulePosition",P9="SetReceiptRulePositionRequest",D9="SetReceiptRulePositionResponse",hp="SuccessRedirectionURL",N9="SnsTopic",O9="SendTemplatedEmail",$9="SendTemplatedEmailRequest",k9="SendTemplatedEmailResponse",M9="Scope",gp="Source",vS="Status",F9="Subject",L9="Text",ni="TopicArn",U9="TopicARN",DD="TemplateArn",q9="ToAddresses",xS="TemplateContent",ND="TemplateData",H9="TemplateDoesNotExistException",B9="TemplatesMetadata",j9="TemplateMetadataList",V9="TemplateMetadata",lt="TemplateName",Sp="TrackingOptions",z9="TrackingOptionsAlreadyExistsException",G9="TrackingOptionsDoesNotExistException",OD="TlsPolicy",W9="TextPart",K9="TestRenderTemplate",Y9="TestRenderTemplateRequest",X9="TestRenderTemplateResponse",Ep="TemplateSubject",AS="Tags",si="Template",Q9="Timestamp",J9="Topic",Z9="UpdateAccountSendingEnabled",eY="UpdateAccountSendingEnabledRequest",tY="UpdateConfigurationSetEventDestination",rY="UpdateConfigurationSetEventDestinationRequest",nY="UpdateConfigurationSetEventDestinationResponse",sY="UpdateConfigurationSetReputationMetricsEnabled",iY="UpdateConfigurationSetReputationMetricsEnabledRequest",oY="UpdateConfigurationSetSendingEnabled",aY="UpdateConfigurationSetSendingEnabledRequest",cY="UpdateConfigurationSetTrackingOptions",lY="UpdateConfigurationSetTrackingOptionsRequest",uY="UpdateConfigurationSetTrackingOptionsResponse",dY="UpdateCustomVerificationEmailTemplate",pY="UpdateCustomVerificationEmailTemplateRequest",fY="UpdateReceiptRule",mY="UpdateReceiptRuleRequest",hY="UpdateReceiptRuleResponse",gY="UpdateTemplate",SY="UpdateTemplateRequest",EY="UpdateTemplateResponse",$D="Value",kD="VerificationAttributes",yY="VerifyDomainDkim",RY="VerifyDomainDkimRequest",_Y="VerifyDomainDkimResponse",CY="VerifyDomainIdentity",wY="VerifyDomainIdentityRequest",bY="VerifyDomainIdentityResponse",TY="VerifiedEmailAddresses",vY="VerifyEmailAddressRequest",xY="VerifyEmailAddress",AY="VerifyEmailIdentity",IY="VerifyEmailIdentityRequest",PY="VerifyEmailIdentityResponse",DY="VerificationStatus",MD="VerificationToken",FD="WorkmailAction",oe="awsQueryError",ae="client",ce="error",le="httpError",ue="message",LD="smithy.ts.sdk.synthetic.com.amazonaws.ses",S="com.amazonaws.ses",UD=[-3,S,ZG,{[oe]:["AccountSendingPausedException",400],[ce]:ae,[le]:400},[ue],[0]];te.TypeRegistry.for(S).registerError(UD,mu);var qD=[3,S,VP,0,[Y8,Q8],[0,0],2],HD=[-3,S,JG,{[oe]:["AlreadyExists",400],[ce]:ae,[le]:400},[Dt,ue],[0,0]];te.TypeRegistry.for(S).registerError(HD,hu);var BD=[3,S,zP,0,[L9,z8],[()=>Ku,()=>Ku]],jD=[3,S,GP,0,[T9,RS,q5,ni,X5],[0,0,0,0,0],3],VD=[3,S,cW,0,[m5,h5,dW,wD],[0,0,0,()=>u$],1],zD=[3,S,nW,0,[up,k5,M5],[()=>Rp,()=>Lo,0],1],GD=[3,S,iW,0,[vS,i8,ri],[0,0,0]],WD=[-3,S,AW,{[oe]:["CannotDelete",400],[ce]:ae,[le]:400},[Dt,ue],[0,0]];te.TypeRegistry.for(S).registerError(WD,gu);var KD=[3,S,FW,0,[Vt,i5],[0,0],2],YD=[3,S,LW,0,[],[]],XD=[3,S,eD,0,[l6],[()=>kY],1],QD=[3,S,e6,0,[N6,n8,T6],[0,0,0],3],yp=[3,S,SS,0,[Dt],[0],1],JD=[-3,S,BW,{[oe]:["ConfigurationSetAlreadyExists",400],[ce]:ae,[le]:400},[Te,ue],[0,0]];te.TypeRegistry.for(S).registerError(JD,yu);var ZD=[-3,S,VW,{[oe]:["ConfigurationSetDoesNotExist",400],[ce]:ae,[le]:400},[Te,ue],[0,0]];te.TypeRegistry.for(S).registerError(ZD,Ru);var eN=[-3,S,zW,{[oe]:["ConfigurationSetSendingPausedException",400],[ce]:ae,[le]:400},[Te,ue],[0,0]];te.TypeRegistry.for(S).registerError(eN,_u);var tN=[3,S,YP,0,[J8,dD],[0,0],2],Ku=[3,S,hW,0,[sD,r6],[0,0],1],rN=[3,S,yW,0,[Te,yS],[0,()=>_p],2],nN=[3,S,RW,0,[],[]],sN=[3,S,_W,0,[SS],[()=>yp],1],iN=[3,S,CW,0,[],[]],oN=[3,S,bW,0,[Te,Sp],[0,()=>bp],2],aN=[3,S,TW,0,[],[]],cN=[3,S,xW,0,[lt,ko,Ep,xS,hp,pp],[0,0,0,0,0,0],6],lN=[3,S,DW,0,[p8],[()=>PS],1],uN=[3,S,NW,0,[],[]],dN=[3,S,$W,0,[Vt,TS,jP],[0,()=>Fo,0],2],pN=[3,S,kW,0,[],[]],fN=[3,S,UW,0,[Vt],[0],1],mN=[3,S,qW,0,[],[]],hN=[3,S,WW,0,[si],[()=>wp],1],gN=[3,S,KW,0,[],[]],SN=[-3,S,XW,{[oe]:["CustomVerificationEmailInvalidContent",400],[ce]:ae,[le]:400},[ue],[0]];te.TypeRegistry.for(S).registerError(SN,Iu);var EN=[3,S,QW,0,[lt,ko,Ep,hp,pp],[0,0,0,0,0]],yN=[-3,S,JW,{[oe]:["CustomVerificationEmailTemplateAlreadyExists",400],[ce]:ae,[le]:400},[JP,ue],[0,0]];te.TypeRegistry.for(S).registerError(yN,Pu);var RN=[-3,S,ZW,{[oe]:["CustomVerificationEmailTemplateDoesNotExist",400],[ce]:ae,[le]:400},[JP,ue],[0,0]];te.TypeRegistry.for(S).registerError(RN,Fu);var _N=[3,S,p6,0,[Te,ti],[0,0],2],CN=[3,S,f6,0,[],[]],wN=[3,S,m6,0,[Te],[0],1],bN=[3,S,h6,0,[],[]],TN=[3,S,y6,0,[Te],[0],1],vN=[3,S,R6,0,[],[]],xN=[3,S,w6,0,[lt],[0],1],AN=[3,S,A6,0,[cr,RD],[0,0],2],IN=[3,S,I6,0,[],[]],PN=[3,S,P6,0,[cr],[0],1],DN=[3,S,D6,0,[],[]],NN=[3,S,$6,0,[h8],[0],1],ON=[3,S,k6,0,[],[]],$N=[3,S,F6,0,[Vt,CS],[0,0],2],kN=[3,S,L6,0,[],[]],MN=[3,S,B6,0,[Vt],[0],1],FN=[3,S,j6,0,[],[]],LN=[3,S,X6,0,[lt],[0],1],UN=[3,S,Q6,0,[],[]],qN=[3,S,r8,0,[dp],[0],1],IS=[3,S,ES,0,[OD],[0]],HN=[3,S,o6,0,[],[]],BN=[3,S,a6,0,[SD,vD],[()=>Cp,()=>_k]],jN=[3,S,g6,0,[Te,jW],[0,64],1],VN=[3,S,S6,0,[SS,aD,Sp,ES,TD],[()=>yp,()=>LY,()=>bp,()=>IS,()=>f$]],zN=[3,S,U6,0,[Vt,CS],[0,0],2],GN=[3,S,q6,0,[TS],[()=>Fo]],WN=[3,S,V6,0,[Vt],[0],1],KN=[3,S,z6,0,[SD,vD],[()=>Cp,()=>_k]],Rp=[3,S,up,0,[q9,gW,rW],[64,64,64]],_p=[3,S,yS,0,[Dt,GK,Zn,pD,eD,PD],[0,64,2,()=>NO,()=>XD,()=>z$],2],YN=[-3,S,o8,{[oe]:["EventDestinationAlreadyExists",400],[ce]:ae,[le]:400},[Te,ti,ue],[0,0,0]];te.TypeRegistry.for(S).registerError(YN,wu);var XN=[-3,S,a8,{[oe]:["EventDestinationDoesNotExist",400],[ce]:ae,[le]:400},[Te,ti,ue],[0,0,0]];te.TypeRegistry.for(S).registerError(XN,Lu);var QN=[3,S,c8,0,[Dt,$D],[0,0],2],JN=[-3,S,m8,{[oe]:["FromEmailAddressNotVerified",400],[ce]:ae,[le]:400},[ko,ue],[0,0]];te.TypeRegistry.for(S).registerError(JN,Du);var ZN=[3,S,y8,0,[Zn],[2]],eO=[3,S,_8,0,[lt],[0],1],tO=[3,S,C8,0,[lt,ko,Ep,xS,hp,pp],[0,0,0,0,0,0]],rO=[3,S,b8,0,[Mo],[64],1],nO=[3,S,T8,0,[tD],[()=>VY],1],sO=[3,S,x8,0,[Mo],[64],1],iO=[3,S,A8,0,[gD],[()=>zY],1],oO=[3,S,P8,0,[Mo],[64],1],aO=[3,S,D8,0,[ED],[()=>GY],1],cO=[3,S,O8,0,[cr,_D],[0,64],2],lO=[3,S,$8,0,[o5],[128],1],uO=[3,S,M8,0,[Mo],[64],1],dO=[3,S,F8,0,[kD],[()=>WY],1],pO=[3,S,U8,0,[YK,ZK,w9],[1,1,1]],fO=[3,S,H8,0,[e9],[()=>BY]],mO=[3,S,j8,0,[lt],[0],1],hO=[3,S,V8,0,[si],[()=>wp]],gO=[3,S,tK,0,[rD,s8,nD],[2,0,64],2],SO=[3,S,oK,0,[hD,KK,WP],[0,0,0],3],EO=[3,S,aK,0,[pW,GW,J6,uD,G8,W8,K8],[0,0,0,2,2,2,2],4],yO=[3,S,EK,0,[DY,MD],[0,0],1],RO=[-3,S,eK,{[oe]:["InvalidCloudWatchDestination",400],[ce]:ae,[le]:400},[Te,ti,ue],[0,0,0]];te.TypeRegistry.for(S).registerError(RO,bu);var _O=[-3,S,Z8,{[oe]:["InvalidConfigurationSet",400],[ce]:ae,[le]:400},[ue],[0]];te.TypeRegistry.for(S).registerError(_O,Cu);var CO=[-3,S,rK,{[oe]:["InvalidDeliveryOptions",400],[ce]:ae,[le]:400},[ue],[0]];te.TypeRegistry.for(S).registerError(CO,Hu);var wO=[-3,S,sK,{[oe]:["InvalidFirehoseDestination",400],[ce]:ae,[le]:400},[Te,ti,ue],[0,0,0]];te.TypeRegistry.for(S).registerError(wO,Tu);var bO=[-3,S,iK,{[oe]:["InvalidLambdaFunction",400],[ce]:ae,[le]:400},[lD,ue],[0,0]];te.TypeRegistry.for(S).registerError(bO,Nu);var TO=[-3,S,cK,{[oe]:["InvalidPolicy",400],[ce]:ae,[le]:400},[ue],[0]];te.TypeRegistry.for(S).registerError(TO,Bu);var vO=[-3,S,uK,{[oe]:["InvalidRenderingParameter",400],[ce]:ae,[le]:400},[lt,ue],[0,0]];te.TypeRegistry.for(S).registerError(vO,ju);var xO=[-3,S,dK,{[oe]:["InvalidS3Configuration",400],[ce]:ae,[le]:400},[mW,ue],[0,0]];te.TypeRegistry.for(S).registerError(xO,Ou);var AO=[-3,S,pK,{[oe]:["InvalidSNSDestination",400],[ce]:ae,[le]:400},[Te,ti,ue],[0,0,0]];te.TypeRegistry.for(S).registerError(AO,vu);var IO=[-3,S,fK,{[oe]:["InvalidSnsTopic",400],[ce]:ae,[le]:400},[J9,ue],[0,0]];te.TypeRegistry.for(S).registerError(IO,$u);var PO=[-3,S,hK,{[oe]:["InvalidTemplate",400],[ce]:ae,[le]:400},[lt,ue],[0,0]];te.TypeRegistry.for(S).registerError(PO,Mu);var DO=[-3,S,gK,{[oe]:["InvalidTrackingOptions",400],[ce]:ae,[le]:400},[ue],[0]];te.TypeRegistry.for(S).registerError(DO,xu);var NO=[3,S,pD,0,[dD,K6],[0,0],2],OO=[3,S,fD,0,[lD,ni,mK],[0,0,0],1],$O=[-3,S,xK,{[oe]:["LimitExceeded",400],[ce]:ae,[le]:400},[ue],[0]];te.TypeRegistry.for(S).registerError($O,Su);var kO=[3,S,CK,0,[lr,_S],[0,1]],MO=[3,S,wK,0,[XP,lr],[()=>MY,0]],FO=[3,S,TK,0,[lr,XK],[0,1]],LO=[3,S,vK,0,[ZP,lr],[()=>FY,0]],UO=[3,S,OK,0,[SK,lr,_S],[0,0,1]],qO=[3,S,$K,0,[Mo,lr],[64,0],1],HO=[3,S,DK,0,[cr],[0],1],BO=[3,S,NK,0,[_D],[64],1],jO=[3,S,MK,0,[],[]],VO=[3,S,FK,0,[S8],[()=>qY]],zO=[3,S,UK,0,[lr],[0]],GO=[3,S,qK,0,[O5,lr],[()=>HY,0]],WO=[3,S,BK,0,[lr,_S],[0,1]],KO=[3,S,jK,0,[B9,lr],[()=>jY,0]],YO=[3,S,zK,0,[TY],[64]],XO=[-3,S,WK,{[oe]:["MailFromDomainNotVerifiedException",400],[ce]:ae,[le]:400},[ue],[0]];te.TypeRegistry.for(S).registerError(XO,Vu);var QO=[3,S,RS,0,[F9,zP],[()=>Ku,()=>BD],2],JO=[3,S,mD,0,[C5,QG,cD],[0,4,()=>Rk],1],ZO=[-3,S,JK,{[oe]:["MessageRejected",400],[ce]:ae,[le]:400},[ue],[0]];te.TypeRegistry.for(S).registerError(ZO,zu);var e$=[3,S,e5,0,[Dt,$D],[0,0],2],t$=[-3,S,QK,{[oe]:["MissingRenderingAttribute",400],[ce]:ae,[le]:400},[lt,ue],[0,0]];te.TypeRegistry.for(S).registerError(t$,Gu);var r$=[-3,S,a5,{[oe]:["ProductionAccessNotGranted",400],[ce]:ae,[le]:400},[ue],[0]];te.TypeRegistry.for(S).registerError(r$,Wu);var n$=[3,S,l5,0,[Te,ES],[0,()=>IS],1],s$=[3,S,u5,0,[],[]],i$=[3,S,p5,0,[cr,RD,CD],[0,0,0],3],o$=[3,S,f5,0,[],[]],a$=[3,S,bD,0,[sD],[21],1],c$=[3,S,S5,0,[xD,GP,FD,fD,AD,VP,ID,YP],[()=>g$,()=>jD,()=>Ek,()=>OO,()=>G$,()=>qD,()=>V$,()=>tN]],PS=[3,S,y5,0,[Dt,nK],[0,()=>l$],2],l$=[3,S,_5,0,[CD,n6],[0,0],2],Fo=[3,S,v5,0,[Dt,Zn,OD,L5,eW,n9],[0,2,0,64,()=>UY,2],1],Cp=[3,S,N5,0,[Dt,QP],[0,4]],u$=[3,S,wD,0,[tW,vS,g8,b5,b6,RK,cD],[0,0,0,0,0,4,()=>Rk],2],d$=[3,S,I5,0,[Vt,T5],[0,64],2],p$=[3,S,P5,0,[],[]],f$=[3,S,TD,0,[o9,w5,AK],[2,2,4]],m$=[-3,S,E5,{[oe]:["RuleDoesNotExist",400],[ce]:ae,[le]:400},[Dt,ue],[0,0]];te.TypeRegistry.for(S).registerError(m$,ku);var h$=[-3,S,$5,{[oe]:["RuleSetDoesNotExist",400],[ce]:ae,[le]:400},[Dt,ue],[0,0]];te.TypeRegistry.for(S).registerError(h$,Eu);var g$=[3,S,xD,0,[aW,ni,n5,yK,lK],[0,0,0,0,0],1],S$=[3,S,z5,0,[s5,lW,KP,d8,mD,uW],[0,0,()=>NY,0,()=>JO,0],3],E$=[3,S,G5,0,[ri],[0]],y$=[3,S,K5,0,[gp,si,Y6,iD,mp,bS,wS,fp,Te,Z6,DD],[0,0,0,()=>OY,0,64,0,0,0,()=>Lo,0],4],R$=[3,S,Y5,0,[vS],[()=>$Y],1],_$=[3,S,J5,0,[dp,lt,Te],[0,0,0],2],C$=[3,S,Z5,0,[ri],[0]],w$=[3,S,r9,0,[Q9,c6,fW,s6,U5],[4,1,1,1,1]],b$=[3,S,s9,0,[gp,up,RS,bS,wS,mp,fp,AS,Te],[0,()=>Rp,()=>QO,64,0,0,0,()=>Lo,0],3],T$=[3,S,i9,0,[ri],[0],1],v$=[3,S,x9,0,[bD,gp,iD,f8,mp,fp,AS,Te],[()=>a$,0,64,0,0,0,()=>Lo,0],1],x$=[3,S,A9,0,[ri],[0],1],A$=[3,S,$9,0,[gp,up,si,ND,bS,wS,mp,fp,AS,Te,DD],[0,()=>Rp,0,0,64,0,0,0,()=>Lo,0,0],4],I$=[3,S,k9,0,[ri],[0],1],P$=[3,S,B5,0,[Vt],[0]],D$=[3,S,j5,0,[],[]],N$=[3,S,l9,0,[cr,rD],[0,2],2],O$=[3,S,u9,0,[],[]],$$=[3,S,p9,0,[cr,uD],[0,2],2],k$=[3,S,f9,0,[],[]],M$=[3,S,h9,0,[cr,yD,Zn],[0,0,2],3],F$=[3,S,g9,0,[],[]],L$=[3,S,E9,0,[cr,hD,WP],[0,0,0],1],U$=[3,S,y9,0,[],[]],q$=[3,S,_9,0,[cr,yD,N9],[0,0,0],2],H$=[3,S,C9,0,[],[]],B$=[3,S,P9,0,[Vt,CS,jP],[0,0,0],2],j$=[3,S,D9,0,[],[]],V$=[3,S,ID,0,[ni,u8],[0,0],1],z$=[3,S,PD,0,[U9],[0],1],G$=[3,S,AD,0,[M9,ni],[0,0],1],wp=[3,S,si,0,[lt,b9,W9,X8],[0,0,0,0],1],W$=[-3,S,H9,{[oe]:["TemplateDoesNotExist",400],[ce]:ae,[le]:400},[lt,ue],[0,0]];te.TypeRegistry.for(S).registerError(W$,qu);var K$=[3,S,V9,0,[Dt,QP],[0,4]],Y$=[3,S,Y9,0,[lt,ND],[0,0],2],X$=[3,S,X9,0,[F5],[0]],bp=[3,S,Sp,0,[IW],[0]],Q$=[-3,S,z9,{[oe]:["TrackingOptionsAlreadyExistsException",400],[ce]:ae,[le]:400},[Te,ue],[0,0]];te.TypeRegistry.for(S).registerError(Q$,Au);var J$=[-3,S,G9,{[oe]:["TrackingOptionsDoesNotExistException",400],[ce]:ae,[le]:400},[Te,ue],[0,0]];te.TypeRegistry.for(S).registerError(J$,Uu);var Z$=[3,S,eY,0,[Zn],[2]],ek=[3,S,rY,0,[Te,yS],[0,()=>_p],2],tk=[3,S,nY,0,[],[]],rk=[3,S,iY,0,[Te,Zn],[0,2],2],nk=[3,S,aY,0,[Te,Zn],[0,2],2],sk=[3,S,lY,0,[Te,Sp],[0,()=>bp],2],ik=[3,S,uY,0,[],[]],ok=[3,S,pY,0,[lt,ko,Ep,xS,hp,pp],[0,0,0,0,0,0],1],ak=[3,S,mY,0,[Vt,TS],[0,()=>Fo],2],ck=[3,S,hY,0,[],[]],lk=[3,S,SY,0,[si],[()=>wp],1],uk=[3,S,EY,0,[],[]],dk=[3,S,RY,0,[oD],[0],1],pk=[3,S,_Y,0,[nD],[64],1],fk=[3,S,wY,0,[oD],[0],1],mk=[3,S,bY,0,[MD],[0],1],hk=[3,S,vY,0,[dp],[0],1],gk=[3,S,IY,0,[dp],[0],1],Sk=[3,S,PY,0,[],[]],Ek=[3,S,FD,0,[r5,ni],[0,0],1],Nt="unit",yk=[-3,LD,"SESServiceException",0,[],[]];te.TypeRegistry.for(LD).registerError(yk,Z);var NY=[1,S,KP,0,()=>VD],OY=[1,S,sW,0,()=>zD],$Y=[1,S,oW,0,()=>GD],kY=[1,S,t6,0,()=>QD],MY=[1,S,XP,0,()=>yp],FY=[1,S,ZP,0,()=>EN],LY=[1,S,aD,0,()=>_p],Rk=[1,S,l8,0,()=>QN],Lo=[1,S,t5,0,()=>e$],UY=[1,S,g5,0,()=>c$],qY=[1,S,R5,0,()=>PS],HY=[1,S,D5,0,()=>Cp],_k=[1,S,x5,0,()=>Fo],BY=[1,S,t9,0,()=>w$],jY=[1,S,j9,0,()=>K$],VY=[2,S,tD,0,0,()=>gO],zY=[2,S,gD,0,0,()=>SO],GY=[2,S,ED,0,0,()=>EO],WY=[2,S,kD,0,0,()=>yO],Ck=[9,S,MW,0,()=>KD,()=>YD],wk=[9,S,SW,0,()=>sN,()=>iN],bk=[9,S,EW,0,()=>rN,()=>nN],Tk=[9,S,wW,0,()=>oN,()=>aN],vk=[9,S,vW,0,()=>cN,()=>Nt],xk=[9,S,PW,0,()=>lN,()=>uN],Ak=[9,S,OW,0,()=>dN,()=>pN],Ik=[9,S,HW,0,()=>fN,()=>mN],Pk=[9,S,YW,0,()=>hN,()=>gN],Dk=[9,S,u6,0,()=>wN,()=>bN],Nk=[9,S,d6,0,()=>_N,()=>CN],Ok=[9,S,E6,0,()=>TN,()=>vN],$k=[9,S,C6,0,()=>xN,()=>Nt],kk=[9,S,v6,0,()=>PN,()=>DN],Mk=[9,S,x6,0,()=>AN,()=>IN],Fk=[9,S,O6,0,()=>NN,()=>ON],Lk=[9,S,M6,0,()=>$N,()=>kN],Uk=[9,S,H6,0,()=>MN,()=>FN],qk=[9,S,e8,0,()=>LN,()=>UN],Hk=[9,S,t8,0,()=>qN,()=>Nt],Bk=[9,S,i6,0,()=>HN,()=>BN],jk=[9,S,_6,0,()=>jN,()=>VN],Vk=[9,S,W6,0,()=>zN,()=>GN],zk=[9,S,G6,0,()=>WN,()=>KN],Gk=[9,S,E8,0,()=>Nt,()=>ZN],Wk=[9,S,R8,0,()=>eO,()=>tO],Kk=[9,S,w8,0,()=>rO,()=>nO],Yk=[9,S,v8,0,()=>sO,()=>iO],Xk=[9,S,I8,0,()=>oO,()=>aO],Qk=[9,S,N8,0,()=>cO,()=>lO],Jk=[9,S,k8,0,()=>uO,()=>dO],Zk=[9,S,L8,0,()=>Nt,()=>pO],e1=[9,S,q8,0,()=>Nt,()=>fO],t1=[9,S,B8,0,()=>mO,()=>hO],r1=[9,S,_K,0,()=>kO,()=>MO],n1=[9,S,bK,0,()=>FO,()=>LO],s1=[9,S,IK,0,()=>UO,()=>qO],i1=[9,S,PK,0,()=>HO,()=>BO],o1=[9,S,kK,0,()=>jO,()=>VO],a1=[9,S,LK,0,()=>zO,()=>GO],c1=[9,S,HK,0,()=>WO,()=>KO],l1=[9,S,VK,0,()=>Nt,()=>YO],u1=[9,S,c5,0,()=>n$,()=>s$],d1=[9,S,d5,0,()=>i$,()=>o$],p1=[9,S,A5,0,()=>d$,()=>p$],f1=[9,S,V5,0,()=>S$,()=>E$],m1=[9,S,W5,0,()=>y$,()=>R$],h1=[9,S,Q5,0,()=>_$,()=>C$],g1=[9,S,a9,0,()=>b$,()=>T$],S1=[9,S,v9,0,()=>v$,()=>x$],E1=[9,S,O9,0,()=>A$,()=>I$],y1=[9,S,H5,0,()=>P$,()=>D$],R1=[9,S,c9,0,()=>N$,()=>O$],_1=[9,S,d9,0,()=>$$,()=>k$],C1=[9,S,m9,0,()=>M$,()=>F$],w1=[9,S,S9,0,()=>L$,()=>U$],b1=[9,S,R9,0,()=>q$,()=>H$],T1=[9,S,I9,0,()=>B$,()=>j$],v1=[9,S,K9,0,()=>Y$,()=>X$],x1=[9,S,Z9,0,()=>Z$,()=>Nt],A1=[9,S,tY,0,()=>ek,()=>tk],I1=[9,S,sY,0,()=>rk,()=>Nt],P1=[9,S,oY,0,()=>nk,()=>Nt],D1=[9,S,cY,0,()=>sk,()=>ik],N1=[9,S,dY,0,()=>ok,()=>Nt],O1=[9,S,fY,0,()=>ak,()=>ck],$1=[9,S,gY,0,()=>lk,()=>uk],k1=[9,S,yY,0,()=>dk,()=>pk],M1=[9,S,CY,0,()=>fk,()=>mk],F1=[9,S,xY,0,()=>hk,()=>Nt],L1=[9,S,AY,0,()=>gk,()=>Sk],Yu=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CloneReceiptRuleSet",{}).n("SESClient","CloneReceiptRuleSetCommand").sc(Ck).build(){},Xu=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateConfigurationSet",{}).n("SESClient","CreateConfigurationSetCommand").sc(wk).build(){},Qu=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateConfigurationSetEventDestination",{}).n("SESClient","CreateConfigurationSetEventDestinationCommand").sc(bk).build(){},Ju=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateConfigurationSetTrackingOptions",{}).n("SESClient","CreateConfigurationSetTrackingOptionsCommand").sc(Tk).build(){},Zu=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateCustomVerificationEmailTemplate",{}).n("SESClient","CreateCustomVerificationEmailTemplateCommand").sc(vk).build(){},ed=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateReceiptFilter",{}).n("SESClient","CreateReceiptFilterCommand").sc(xk).build(){},td=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateReceiptRule",{}).n("SESClient","CreateReceiptRuleCommand").sc(Ak).build(){},rd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateReceiptRuleSet",{}).n("SESClient","CreateReceiptRuleSetCommand").sc(Ik).build(){},nd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateTemplate",{}).n("SESClient","CreateTemplateCommand").sc(Pk).build(){},sd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteConfigurationSet",{}).n("SESClient","DeleteConfigurationSetCommand").sc(Dk).build(){},id=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteConfigurationSetEventDestination",{}).n("SESClient","DeleteConfigurationSetEventDestinationCommand").sc(Nk).build(){},od=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteConfigurationSetTrackingOptions",{}).n("SESClient","DeleteConfigurationSetTrackingOptionsCommand").sc(Ok).build(){},ad=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteCustomVerificationEmailTemplate",{}).n("SESClient","DeleteCustomVerificationEmailTemplateCommand").sc($k).build(){},cd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteIdentity",{}).n("SESClient","DeleteIdentityCommand").sc(kk).build(){},ld=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteIdentityPolicy",{}).n("SESClient","DeleteIdentityPolicyCommand").sc(Mk).build(){},ud=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteReceiptFilter",{}).n("SESClient","DeleteReceiptFilterCommand").sc(Fk).build(){},dd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteReceiptRule",{}).n("SESClient","DeleteReceiptRuleCommand").sc(Lk).build(){},pd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteReceiptRuleSet",{}).n("SESClient","DeleteReceiptRuleSetCommand").sc(Uk).build(){},fd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteTemplate",{}).n("SESClient","DeleteTemplateCommand").sc(qk).build(){},md=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteVerifiedEmailAddress",{}).n("SESClient","DeleteVerifiedEmailAddressCommand").sc(Hk).build(){},hd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeActiveReceiptRuleSet",{}).n("SESClient","DescribeActiveReceiptRuleSetCommand").sc(Bk).build(){},gd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeConfigurationSet",{}).n("SESClient","DescribeConfigurationSetCommand").sc(jk).build(){},Sd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeReceiptRule",{}).n("SESClient","DescribeReceiptRuleCommand").sc(Vk).build(){},Ed=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeReceiptRuleSet",{}).n("SESClient","DescribeReceiptRuleSetCommand").sc(zk).build(){},yd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetAccountSendingEnabled",{}).n("SESClient","GetAccountSendingEnabledCommand").sc(Gk).build(){},Rd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetCustomVerificationEmailTemplate",{}).n("SESClient","GetCustomVerificationEmailTemplateCommand").sc(Wk).build(){},_d=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityDkimAttributes",{}).n("SESClient","GetIdentityDkimAttributesCommand").sc(Kk).build(){},Cd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityMailFromDomainAttributes",{}).n("SESClient","GetIdentityMailFromDomainAttributesCommand").sc(Yk).build(){},wd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityNotificationAttributes",{}).n("SESClient","GetIdentityNotificationAttributesCommand").sc(Xk).build(){},bd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityPolicies",{}).n("SESClient","GetIdentityPoliciesCommand").sc(Qk).build(){},No=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityVerificationAttributes",{}).n("SESClient","GetIdentityVerificationAttributesCommand").sc(Jk).build(){},Td=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetSendQuota",{}).n("SESClient","GetSendQuotaCommand").sc(Zk).build(){},vd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetSendStatistics",{}).n("SESClient","GetSendStatisticsCommand").sc(e1).build(){},xd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetTemplate",{}).n("SESClient","GetTemplateCommand").sc(t1).build(){},Ad=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListConfigurationSets",{}).n("SESClient","ListConfigurationSetsCommand").sc(r1).build(){},Oo=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListCustomVerificationEmailTemplates",{}).n("SESClient","ListCustomVerificationEmailTemplatesCommand").sc(n1).build(){},$o=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListIdentities",{}).n("SESClient","ListIdentitiesCommand").sc(s1).build(){},Id=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListIdentityPolicies",{}).n("SESClient","ListIdentityPoliciesCommand").sc(i1).build(){},Pd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListReceiptFilters",{}).n("SESClient","ListReceiptFiltersCommand").sc(o1).build(){},Dd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListReceiptRuleSets",{}).n("SESClient","ListReceiptRuleSetsCommand").sc(a1).build(){},Nd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListTemplates",{}).n("SESClient","ListTemplatesCommand").sc(c1).build(){},Od=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListVerifiedEmailAddresses",{}).n("SESClient","ListVerifiedEmailAddressesCommand").sc(l1).build(){},$d=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","PutConfigurationSetDeliveryOptions",{}).n("SESClient","PutConfigurationSetDeliveryOptionsCommand").sc(u1).build(){},kd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","PutIdentityPolicy",{}).n("SESClient","PutIdentityPolicyCommand").sc(d1).build(){},Md=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ReorderReceiptRuleSet",{}).n("SESClient","ReorderReceiptRuleSetCommand").sc(p1).build(){},Fd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendBounce",{}).n("SESClient","SendBounceCommand").sc(f1).build(){},Ld=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendBulkTemplatedEmail",{}).n("SESClient","SendBulkTemplatedEmailCommand").sc(m1).build(){},Ud=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendCustomVerificationEmail",{}).n("SESClient","SendCustomVerificationEmailCommand").sc(h1).build(){},qd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendEmail",{}).n("SESClient","SendEmailCommand").sc(g1).build(){},Hd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendRawEmail",{}).n("SESClient","SendRawEmailCommand").sc(S1).build(){},Bd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendTemplatedEmail",{}).n("SESClient","SendTemplatedEmailCommand").sc(E1).build(){},jd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetActiveReceiptRuleSet",{}).n("SESClient","SetActiveReceiptRuleSetCommand").sc(y1).build(){},Vd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityDkimEnabled",{}).n("SESClient","SetIdentityDkimEnabledCommand").sc(R1).build(){},zd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityFeedbackForwardingEnabled",{}).n("SESClient","SetIdentityFeedbackForwardingEnabledCommand").sc(_1).build(){},Gd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityHeadersInNotificationsEnabled",{}).n("SESClient","SetIdentityHeadersInNotificationsEnabledCommand").sc(C1).build(){},Wd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityMailFromDomain",{}).n("SESClient","SetIdentityMailFromDomainCommand").sc(w1).build(){},Kd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityNotificationTopic",{}).n("SESClient","SetIdentityNotificationTopicCommand").sc(b1).build(){},Yd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetReceiptRulePosition",{}).n("SESClient","SetReceiptRulePositionCommand").sc(T1).build(){},Xd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","TestRenderTemplate",{}).n("SESClient","TestRenderTemplateCommand").sc(v1).build(){},Qd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateAccountSendingEnabled",{}).n("SESClient","UpdateAccountSendingEnabledCommand").sc(x1).build(){},Jd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetEventDestination",{}).n("SESClient","UpdateConfigurationSetEventDestinationCommand").sc(A1).build(){},Zd=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetReputationMetricsEnabled",{}).n("SESClient","UpdateConfigurationSetReputationMetricsEnabledCommand").sc(I1).build(){},ep=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetSendingEnabled",{}).n("SESClient","UpdateConfigurationSetSendingEnabledCommand").sc(P1).build(){},tp=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetTrackingOptions",{}).n("SESClient","UpdateConfigurationSetTrackingOptionsCommand").sc(D1).build(){},rp=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateCustomVerificationEmailTemplate",{}).n("SESClient","UpdateCustomVerificationEmailTemplateCommand").sc(N1).build(){},np=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateReceiptRule",{}).n("SESClient","UpdateReceiptRuleCommand").sc(O1).build(){},sp=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateTemplate",{}).n("SESClient","UpdateTemplateCommand").sc($1).build(){},ip=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyDomainDkim",{}).n("SESClient","VerifyDomainDkimCommand").sc(k1).build(){},op=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyDomainIdentity",{}).n("SESClient","VerifyDomainIdentityCommand").sc(M1).build(){},ap=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyEmailAddress",{}).n("SESClient","VerifyEmailAddressCommand").sc(F1).build(){},cp=class extends $.Command.classBuilder().ep(M).m(function(t,r,n,s){return[k.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyEmailIdentity",{}).n("SESClient","VerifyEmailIdentityCommand").sc(L1).build(){},U1=Po.createPaginator(ei,Oo,"NextToken","NextToken","MaxResults"),q1=Po.createPaginator(ei,$o,"NextToken","NextToken","MaxItems"),H1=async(e,t)=>{let r;try{let n=await e.send(new No(t));r=n;try{let s=()=>Object.values(n.VerificationAttributes).map(a=>a.VerificationStatus),i=s().length>0;for(let o of s())i=i&&o=="Success";if(i)return{state:Do.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){r=n}return{state:Do.WaiterState.RETRY,reason:r}},KY=async(e,t)=>{let r={minDelay:3,maxDelay:120};return Do.createWaiter({...r,...e},t,H1)},B1=async(e,t)=>{let r={minDelay:3,maxDelay:120},n=await Do.createWaiter({...r,...e},t,H1);return Do.checkExceptions(n)},YY={CloneReceiptRuleSetCommand:Yu,CreateConfigurationSetCommand:Xu,CreateConfigurationSetEventDestinationCommand:Qu,CreateConfigurationSetTrackingOptionsCommand:Ju,CreateCustomVerificationEmailTemplateCommand:Zu,CreateReceiptFilterCommand:ed,CreateReceiptRuleCommand:td,CreateReceiptRuleSetCommand:rd,CreateTemplateCommand:nd,DeleteConfigurationSetCommand:sd,DeleteConfigurationSetEventDestinationCommand:id,DeleteConfigurationSetTrackingOptionsCommand:od,DeleteCustomVerificationEmailTemplateCommand:ad,DeleteIdentityCommand:cd,DeleteIdentityPolicyCommand:ld,DeleteReceiptFilterCommand:ud,DeleteReceiptRuleCommand:dd,DeleteReceiptRuleSetCommand:pd,DeleteTemplateCommand:fd,DeleteVerifiedEmailAddressCommand:md,DescribeActiveReceiptRuleSetCommand:hd,DescribeConfigurationSetCommand:gd,DescribeReceiptRuleCommand:Sd,DescribeReceiptRuleSetCommand:Ed,GetAccountSendingEnabledCommand:yd,GetCustomVerificationEmailTemplateCommand:Rd,GetIdentityDkimAttributesCommand:_d,GetIdentityMailFromDomainAttributesCommand:Cd,GetIdentityNotificationAttributesCommand:wd,GetIdentityPoliciesCommand:bd,GetIdentityVerificationAttributesCommand:No,GetSendQuotaCommand:Td,GetSendStatisticsCommand:vd,GetTemplateCommand:xd,ListConfigurationSetsCommand:Ad,ListCustomVerificationEmailTemplatesCommand:Oo,ListIdentitiesCommand:$o,ListIdentityPoliciesCommand:Id,ListReceiptFiltersCommand:Pd,ListReceiptRuleSetsCommand:Dd,ListTemplatesCommand:Nd,ListVerifiedEmailAddressesCommand:Od,PutConfigurationSetDeliveryOptionsCommand:$d,PutIdentityPolicyCommand:kd,ReorderReceiptRuleSetCommand:Md,SendBounceCommand:Fd,SendBulkTemplatedEmailCommand:Ld,SendCustomVerificationEmailCommand:Ud,SendEmailCommand:qd,SendRawEmailCommand:Hd,SendTemplatedEmailCommand:Bd,SetActiveReceiptRuleSetCommand:jd,SetIdentityDkimEnabledCommand:Vd,SetIdentityFeedbackForwardingEnabledCommand:zd,SetIdentityHeadersInNotificationsEnabledCommand:Gd,SetIdentityMailFromDomainCommand:Wd,SetIdentityNotificationTopicCommand:Kd,SetReceiptRulePositionCommand:Yd,TestRenderTemplateCommand:Xd,UpdateAccountSendingEnabledCommand:Qd,UpdateConfigurationSetEventDestinationCommand:Jd,UpdateConfigurationSetReputationMetricsEnabledCommand:Zd,UpdateConfigurationSetSendingEnabledCommand:ep,UpdateConfigurationSetTrackingOptionsCommand:tp,UpdateCustomVerificationEmailTemplateCommand:rp,UpdateReceiptRuleCommand:np,UpdateTemplateCommand:sp,VerifyDomainDkimCommand:ip,VerifyDomainIdentityCommand:op,VerifyEmailAddressCommand:ap,VerifyEmailIdentityCommand:cp},XY={paginateListCustomVerificationEmailTemplates:U1,paginateListIdentities:q1},QY={waitUntilIdentityExists:B1},lp=class extends ei{};$.createAggregatedClient(YY,lp,{paginators:XY,waiters:QY});var JY={RejectMessage:"RejectMessage",UseDefaultValue:"UseDefaultValue"},ZY={ContentRejected:"ContentRejected",DoesNotExist:"DoesNotExist",ExceededQuota:"ExceededQuota",MessageTooLarge:"MessageTooLarge",TemporaryFailure:"TemporaryFailure",Undefined:"Undefined"},eX={DELAYED:"delayed",DELIVERED:"delivered",EXPANDED:"expanded",FAILED:"failed",RELAYED:"relayed"},tX={AccountDailyQuotaExceeded:"AccountDailyQuotaExceeded",AccountSendingPaused:"AccountSendingPaused",AccountSuspended:"AccountSuspended",AccountThrottled:"AccountThrottled",ConfigurationSetDoesNotExist:"ConfigurationSetDoesNotExist",ConfigurationSetSendingPaused:"ConfigurationSetSendingPaused",Failed:"Failed",InvalidParameterValue:"InvalidParameterValue",InvalidSendingPoolName:"InvalidSendingPoolName",MailFromDomainNotVerified:"MailFromDomainNotVerified",MessageRejected:"MessageRejected",Success:"Success",TemplateDoesNotExist:"TemplateDoesNotExist",TransientFailure:"TransientFailure"},rX={EMAIL_HEADER:"emailHeader",LINK_TAG:"linkTag",MESSAGE_TAG:"messageTag"},nX={DELIVERY_OPTIONS:"deliveryOptions",EVENT_DESTINATIONS:"eventDestinations",REPUTATION_OPTIONS:"reputationOptions",TRACKING_OPTIONS:"trackingOptions"},sX={BOUNCE:"bounce",CLICK:"click",COMPLAINT:"complaint",DELIVERY:"delivery",OPEN:"open",REJECT:"reject",RENDERING_FAILURE:"renderingFailure",SEND:"send"},iX={Allow:"Allow",Block:"Block"},oX={Event:"Event",RequestResponse:"RequestResponse"},aX={Base64:"Base64",UTF8:"UTF-8"},cX={RULE_SET:"RuleSet"},lX={Optional:"Optional",Require:"Require"},uX={Failed:"Failed",Pending:"Pending",Success:"Success",TemporaryFailure:"TemporaryFailure"},dX={Failed:"Failed",NotStarted:"NotStarted",Pending:"Pending",Success:"Success",TemporaryFailure:"TemporaryFailure"},pX={Domain:"Domain",EmailAddress:"EmailAddress"},fX={Bounce:"Bounce",Complaint:"Complaint",Delivery:"Delivery"};Object.defineProperty(p,"$Command",{enumerable:!0,get:function(){return $.Command}});Object.defineProperty(p,"__Client",{enumerable:!0,get:function(){return $.Client}});p.AccountSendingPausedException=mu;p.AccountSendingPausedException$=UD;p.AddHeaderAction$=qD;p.AlreadyExistsException=hu;p.AlreadyExistsException$=HD;p.BehaviorOnMXFailure=JY;p.Body$=BD;p.BounceAction$=jD;p.BounceType=ZY;p.BouncedRecipientInfo$=VD;p.BulkEmailDestination$=zD;p.BulkEmailDestinationStatus$=GD;p.BulkEmailStatus=tX;p.CannotDeleteException=gu;p.CannotDeleteException$=WD;p.CloneReceiptRuleSet$=Ck;p.CloneReceiptRuleSetCommand=Yu;p.CloneReceiptRuleSetRequest$=KD;p.CloneReceiptRuleSetResponse$=YD;p.CloudWatchDestination$=XD;p.CloudWatchDimensionConfiguration$=QD;p.ConfigurationSet$=yp;p.ConfigurationSetAlreadyExistsException=yu;p.ConfigurationSetAlreadyExistsException$=JD;p.ConfigurationSetAttribute=nX;p.ConfigurationSetDoesNotExistException=Ru;p.ConfigurationSetDoesNotExistException$=ZD;p.ConfigurationSetSendingPausedException=_u;p.ConfigurationSetSendingPausedException$=eN;p.ConnectAction$=tN;p.Content$=Ku;p.CreateConfigurationSet$=wk;p.CreateConfigurationSetCommand=Xu;p.CreateConfigurationSetEventDestination$=bk;p.CreateConfigurationSetEventDestinationCommand=Qu;p.CreateConfigurationSetEventDestinationRequest$=rN;p.CreateConfigurationSetEventDestinationResponse$=nN;p.CreateConfigurationSetRequest$=sN;p.CreateConfigurationSetResponse$=iN;p.CreateConfigurationSetTrackingOptions$=Tk;p.CreateConfigurationSetTrackingOptionsCommand=Ju;p.CreateConfigurationSetTrackingOptionsRequest$=oN;p.CreateConfigurationSetTrackingOptionsResponse$=aN;p.CreateCustomVerificationEmailTemplate$=vk;p.CreateCustomVerificationEmailTemplateCommand=Zu;p.CreateCustomVerificationEmailTemplateRequest$=cN;p.CreateReceiptFilter$=xk;p.CreateReceiptFilterCommand=ed;p.CreateReceiptFilterRequest$=lN;p.CreateReceiptFilterResponse$=uN;p.CreateReceiptRule$=Ak;p.CreateReceiptRuleCommand=td;p.CreateReceiptRuleRequest$=dN;p.CreateReceiptRuleResponse$=pN;p.CreateReceiptRuleSet$=Ik;p.CreateReceiptRuleSetCommand=rd;p.CreateReceiptRuleSetRequest$=fN;p.CreateReceiptRuleSetResponse$=mN;p.CreateTemplate$=Pk;p.CreateTemplateCommand=nd;p.CreateTemplateRequest$=hN;p.CreateTemplateResponse$=gN;p.CustomMailFromStatus=uX;p.CustomVerificationEmailInvalidContentException=Iu;p.CustomVerificationEmailInvalidContentException$=SN;p.CustomVerificationEmailTemplate$=EN;p.CustomVerificationEmailTemplateAlreadyExistsException=Pu;p.CustomVerificationEmailTemplateAlreadyExistsException$=yN;p.CustomVerificationEmailTemplateDoesNotExistException=Fu;p.CustomVerificationEmailTemplateDoesNotExistException$=RN;p.DeleteConfigurationSet$=Dk;p.DeleteConfigurationSetCommand=sd;p.DeleteConfigurationSetEventDestination$=Nk;p.DeleteConfigurationSetEventDestinationCommand=id;p.DeleteConfigurationSetEventDestinationRequest$=_N;p.DeleteConfigurationSetEventDestinationResponse$=CN;p.DeleteConfigurationSetRequest$=wN;p.DeleteConfigurationSetResponse$=bN;p.DeleteConfigurationSetTrackingOptions$=Ok;p.DeleteConfigurationSetTrackingOptionsCommand=od;p.DeleteConfigurationSetTrackingOptionsRequest$=TN;p.DeleteConfigurationSetTrackingOptionsResponse$=vN;p.DeleteCustomVerificationEmailTemplate$=$k;p.DeleteCustomVerificationEmailTemplateCommand=ad;p.DeleteCustomVerificationEmailTemplateRequest$=xN;p.DeleteIdentity$=kk;p.DeleteIdentityCommand=cd;p.DeleteIdentityPolicy$=Mk;p.DeleteIdentityPolicyCommand=ld;p.DeleteIdentityPolicyRequest$=AN;p.DeleteIdentityPolicyResponse$=IN;p.DeleteIdentityRequest$=PN;p.DeleteIdentityResponse$=DN;p.DeleteReceiptFilter$=Fk;p.DeleteReceiptFilterCommand=ud;p.DeleteReceiptFilterRequest$=NN;p.DeleteReceiptFilterResponse$=ON;p.DeleteReceiptRule$=Lk;p.DeleteReceiptRuleCommand=dd;p.DeleteReceiptRuleRequest$=$N;p.DeleteReceiptRuleResponse$=kN;p.DeleteReceiptRuleSet$=Uk;p.DeleteReceiptRuleSetCommand=pd;p.DeleteReceiptRuleSetRequest$=MN;p.DeleteReceiptRuleSetResponse$=FN;p.DeleteTemplate$=qk;p.DeleteTemplateCommand=fd;p.DeleteTemplateRequest$=LN;p.DeleteTemplateResponse$=UN;p.DeleteVerifiedEmailAddress$=Hk;p.DeleteVerifiedEmailAddressCommand=md;p.DeleteVerifiedEmailAddressRequest$=qN;p.DeliveryOptions$=IS;p.DescribeActiveReceiptRuleSet$=Bk;p.DescribeActiveReceiptRuleSetCommand=hd;p.DescribeActiveReceiptRuleSetRequest$=HN;p.DescribeActiveReceiptRuleSetResponse$=BN;p.DescribeConfigurationSet$=jk;p.DescribeConfigurationSetCommand=gd;p.DescribeConfigurationSetRequest$=jN;p.DescribeConfigurationSetResponse$=VN;p.DescribeReceiptRule$=Vk;p.DescribeReceiptRuleCommand=Sd;p.DescribeReceiptRuleRequest$=zN;p.DescribeReceiptRuleResponse$=GN;p.DescribeReceiptRuleSet$=zk;p.DescribeReceiptRuleSetCommand=Ed;p.DescribeReceiptRuleSetRequest$=WN;p.DescribeReceiptRuleSetResponse$=KN;p.Destination$=Rp;p.DimensionValueSource=rX;p.DsnAction=eX;p.EventDestination$=_p;p.EventDestinationAlreadyExistsException=wu;p.EventDestinationAlreadyExistsException$=YN;p.EventDestinationDoesNotExistException=Lu;p.EventDestinationDoesNotExistException$=XN;p.EventType=sX;p.ExtensionField$=QN;p.FromEmailAddressNotVerifiedException=Du;p.FromEmailAddressNotVerifiedException$=JN;p.GetAccountSendingEnabled$=Gk;p.GetAccountSendingEnabledCommand=yd;p.GetAccountSendingEnabledResponse$=ZN;p.GetCustomVerificationEmailTemplate$=Wk;p.GetCustomVerificationEmailTemplateCommand=Rd;p.GetCustomVerificationEmailTemplateRequest$=eO;p.GetCustomVerificationEmailTemplateResponse$=tO;p.GetIdentityDkimAttributes$=Kk;p.GetIdentityDkimAttributesCommand=_d;p.GetIdentityDkimAttributesRequest$=rO;p.GetIdentityDkimAttributesResponse$=nO;p.GetIdentityMailFromDomainAttributes$=Yk;p.GetIdentityMailFromDomainAttributesCommand=Cd;p.GetIdentityMailFromDomainAttributesRequest$=sO;p.GetIdentityMailFromDomainAttributesResponse$=iO;p.GetIdentityNotificationAttributes$=Xk;p.GetIdentityNotificationAttributesCommand=wd;p.GetIdentityNotificationAttributesRequest$=oO;p.GetIdentityNotificationAttributesResponse$=aO;p.GetIdentityPolicies$=Qk;p.GetIdentityPoliciesCommand=bd;p.GetIdentityPoliciesRequest$=cO;p.GetIdentityPoliciesResponse$=lO;p.GetIdentityVerificationAttributes$=Jk;p.GetIdentityVerificationAttributesCommand=No;p.GetIdentityVerificationAttributesRequest$=uO;p.GetIdentityVerificationAttributesResponse$=dO;p.GetSendQuota$=Zk;p.GetSendQuotaCommand=Td;p.GetSendQuotaResponse$=pO;p.GetSendStatistics$=e1;p.GetSendStatisticsCommand=vd;p.GetSendStatisticsResponse$=fO;p.GetTemplate$=t1;p.GetTemplateCommand=xd;p.GetTemplateRequest$=mO;p.GetTemplateResponse$=hO;p.IdentityDkimAttributes$=gO;p.IdentityMailFromDomainAttributes$=SO;p.IdentityNotificationAttributes$=EO;p.IdentityType=pX;p.IdentityVerificationAttributes$=yO;p.InvalidCloudWatchDestinationException=bu;p.InvalidCloudWatchDestinationException$=RO;p.InvalidConfigurationSetException=Cu;p.InvalidConfigurationSetException$=_O;p.InvalidDeliveryOptionsException=Hu;p.InvalidDeliveryOptionsException$=CO;p.InvalidFirehoseDestinationException=Tu;p.InvalidFirehoseDestinationException$=wO;p.InvalidLambdaFunctionException=Nu;p.InvalidLambdaFunctionException$=bO;p.InvalidPolicyException=Bu;p.InvalidPolicyException$=TO;p.InvalidRenderingParameterException=ju;p.InvalidRenderingParameterException$=vO;p.InvalidS3ConfigurationException=Ou;p.InvalidS3ConfigurationException$=xO;p.InvalidSNSDestinationException=vu;p.InvalidSNSDestinationException$=AO;p.InvalidSnsTopicException=$u;p.InvalidSnsTopicException$=IO;p.InvalidTemplateException=Mu;p.InvalidTemplateException$=PO;p.InvalidTrackingOptionsException=xu;p.InvalidTrackingOptionsException$=DO;p.InvocationType=oX;p.KinesisFirehoseDestination$=NO;p.LambdaAction$=OO;p.LimitExceededException=Su;p.LimitExceededException$=$O;p.ListConfigurationSets$=r1;p.ListConfigurationSetsCommand=Ad;p.ListConfigurationSetsRequest$=kO;p.ListConfigurationSetsResponse$=MO;p.ListCustomVerificationEmailTemplates$=n1;p.ListCustomVerificationEmailTemplatesCommand=Oo;p.ListCustomVerificationEmailTemplatesRequest$=FO;p.ListCustomVerificationEmailTemplatesResponse$=LO;p.ListIdentities$=s1;p.ListIdentitiesCommand=$o;p.ListIdentitiesRequest$=UO;p.ListIdentitiesResponse$=qO;p.ListIdentityPolicies$=i1;p.ListIdentityPoliciesCommand=Id;p.ListIdentityPoliciesRequest$=HO;p.ListIdentityPoliciesResponse$=BO;p.ListReceiptFilters$=o1;p.ListReceiptFiltersCommand=Pd;p.ListReceiptFiltersRequest$=jO;p.ListReceiptFiltersResponse$=VO;p.ListReceiptRuleSets$=a1;p.ListReceiptRuleSetsCommand=Dd;p.ListReceiptRuleSetsRequest$=zO;p.ListReceiptRuleSetsResponse$=GO;p.ListTemplates$=c1;p.ListTemplatesCommand=Nd;p.ListTemplatesRequest$=WO;p.ListTemplatesResponse$=KO;p.ListVerifiedEmailAddresses$=l1;p.ListVerifiedEmailAddressesCommand=Od;p.ListVerifiedEmailAddressesResponse$=YO;p.MailFromDomainNotVerifiedException=Vu;p.MailFromDomainNotVerifiedException$=XO;p.Message$=QO;p.MessageDsn$=JO;p.MessageRejected=zu;p.MessageRejected$=ZO;p.MessageTag$=e$;p.MissingRenderingAttributeException=Gu;p.MissingRenderingAttributeException$=t$;p.NotificationType=fX;p.ProductionAccessNotGrantedException=Wu;p.ProductionAccessNotGrantedException$=r$;p.PutConfigurationSetDeliveryOptions$=u1;p.PutConfigurationSetDeliveryOptionsCommand=$d;p.PutConfigurationSetDeliveryOptionsRequest$=n$;p.PutConfigurationSetDeliveryOptionsResponse$=s$;p.PutIdentityPolicy$=d1;p.PutIdentityPolicyCommand=kd;p.PutIdentityPolicyRequest$=i$;p.PutIdentityPolicyResponse$=o$;p.RawMessage$=a$;p.ReceiptAction$=c$;p.ReceiptFilter$=PS;p.ReceiptFilterPolicy=iX;p.ReceiptIpFilter$=l$;p.ReceiptRule$=Fo;p.ReceiptRuleSetMetadata$=Cp;p.RecipientDsnFields$=u$;p.ReorderReceiptRuleSet$=p1;p.ReorderReceiptRuleSetCommand=Md;p.ReorderReceiptRuleSetRequest$=d$;p.ReorderReceiptRuleSetResponse$=p$;p.ReputationOptions$=f$;p.RuleDoesNotExistException=ku;p.RuleDoesNotExistException$=m$;p.RuleSetDoesNotExistException=Eu;p.RuleSetDoesNotExistException$=h$;p.S3Action$=g$;p.SES=lp;p.SESClient=ei;p.SESServiceException=Z;p.SESServiceException$=yk;p.SNSAction$=V$;p.SNSActionEncoding=aX;p.SNSDestination$=z$;p.SendBounce$=f1;p.SendBounceCommand=Fd;p.SendBounceRequest$=S$;p.SendBounceResponse$=E$;p.SendBulkTemplatedEmail$=m1;p.SendBulkTemplatedEmailCommand=Ld;p.SendBulkTemplatedEmailRequest$=y$;p.SendBulkTemplatedEmailResponse$=R$;p.SendCustomVerificationEmail$=h1;p.SendCustomVerificationEmailCommand=Ud;p.SendCustomVerificationEmailRequest$=_$;p.SendCustomVerificationEmailResponse$=C$;p.SendDataPoint$=w$;p.SendEmail$=g1;p.SendEmailCommand=qd;p.SendEmailRequest$=b$;p.SendEmailResponse$=T$;p.SendRawEmail$=S1;p.SendRawEmailCommand=Hd;p.SendRawEmailRequest$=v$;p.SendRawEmailResponse$=x$;p.SendTemplatedEmail$=E1;p.SendTemplatedEmailCommand=Bd;p.SendTemplatedEmailRequest$=A$;p.SendTemplatedEmailResponse$=I$;p.SetActiveReceiptRuleSet$=y1;p.SetActiveReceiptRuleSetCommand=jd;p.SetActiveReceiptRuleSetRequest$=P$;p.SetActiveReceiptRuleSetResponse$=D$;p.SetIdentityDkimEnabled$=R1;p.SetIdentityDkimEnabledCommand=Vd;p.SetIdentityDkimEnabledRequest$=N$;p.SetIdentityDkimEnabledResponse$=O$;p.SetIdentityFeedbackForwardingEnabled$=_1;p.SetIdentityFeedbackForwardingEnabledCommand=zd;p.SetIdentityFeedbackForwardingEnabledRequest$=$$;p.SetIdentityFeedbackForwardingEnabledResponse$=k$;p.SetIdentityHeadersInNotificationsEnabled$=C1;p.SetIdentityHeadersInNotificationsEnabledCommand=Gd;p.SetIdentityHeadersInNotificationsEnabledRequest$=M$;p.SetIdentityHeadersInNotificationsEnabledResponse$=F$;p.SetIdentityMailFromDomain$=w1;p.SetIdentityMailFromDomainCommand=Wd;p.SetIdentityMailFromDomainRequest$=L$;p.SetIdentityMailFromDomainResponse$=U$;p.SetIdentityNotificationTopic$=b1;p.SetIdentityNotificationTopicCommand=Kd;p.SetIdentityNotificationTopicRequest$=q$;p.SetIdentityNotificationTopicResponse$=H$;p.SetReceiptRulePosition$=T1;p.SetReceiptRulePositionCommand=Yd;p.SetReceiptRulePositionRequest$=B$;p.SetReceiptRulePositionResponse$=j$;p.StopAction$=G$;p.StopScope=cX;p.Template$=wp;p.TemplateDoesNotExistException=qu;p.TemplateDoesNotExistException$=W$;p.TemplateMetadata$=K$;p.TestRenderTemplate$=v1;p.TestRenderTemplateCommand=Xd;p.TestRenderTemplateRequest$=Y$;p.TestRenderTemplateResponse$=X$;p.TlsPolicy=lX;p.TrackingOptions$=bp;p.TrackingOptionsAlreadyExistsException=Au;p.TrackingOptionsAlreadyExistsException$=Q$;p.TrackingOptionsDoesNotExistException=Uu;p.TrackingOptionsDoesNotExistException$=J$;p.UpdateAccountSendingEnabled$=x1;p.UpdateAccountSendingEnabledCommand=Qd;p.UpdateAccountSendingEnabledRequest$=Z$;p.UpdateConfigurationSetEventDestination$=A1;p.UpdateConfigurationSetEventDestinationCommand=Jd;p.UpdateConfigurationSetEventDestinationRequest$=ek;p.UpdateConfigurationSetEventDestinationResponse$=tk;p.UpdateConfigurationSetReputationMetricsEnabled$=I1;p.UpdateConfigurationSetReputationMetricsEnabledCommand=Zd;p.UpdateConfigurationSetReputationMetricsEnabledRequest$=rk;p.UpdateConfigurationSetSendingEnabled$=P1;p.UpdateConfigurationSetSendingEnabledCommand=ep;p.UpdateConfigurationSetSendingEnabledRequest$=nk;p.UpdateConfigurationSetTrackingOptions$=D1;p.UpdateConfigurationSetTrackingOptionsCommand=tp;p.UpdateConfigurationSetTrackingOptionsRequest$=sk;p.UpdateConfigurationSetTrackingOptionsResponse$=ik;p.UpdateCustomVerificationEmailTemplate$=N1;p.UpdateCustomVerificationEmailTemplateCommand=rp;p.UpdateCustomVerificationEmailTemplateRequest$=ok;p.UpdateReceiptRule$=O1;p.UpdateReceiptRuleCommand=np;p.UpdateReceiptRuleRequest$=ak;p.UpdateReceiptRuleResponse$=ck;p.UpdateTemplate$=$1;p.UpdateTemplateCommand=sp;p.UpdateTemplateRequest$=lk;p.UpdateTemplateResponse$=uk;p.VerificationStatus=dX;p.VerifyDomainDkim$=k1;p.VerifyDomainDkimCommand=ip;p.VerifyDomainDkimRequest$=dk;p.VerifyDomainDkimResponse$=pk;p.VerifyDomainIdentity$=M1;p.VerifyDomainIdentityCommand=op;p.VerifyDomainIdentityRequest$=fk;p.VerifyDomainIdentityResponse$=mk;p.VerifyEmailAddress$=F1;p.VerifyEmailAddressCommand=ap;p.VerifyEmailAddressRequest$=hk;p.VerifyEmailIdentity$=L1;p.VerifyEmailIdentityCommand=cp;p.VerifyEmailIdentityRequest$=gk;p.VerifyEmailIdentityResponse$=Sk;p.WorkmailAction$=Ek;p.paginateListCustomVerificationEmailTemplates=U1;p.paginateListIdentities=q1;p.waitForIdentityExists=KY;p.waitUntilIdentityExists=B1});c();var Uo=b(j1(),1),V1=new Uo.SESClient({region:process.env.AWS_REGION||"eu-central-1"}),mX="blerim-geci@hotmail.com",z1=process.env.FROM_EMAIL||"noreply@yourdomain.com",Hde=async e=>{console.log("Received event:",JSON.stringify(e,null,2));for(let t of e.Records)if(t.eventName==="INSERT"&&t.dynamodb?.NewImage){let r=t.dynamodb.NewImage,n=r.name?.S||"Unknown",s=r.email?.S||"",i=r.subject?.S||"No Subject",o=r.message?.S||"",a=r.createdAt?.S||new Date().toISOString();if(!s){console.error("No email found in record");continue}try{await V1.send(new Uo.SendEmailCommand({Source:z1,Destination:{ToAddresses:[mX]},ReplyToAddresses:[s],Message:{Subject:{Data:`New Contact Form Message: ${i}`},Body:{Html:{Data:`
                    <h2>New Contact Form Submission</h2>
                    <p><strong>From:</strong> ${n}</p>
                    <p><strong>Email:</strong> ${s}</p>
                    <p><strong>Subject:</strong> ${i}</p>
                    <p><strong>Message:</strong></p>
                    <p>${o.replace(/\n/g,"<br>")}</p>
                    <hr>
                    <p><small>Received: ${new Date(a).toLocaleString("de-DE")}</small></p>
                  `},Text:{Data:`
New Contact Form Submission

From: ${n}
Email: ${s}
Subject: ${i}

Message:
${o}

---
Received: ${new Date(a).toLocaleString("de-DE")}
                  `}}}})),console.log(`Admin notification sent for ${s}`),await V1.send(new Uo.SendEmailCommand({Source:z1,Destination:{ToAddresses:[s]},Message:{Subject:{Data:"Wir haben Ihre Nachricht erhalten"},Body:{Html:{Data:`
                    <h2>Vielen Dank f\xFCr Ihre Anfrage!</h2>
                    <p>Hallo ${n},</p>
                    <p>Wir haben Ihre Nachricht erhalten und werden uns in K\xFCrze bei Ihnen melden.</p>
                    <p><strong>Ihre Anfrage:</strong></p>
                    <p><strong>Betreff:</strong> ${i}</p>
                    <p><strong>Nachricht:</strong> ${o.substring(0,200)}${o.length>200?"...":""}</p>
                    <hr>
                    <p>Wir melden uns in der Regel innerhalb von 24-48 Stunden.</p>
                    <p>Mit freundlichen Gr\xFC\xDFen,<br>BCHMS Rendsburg UG Team</p>
                  `},Text:{Data:`
Vielen Dank f\xFCr Ihre Anfrage!

Hallo ${n},

Wir haben Ihre Nachricht erhalten und werden uns in K\xFCrze bei Ihnen melden.

Ihre Anfrage:
Betreff: ${i}
Nachricht: ${o.substring(0,200)}${o.length>200?"...":""}

---
Wir melden uns in der Regel innerhalb von 24-48 Stunden.

Mit freundlichen Gr\xFC\xDFen,
BCHMS Rendsburg UG Team
                  `}}}})),console.log(`Confirmation email sent to ${s}`)}catch(l){console.error("Error sending emails:",l)}}return{statusCode:200,body:"Processed"}};export{Hde as handler};
//# sourceMappingURL=index.mjs.map
